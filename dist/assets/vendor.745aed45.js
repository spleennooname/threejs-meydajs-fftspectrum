function qt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function go(u,e){u.prototype=Object.create(e.prototype),u.prototype.constructor=u,u.__proto__=e}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ct={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Qe={duration:.5,overwrite:!1,delay:0},kr,Vt=1e8,Y=1/Vt,pr=Math.PI*2,sh=pr/4,oh=0,wo=Math.sqrt,ah=Math.cos,lh=Math.sin,rt=function(e){return typeof e=="string"},it=function(e){return typeof e=="function"},Xt=function(e){return typeof e=="number"},Sr=function(e){return typeof e=="undefined"},Wt=function(e){return typeof e=="object"},mt=function(e){return e!==!1},yo=function(){return typeof window!="undefined"},ni=function(e){return it(e)||rt(e)},xo=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ut=Array.isArray,dr=/(?:-?\.?\d|\.)+/gi,Co=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,He=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Po=/[+-]=-?[.\d]+/,Eo=/[^,'"\[\]\s]+/gi,uh=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Z,Ft,fr,Vr,Pt={},ai={},ko,So=function(e){return(ai=Oe(e,Pt))&&Lt},Tr=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},li=function(e,n){return!n&&console.warn(e)},Vo=function(e,n){return e&&(Pt[e]=n)&&ai&&(ai[e]=n)||Pt},Mn=function(){return 0},Ar={},ce=[],vr={},To,yt={},ir={},Xs=30,si=[],Mr="",Or=function(e){var n=e[0],s,o;if(Wt(n)||it(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(o=si.length;o--&&!si[o].targetTest(n););s=si[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new Qo(e[o],s)))||e.splice(o,1);return e},Te=function(e){return e._gsap||Or(Tt(e))[0]._gsap},Ao=function(e,n,s){return(s=e[n])&&it(s)?e[n]():Sr(s)&&e.getAttribute&&e.getAttribute(n)||s},_t=function(e,n){return(e=e.split(",")).forEach(n)||e},et=function(e){return Math.round(e*1e5)/1e5||0},at=function(e){return Math.round(e*1e7)/1e7||0},Ye=function(e,n){var s=n.charAt(0),o=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+o:s==="-"?e-o:s==="*"?e*o:e/o},ch=function(e,n){for(var s=n.length,o=0;e.indexOf(n[o])<0&&++o<s;);return o<s},ui=function(){var e=ce.length,n=ce.slice(0),s,o;for(vr={},ce.length=0,s=0;s<e;s++)o=n[s],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Mo=function(e,n,s,o){ce.length&&ui(),e.render(n,s,o),ce.length&&ui()},Oo=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Eo).length<2?n:rt(e)?e.trim():e},Lo=function(e){return e},Mt=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},hh=function(e){return function(n,s){for(var o in s)o in n||o==="duration"&&e||o==="ease"||(n[o]=s[o])}},Oe=function(e,n){for(var s in n)e[s]=n[s];return e},Ws=function u(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Wt(n[s])?u(e[s]||(e[s]={}),n[s]):n[s]);return e},ci=function(e,n){var s={},o;for(o in e)o in n||(s[o]=e[o]);return s},Sn=function(e){var n=e.parent||Z,s=e.keyframes?hh(ut(e.keyframes)):Mt;if(mt(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},ph=function(e,n){for(var s=e.length,o=s===n.length;o&&s--&&e[s]===n[s];);return s<0},Do=function(e,n,s,o,l){s===void 0&&(s="_first"),o===void 0&&(o="_last");var c=e[o],h;if(l)for(h=n[l];c&&c[l]>h;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[o]=n,n._prev=c,n.parent=n._dp=e,n},bi=function(e,n,s,o){s===void 0&&(s="_first"),o===void 0&&(o="_last");var l=n._prev,c=n._next;l?l._next=c:e[s]===n&&(e[s]=c),c?c._prev=l:e[o]===n&&(e[o]=l),n._next=n._prev=n.parent=null},Yt=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Ae=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},dh=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},fh=function u(e){return!e||e._ts&&u(e.parent)},Qs=function(e){return e._repeat?Ze(e._tTime,e=e.duration()+e._rDelay)*e:0},Ze=function(e,n){var s=Math.floor(e/=n);return e&&s===e?s-1:s},hi=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},gi=function(e){return e._end=at(e._start+(e._tDur/Math.abs(e._ts||e._rts||Y)||0))},Lr=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=at(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),gi(e),s._dirty||Ae(s,e)),e},Ro=function(e,n){var s;if((n._time||n._initted&&!n._dur)&&(s=hi(e.rawTime(),n),(!n._dur||Bn(0,n.totalDuration(),s)-n._tTime>Y)&&n.render(s,!0)),Ae(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-Y}},Ut=function(e,n,s,o){return n.parent&&Yt(n),n._start=at((Xt(s)?s:s||e!==Z?St(e,s,n):e._time)+n._delay),n._end=at(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Do(e,n,"_first","_last",e._sort?"_start":0),mr(n)||(e._recent=n),o||Ro(e,n),e},Io=function(e,n){return(Pt.ScrollTrigger||Tr("scrollTrigger",n))&&Pt.ScrollTrigger.create(n,e)},No=function(e,n,s,o){if(Rr(e,n),!e._initted)return 1;if(!s&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&To!==xt.frame)return ce.push(e),e._lazy=[n,o],1},vh=function u(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||u(n))},mr=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},mh=function(e,n,s,o){var l=e.ratio,c=n<0||!n&&(!e._start&&vh(e)&&!(!e._initted&&mr(e))||(e._ts<0||e._dp._ts<0)&&!mr(e))?0:1,h=e._rDelay,f=0,d,v,g;if(h&&e._repeat&&(f=Bn(0,e._tDur,n),v=Ze(f,h),e._yoyo&&v&1&&(c=1-c),v!==Ze(e._tTime,h)&&(l=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==l||o||e._zTime===Y||!n&&e._zTime){if(!e._initted&&No(e,n,o,s))return;for(g=e._zTime,e._zTime=n||(s?Y:0),s||(s=n&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=f,d=e._pt;d;)d.r(c,d.d),d=d._next;e._startAt&&n<0&&e._startAt.render(n,!0,!0),e._onUpdate&&!s&&At(e,"onUpdate"),f&&e._repeat&&!s&&e.parent&&At(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===c&&(c&&Yt(e,1),s||(At(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},_h=function(e,n,s){var o;if(s>n)for(o=e._first;o&&o._start<=s;){if(o.data==="isPause"&&o._start>n)return o;o=o._next}else for(o=e._last;o&&o._start>=s;){if(o.data==="isPause"&&o._start<n)return o;o=o._prev}},Je=function(e,n,s,o){var l=e._repeat,c=at(n)||0,h=e._tTime/e._tDur;return h&&!o&&(e._time*=c/e._dur),e._dur=c,e._tDur=l?l<0?1e10:at(c*(l+1)+e._rDelay*l):c,h>0&&!o?Lr(e,e._tTime=e._tDur*h):e.parent&&gi(e),s||Ae(e.parent,e),e},Zs=function(e){return e instanceof vt?Ae(e):Je(e,e._dur)},bh={_start:0,endTime:Mn,totalDuration:Mn},St=function u(e,n,s){var o=e.labels,l=e._recent||bh,c=e.duration()>=Vt?l.endTime(!1):e._dur,h,f,d;return rt(n)&&(isNaN(n)||n in o)?(f=n.charAt(0),d=n.substr(-1)==="%",h=n.indexOf("="),f==="<"||f===">"?(h>=0&&(n=n.replace(/=/,"")),(f==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(h<0?l:s).totalDuration()/100:1)):h<0?(n in o||(o[n]=c),o[n]):(f=parseFloat(n.charAt(h-1)+n.substr(h+1)),d&&s&&(f=f/100*(ut(s)?s[0]:s).totalDuration()),h>1?u(e,n.substr(0,h-1),s)+f:c+f)):n==null?c:+n},Vn=function(e,n,s){var o=Xt(n[1]),l=(o?2:1)+(e<2?0:1),c=n[l],h,f;if(o&&(c.duration=n[1]),c.parent=s,e){for(h=c,f=s;f&&!("immediateRender"in h);)h=f.vars.defaults||{},f=mt(f.vars.inherit)&&f.parent;c.immediateRender=mt(h.immediateRender),e<2?c.runBackwards=1:c.startAt=n[l-1]}return new nt(n[0],c,n[l+1])},me=function(e,n){return e||e===0?n(e):n},Bn=function(e,n,s){return s<e?e:s>n?n:s},lt=function(e,n){return!rt(e)||!(n=uh.exec(e))?"":n[1]},gh=function(e,n,s){return me(s,function(o){return Bn(e,n,o)})},_r=[].slice,Bo=function(e,n){return e&&Wt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Wt(e[0]))&&!e.nodeType&&e!==Ft},wh=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(o){var l;return rt(o)&&!n||Bo(o,1)?(l=s).push.apply(l,Tt(o)):s.push(o)})||s},Tt=function(e,n,s){return rt(e)&&!s&&(fr||!tn())?_r.call((n||Vr).querySelectorAll(e),0):ut(e)?wh(e,s):Bo(e)?_r.call(e,0):e?[e]:[]},yh=function(e){return e=Tt(e)[0]||li("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return Tt(n,s.querySelectorAll?s:s===e?li("Invalid scope")||Vr.createElement("div"):e)}},Fo=function(e){return e.sort(function(){return .5-Math.random()})},Uo=function(e){if(it(e))return e;var n=Wt(e)?e:{each:e},s=Me(n.ease),o=n.from||0,l=parseFloat(n.base)||0,c={},h=o>0&&o<1,f=isNaN(o)||h,d=n.axis,v=o,g=o;return rt(o)?v=g={center:.5,edges:.5,end:1}[o]||0:!h&&f&&(v=o[0],g=o[1]),function(w,m,C){var b=(C||n).length,x=c[b],E,P,k,A,S,V,L,O,M;if(!x){if(M=n.grid==="auto"?0:(n.grid||[1,Vt])[1],!M){for(L=-Vt;L<(L=C[M++].getBoundingClientRect().left)&&M<b;);M--}for(x=c[b]=[],E=f?Math.min(M,b)*v-.5:o%M,P=M===Vt?0:f?b*g/M-.5:o/M|0,L=0,O=Vt,V=0;V<b;V++)k=V%M-E,A=P-(V/M|0),x[V]=S=d?Math.abs(d==="y"?A:k):wo(k*k+A*A),S>L&&(L=S),S<O&&(O=S);o==="random"&&Fo(x),x.max=L-O,x.min=O,x.v=b=(parseFloat(n.amount)||parseFloat(n.each)*(M>b?b-1:d?d==="y"?b/M:M:Math.max(M,b/M))||0)*(o==="edges"?-1:1),x.b=b<0?l-b:l,x.u=lt(n.amount||n.each)||0,s=s&&b<0?Go(s):s}return b=(x[w]-x.min)/x.max||0,at(x.b+(s?s(b):b)*x.v)+x.u}},br=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var o=Math.round(parseFloat(s)/e)*e*n;return(o-o%1)/n+(Xt(s)?0:lt(s))}},zo=function(e,n){var s=ut(e),o,l;return!s&&Wt(e)&&(o=s=e.radius||Vt,e.values?(e=Tt(e.values),(l=!Xt(e[0]))&&(o*=o)):e=br(e.increment)),me(n,s?it(e)?function(c){return l=e(c),Math.abs(l-c)<=o?l:c}:function(c){for(var h=parseFloat(l?c.x:c),f=parseFloat(l?c.y:0),d=Vt,v=0,g=e.length,w,m;g--;)l?(w=e[g].x-h,m=e[g].y-f,w=w*w+m*m):w=Math.abs(e[g]-h),w<d&&(d=w,v=g);return v=!o||d<=o?e[v]:c,l||v===c||Xt(c)?v:v+lt(c)}:br(e))},jo=function(e,n,s,o){return me(ut(e)?!n:s===!0?!!(s=0):!o,function(){return ut(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(o=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*o)/o})},xh=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(o){return n.reduce(function(l,c){return c(l)},o)}},Ch=function(e,n){return function(s){return e(parseFloat(s))+(n||lt(s))}},Ph=function(e,n,s){return $o(e,n,0,1,s)},Ko=function(e,n,s){return me(s,function(o){return e[~~n(o)]})},Eh=function u(e,n,s){var o=n-e;return ut(e)?Ko(e,u(0,e.length),n):me(s,function(l){return(o+(l-e)%o)%o+e})},kh=function u(e,n,s){var o=n-e,l=o*2;return ut(e)?Ko(e,u(0,e.length-1),n):me(s,function(c){return c=(l+(c-e)%l)%l||0,e+(c>o?l-c:c)})},On=function(e){for(var n=0,s="",o,l,c,h;~(o=e.indexOf("random(",n));)c=e.indexOf(")",o),h=e.charAt(o+7)==="[",l=e.substr(o+7,c-o-7).match(h?Eo:dr),s+=e.substr(n,o-n)+jo(h?l:+l[0],h?0:+l[1],+l[2]||1e-5),n=c+1;return s+e.substr(n,e.length-n)},$o=function(e,n,s,o,l){var c=n-e,h=o-s;return me(l,function(f){return s+((f-e)/c*h||0)})},Sh=function u(e,n,s,o){var l=isNaN(e+n)?0:function(m){return(1-m)*e+m*n};if(!l){var c=rt(e),h={},f,d,v,g,w;if(s===!0&&(o=1)&&(s=null),c)e={p:e},n={p:n};else if(ut(e)&&!ut(n)){for(v=[],g=e.length,w=g-2,d=1;d<g;d++)v.push(u(e[d-1],e[d]));g--,l=function(C){C*=g;var b=Math.min(w,~~C);return v[b](C-b)},s=n}else o||(e=Oe(ut(e)?[]:{},e));if(!v){for(f in n)Dr.call(h,e,f,"get",n[f]);l=function(C){return Br(C,h)||(c?e.p:e)}}}return me(s,l)},Js=function(e,n,s){var o=e.labels,l=Vt,c,h,f;for(c in o)h=o[c]-n,h<0==!!s&&h&&l>(h=Math.abs(h))&&(f=c,l=h);return f},At=function(e,n,s){var o=e.vars,l=o[n],c,h;if(!!l)return c=o[n+"Params"],h=o.callbackScope||e,s&&ce.length&&ui(),c?l.apply(h,c):l.call(h)},En=function(e){return Yt(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&At(e,"onInterrupt"),e},qe,Vh=function(e){e=!e.name&&e.default||e;var n=e.name,s=it(e),o=n&&!s&&e.init?function(){this._props=[]}:e,l={init:Mn,render:Br,add:Dr,kill:$h,modifier:Kh,rawVars:0},c={targetTest:0,get:0,getSetter:Nr,aliases:{},register:0};if(tn(),e!==o){if(yt[n])return;Mt(o,Mt(ci(e,l),c)),Oe(o.prototype,Oe(l,ci(e,c))),yt[o.prop=n]=o,e.targetTest&&(si.push(o),Ar[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Vo(n,o),e.register&&e.register(Lt,o,bt)},q=255,kn={aqua:[0,q,q],lime:[0,q,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,q],navy:[0,0,128],white:[q,q,q],olive:[128,128,0],yellow:[q,q,0],orange:[q,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[q,0,0],pink:[q,192,203],cyan:[0,q,q],transparent:[q,q,q,0]},rr=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*q+.5|0},Ho=function(e,n,s){var o=e?Xt(e)?[e>>16,e>>8&q,e&q]:0:kn.black,l,c,h,f,d,v,g,w,m,C;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),kn[e])o=kn[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),c=e.charAt(2),h=e.charAt(3),e="#"+l+l+c+c+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&q,o&q,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&q,e&q]}else if(e.substr(0,3)==="hsl"){if(o=C=e.match(dr),!n)f=+o[0]%360/360,d=+o[1]/100,v=+o[2]/100,c=v<=.5?v*(d+1):v+d-v*d,l=v*2-c,o.length>3&&(o[3]*=1),o[0]=rr(f+1/3,l,c),o[1]=rr(f,l,c),o[2]=rr(f-1/3,l,c);else if(~e.indexOf("="))return o=e.match(Co),s&&o.length<4&&(o[3]=1),o}else o=e.match(dr)||kn.transparent;o=o.map(Number)}return n&&!C&&(l=o[0]/q,c=o[1]/q,h=o[2]/q,g=Math.max(l,c,h),w=Math.min(l,c,h),v=(g+w)/2,g===w?f=d=0:(m=g-w,d=v>.5?m/(2-g-w):m/(g+w),f=g===l?(c-h)/m+(c<h?6:0):g===c?(h-l)/m+2:(l-c)/m+4,f*=60),o[0]=~~(f+.5),o[1]=~~(d*100+.5),o[2]=~~(v*100+.5)),s&&o.length<4&&(o[3]=1),o},qo=function(e){var n=[],s=[],o=-1;return e.split(he).forEach(function(l){var c=l.match(He)||[];n.push.apply(n,c),s.push(o+=c.length+1)}),n.c=s,n},to=function(e,n,s){var o="",l=(e+o).match(he),c=n?"hsla(":"rgba(",h=0,f,d,v,g;if(!l)return e;if(l=l.map(function(w){return(w=Ho(w,n,1))&&c+(n?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),s&&(v=qo(e),f=s.c,f.join(o)!==v.c.join(o)))for(d=e.replace(he,"1").split(He),g=d.length-1;h<g;h++)o+=d[h]+(~f.indexOf(h)?l.shift()||c+"0,0,0,0)":(v.length?v:l.length?l:s).shift());if(!d)for(d=e.split(he),g=d.length-1;h<g;h++)o+=d[h]+l[h];return o+d[g]},he=function(){var u="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in kn)u+="|"+e+"\\b";return new RegExp(u+")","gi")}(),Th=/hsl[a]?\(/,Yo=function(e){var n=e.join(" "),s;if(he.lastIndex=0,he.test(n))return s=Th.test(n),e[1]=to(e[1],s),e[0]=to(e[0],s,qo(e[1])),!0},Ln,xt=function(){var u=Date.now,e=500,n=33,s=u(),o=s,l=1e3/240,c=l,h=[],f,d,v,g,w,m,C=function b(x){var E=u()-o,P=x===!0,k,A,S,V;if(E>e&&(s+=E-n),o+=E,S=o-s,k=S-c,(k>0||P)&&(V=++g.frame,w=S-g.time*1e3,g.time=S=S/1e3,c+=k+(k>=l?4:l-k),A=1),P||(f=d(b)),A)for(m=0;m<h.length;m++)h[m](S,w,V,x)};return g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(x){return w/(1e3/(x||60))},wake:function(){ko&&(!fr&&yo()&&(Ft=fr=window,Vr=Ft.document||{},Pt.gsap=Lt,(Ft.gsapVersions||(Ft.gsapVersions=[])).push(Lt.version),So(ai||Ft.GreenSockGlobals||!Ft.gsap&&Ft||{}),v=Ft.requestAnimationFrame),f&&g.sleep(),d=v||function(x){return setTimeout(x,c-g.time*1e3+1|0)},Ln=1,C(2))},sleep:function(){(v?Ft.cancelAnimationFrame:clearTimeout)(f),Ln=0,d=Mn},lagSmoothing:function(x,E){e=x||1/Y,n=Math.min(E,e,0)},fps:function(x){l=1e3/(x||240),c=g.time*1e3+l},add:function(x,E,P){var k=E?function(A,S,V,L){x(A,S,V,L),g.remove(k)}:x;return g.remove(x),h[P?"unshift":"push"](k),tn(),k},remove:function(x,E){~(E=h.indexOf(x))&&h.splice(E,1)&&m>=E&&m--},_listeners:h},g}(),tn=function(){return!Ln&&xt.wake()},U={},Ah=/^[\d.\-M][\d.\-,\s]/,Mh=/["']/g,Oh=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),o=s[0],l=1,c=s.length,h,f,d;l<c;l++)f=s[l],h=l!==c-1?f.lastIndexOf(","):f.length,d=f.substr(0,h),n[o]=isNaN(d)?d.replace(Mh,"").trim():+d,o=f.substr(h+1).trim();return n},Lh=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),o=e.indexOf("(",n);return e.substring(n,~o&&o<s?e.indexOf(")",s+1):s)},Dh=function(e){var n=(e+"").split("("),s=U[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[Oh(n[1])]:Lh(e).split(",").map(Oo)):U._CE&&Ah.test(e)?U._CE("",e):s},Go=function(e){return function(n){return 1-e(1-n)}},Xo=function u(e,n){for(var s=e._first,o;s;)s instanceof vt?u(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?u(s.timeline,n):(o=s._ease,s._ease=s._yEase,s._yEase=o,s._yoyo=n)),s=s._next},Me=function(e,n){return e&&(it(e)?e:U[e]||Dh(e))||n},Le=function(e,n,s,o){s===void 0&&(s=function(f){return 1-n(1-f)}),o===void 0&&(o=function(f){return f<.5?n(f*2)/2:1-n((1-f)*2)/2});var l={easeIn:n,easeOut:s,easeInOut:o},c;return _t(e,function(h){U[h]=Pt[h]=l,U[c=h.toLowerCase()]=s;for(var f in l)U[c+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=U[h+"."+f]=l[f]}),l},Wo=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},sr=function u(e,n,s){var o=n>=1?n:1,l=(s||(e?.3:.45))/(n<1?n:1),c=l/pr*(Math.asin(1/o)||0),h=function(v){return v===1?1:o*Math.pow(2,-10*v)*lh((v-c)*l)+1},f=e==="out"?h:e==="in"?function(d){return 1-h(1-d)}:Wo(h);return l=pr/l,f.config=function(d,v){return u(e,d,v)},f},or=function u(e,n){n===void 0&&(n=1.70158);var s=function(c){return c?--c*c*((n+1)*c+n)+1:0},o=e==="out"?s:e==="in"?function(l){return 1-s(1-l)}:Wo(s);return o.config=function(l){return u(e,l)},o};_t("Linear,Quad,Cubic,Quart,Quint,Strong",function(u,e){var n=e<5?e+1:e;Le(u+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});U.Linear.easeNone=U.none=U.Linear.easeIn;Le("Elastic",sr("in"),sr("out"),sr());(function(u,e){var n=1/e,s=2*n,o=2.5*n,l=function(h){return h<n?u*h*h:h<s?u*Math.pow(h-1.5/e,2)+.75:h<o?u*(h-=2.25/e)*h+.9375:u*Math.pow(h-2.625/e,2)+.984375};Le("Bounce",function(c){return 1-l(1-c)},l)})(7.5625,2.75);Le("Expo",function(u){return u?Math.pow(2,10*(u-1)):0});Le("Circ",function(u){return-(wo(1-u*u)-1)});Le("Sine",function(u){return u===1?1:-ah(u*sh)+1});Le("Back",or("in"),or("out"),or());U.SteppedEase=U.steps=Pt.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,o=e+(n?0:1),l=n?1:0,c=1-Y;return function(h){return((o*Bn(0,c,h)|0)+l)*s}}};Qe.ease=U["quad.out"];_t("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(u){return Mr+=u+","+u+"Params,"});var Qo=function(e,n){this.id=oh++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Ao,this.set=n?n.getSetter:Nr},Dn=function(){function u(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Je(this,+n.duration,1,1),this.data=n.data,Ln||xt.wake()}var e=u.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,Je(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,o){if(tn(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Lr(this,s),!l._dp||l.parent||Ro(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Ut(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Y||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),Mo(this,s,o)),this},e.time=function(s,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Qs(this))%(this._dur+this._rDelay)||(s?this._dur:0),o):this._time},e.totalProgress=function(s,o){return arguments.length?this.totalTime(this.totalDuration()*s,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(s,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Qs(this),o):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(s,o){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*l,o):this._repeat?Ze(this._tTime,l)+1:1},e.timeScale=function(s){if(!arguments.length)return this._rts===-Y?0:this._rts;if(this._rts===s)return this;var o=this.parent&&this._ts?hi(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-Y?0:this._rts,this.totalTime(Bn(-this._delay,this._tDur,o),!0),gi(this),dh(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(tn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Y&&(this._tTime-=Y)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Ut(o,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(mt(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var o=this.parent||this._dp;return o?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?hi(o.rawTime(s),this):this._tTime:this._tTime},e.globalTime=function(s){for(var o=this,l=arguments.length?s:o.rawTime();o;)l=o._start+l/(o._ts||1),o=o._dp;return l},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Zs(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var o=this._time;return this._rDelay=s,Zs(this),o?this.time(o):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,o){return this.totalTime(St(this,s),mt(o))},e.restart=function(s,o){return this.play().totalTime(s?-this._delay:0,mt(o))},e.play=function(s,o){return s!=null&&this.seek(s,o),this.reversed(!1).paused(!1)},e.reverse=function(s,o){return s!=null&&this.seek(s||this.totalDuration(),o),this.reversed(!0).paused(!1)},e.pause=function(s,o){return s!=null&&this.seek(s,o),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-Y:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Y,this},e.isActive=function(){var s=this.parent||this._dp,o=this._start,l;return!!(!s||this._ts&&this._initted&&s.isActive()&&(l=s.rawTime(!0))>=o&&l<this.endTime(!0)-Y)},e.eventCallback=function(s,o,l){var c=this.vars;return arguments.length>1?(o?(c[s]=o,l&&(c[s+"Params"]=l),s==="onUpdate"&&(this._onUpdate=o)):delete c[s],this):c[s]},e.then=function(s){var o=this;return new Promise(function(l){var c=it(s)?s:Lo,h=function(){var d=o.then;o.then=null,it(c)&&(c=c(o))&&(c.then||c===o)&&(o.then=d),l(c),o.then=d};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?h():o._prom=h})},e.kill=function(){En(this)},u}();Mt(Dn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Y,_prom:0,_ps:!1,_rts:1});var vt=function(u){go(e,u);function e(s,o){var l;return s===void 0&&(s={}),l=u.call(this,s)||this,l.labels={},l.smoothChildTiming=!!s.smoothChildTiming,l.autoRemoveChildren=!!s.autoRemoveChildren,l._sort=mt(s.sortChildren),Z&&Ut(s.parent||Z,qt(l),o),s.reversed&&l.reverse(),s.paused&&l.paused(!0),s.scrollTrigger&&Io(qt(l),s.scrollTrigger),l}var n=e.prototype;return n.to=function(o,l,c){return Vn(0,arguments,this),this},n.from=function(o,l,c){return Vn(1,arguments,this),this},n.fromTo=function(o,l,c,h){return Vn(2,arguments,this),this},n.set=function(o,l,c){return l.duration=0,l.parent=this,Sn(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new nt(o,l,St(this,c),1),this},n.call=function(o,l,c){return Ut(this,nt.delayedCall(0,o,l),c)},n.staggerTo=function(o,l,c,h,f,d,v){return c.duration=l,c.stagger=c.stagger||h,c.onComplete=d,c.onCompleteParams=v,c.parent=this,new nt(o,c,St(this,f)),this},n.staggerFrom=function(o,l,c,h,f,d,v){return c.runBackwards=1,Sn(c).immediateRender=mt(c.immediateRender),this.staggerTo(o,l,c,h,f,d,v)},n.staggerFromTo=function(o,l,c,h,f,d,v,g){return h.startAt=c,Sn(h).immediateRender=mt(h.immediateRender),this.staggerTo(o,l,h,f,d,v,g)},n.render=function(o,l,c){var h=this._time,f=this._dirty?this.totalDuration():this._tDur,d=this._dur,v=o<=0?0:at(o),g=this._zTime<0!=o<0&&(this._initted||!d),w,m,C,b,x,E,P,k,A,S,V,L;if(this!==Z&&v>f&&o>=0&&(v=f),v!==this._tTime||c||g){if(h!==this._time&&d&&(v+=this._time-h,o+=this._time-h),w=v,A=this._start,k=this._ts,E=!k,g&&(d||(h=this._zTime),(o||!l)&&(this._zTime=o)),this._repeat){if(V=this._yoyo,x=d+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(x*100+o,l,c);if(w=at(v%x),v===f?(b=this._repeat,w=d):(b=~~(v/x),b&&b===v/x&&(w=d,b--),w>d&&(w=d)),S=Ze(this._tTime,x),!h&&this._tTime&&S!==b&&(S=b),V&&b&1&&(w=d-w,L=1),b!==S&&!this._lock){var O=V&&S&1,M=O===(V&&b&1);if(b<S&&(O=!O),h=O?0:d,this._lock=1,this.render(h||(L?0:at(b*x)),l,!d)._lock=0,this._tTime=v,!l&&this.parent&&At(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),h&&h!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,f=this._tDur,M&&(this._lock=2,h=O?d:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;Xo(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=_h(this,at(h),at(w)),P&&(v-=w-(w=P._start))),this._tTime=v,this._time=w,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,h=0),!h&&w&&!l&&(At(this,"onStart"),this._tTime!==v))return this;if(w>=h&&o>=0)for(m=this._first;m;){if(C=m._next,(m._act||w>=m._start)&&m._ts&&P!==m){if(m.parent!==this)return this.render(o,l,c);if(m.render(m._ts>0?(w-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(w-m._start)*m._ts,l,c),w!==this._time||!this._ts&&!E){P=0,C&&(v+=this._zTime=-Y);break}}m=C}else{m=this._last;for(var N=o<0?o:w;m;){if(C=m._prev,(m._act||N<=m._end)&&m._ts&&P!==m){if(m.parent!==this)return this.render(o,l,c);if(m.render(m._ts>0?(N-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(N-m._start)*m._ts,l,c),w!==this._time||!this._ts&&!E){P=0,C&&(v+=this._zTime=N?-Y:Y);break}}m=C}}if(P&&!l&&(this.pause(),P.render(w>=h?0:-Y)._zTime=w>=h?1:-1,this._ts))return this._start=A,gi(this),this.render(o,l,c);this._onUpdate&&!l&&At(this,"onUpdate",!0),(v===f&&this._tTime>=this.totalDuration()||!v&&h)&&(A===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((o||!d)&&(v===f&&this._ts>0||!v&&this._ts<0)&&Yt(this,1),!l&&!(o<0&&!h)&&(v||h||!f)&&(At(this,v===f&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(o,l){var c=this;if(Xt(l)||(l=St(this,l,o)),!(o instanceof Dn)){if(ut(o))return o.forEach(function(h){return c.add(h,l)}),this;if(rt(o))return this.addLabel(o,l);if(it(o))o=nt.delayedCall(0,o);else return this}return this!==o?Ut(this,o,l):this},n.getChildren=function(o,l,c,h){o===void 0&&(o=!0),l===void 0&&(l=!0),c===void 0&&(c=!0),h===void 0&&(h=-Vt);for(var f=[],d=this._first;d;)d._start>=h&&(d instanceof nt?l&&f.push(d):(c&&f.push(d),o&&f.push.apply(f,d.getChildren(!0,l,c)))),d=d._next;return f},n.getById=function(o){for(var l=this.getChildren(1,1,1),c=l.length;c--;)if(l[c].vars.id===o)return l[c]},n.remove=function(o){return rt(o)?this.removeLabel(o):it(o)?this.killTweensOf(o):(bi(this,o),o===this._recent&&(this._recent=this._last),Ae(this))},n.totalTime=function(o,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=at(xt.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),u.prototype.totalTime.call(this,o,l),this._forcing=0,this):this._tTime},n.addLabel=function(o,l){return this.labels[o]=St(this,l),this},n.removeLabel=function(o){return delete this.labels[o],this},n.addPause=function(o,l,c){var h=nt.delayedCall(0,l||Mn,c);return h.data="isPause",this._hasPause=1,Ut(this,h,St(this,o))},n.removePause=function(o){var l=this._first;for(o=St(this,o);l;)l._start===o&&l.data==="isPause"&&Yt(l),l=l._next},n.killTweensOf=function(o,l,c){for(var h=this.getTweensOf(o,c),f=h.length;f--;)oe!==h[f]&&h[f].kill(o,l);return this},n.getTweensOf=function(o,l){for(var c=[],h=Tt(o),f=this._first,d=Xt(l),v;f;)f instanceof nt?ch(f._targets,h)&&(d?(!oe||f._initted&&f._ts)&&f.globalTime(0)<=l&&f.globalTime(f.totalDuration())>l:!l||f.isActive())&&c.push(f):(v=f.getTweensOf(h,l)).length&&c.push.apply(c,v),f=f._next;return c},n.tweenTo=function(o,l){l=l||{};var c=this,h=St(c,o),f=l,d=f.startAt,v=f.onStart,g=f.onStartParams,w=f.immediateRender,m,C=nt.to(c,Mt({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:l.duration||Math.abs((h-(d&&"time"in d?d.time:c._time))/c.timeScale())||Y,onStart:function(){if(c.pause(),!m){var x=l.duration||Math.abs((h-(d&&"time"in d?d.time:c._time))/c.timeScale());C._dur!==x&&Je(C,x,0,1).render(C._time,!0,!0),m=1}v&&v.apply(C,g||[])}},l));return w?C.render(0):C},n.tweenFromTo=function(o,l,c){return this.tweenTo(l,Mt({startAt:{time:St(this,o)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(o){return o===void 0&&(o=this._time),Js(this,St(this,o))},n.previousLabel=function(o){return o===void 0&&(o=this._time),Js(this,St(this,o),1)},n.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Y)},n.shiftChildren=function(o,l,c){c===void 0&&(c=0);for(var h=this._first,f=this.labels,d;h;)h._start>=c&&(h._start+=o,h._end+=o),h=h._next;if(l)for(d in f)f[d]>=c&&(f[d]+=o);return Ae(this)},n.invalidate=function(){var o=this._first;for(this._lock=0;o;)o.invalidate(),o=o._next;return u.prototype.invalidate.call(this)},n.clear=function(o){o===void 0&&(o=!0);for(var l=this._first,c;l;)c=l._next,this.remove(l),l=c;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Ae(this)},n.totalDuration=function(o){var l=0,c=this,h=c._last,f=Vt,d,v,g;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-o:o));if(c._dirty){for(g=c.parent;h;)d=h._prev,h._dirty&&h.totalDuration(),v=h._start,v>f&&c._sort&&h._ts&&!c._lock?(c._lock=1,Ut(c,h,v-h._delay,1)._lock=0):f=v,v<0&&h._ts&&(l-=v,(!g&&!c._dp||g&&g.smoothChildTiming)&&(c._start+=v/c._ts,c._time-=v,c._tTime-=v),c.shiftChildren(-v,!1,-1/0),f=0),h._end>l&&h._ts&&(l=h._end),h=d;Je(c,c===Z&&c._time>l?c._time:l,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(o){if(Z._ts&&(Mo(Z,hi(o,Z)),To=xt.frame),xt.frame>=Xs){Xs+=Ct.autoSleep||120;var l=Z._first;if((!l||!l._ts)&&Ct.autoSleep&&xt._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||xt.sleep()}}},e}(Dn);Mt(vt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Rh=function(e,n,s,o,l,c,h){var f=new bt(this._pt,e,n,0,1,ia,null,l),d=0,v=0,g,w,m,C,b,x,E,P;for(f.b=s,f.e=o,s+="",o+="",(E=~o.indexOf("random("))&&(o=On(o)),c&&(P=[s,o],c(P,e,n),s=P[0],o=P[1]),w=s.match(nr)||[];g=nr.exec(o);)C=g[0],b=o.substring(d,g.index),m?m=(m+1)%5:b.substr(-5)==="rgba("&&(m=1),C!==w[v++]&&(x=parseFloat(w[v-1])||0,f._pt={_next:f._pt,p:b||v===1?b:",",s:x,c:C.charAt(1)==="="?Ye(x,C)-x:parseFloat(C)-x,m:m&&m<4?Math.round:0},d=nr.lastIndex);return f.c=d<o.length?o.substring(d,o.length):"",f.fp=h,(Po.test(o)||E)&&(f.e=0),this._pt=f,f},Dr=function(e,n,s,o,l,c,h,f,d){it(o)&&(o=o(l||0,e,c));var v=e[n],g=s!=="get"?s:it(v)?d?e[n.indexOf("set")||!it(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():v,w=it(v)?d?Uh:ea:Ir,m;if(rt(o)&&(~o.indexOf("random(")&&(o=On(o)),o.charAt(1)==="="&&(m=Ye(g,o)+(lt(g)||0),(m||m===0)&&(o=m))),g!==o||gr)return!isNaN(g*o)&&o!==""?(m=new bt(this._pt,e,n,+g||0,o-(g||0),typeof v=="boolean"?jh:na,0,w),d&&(m.fp=d),h&&m.modifier(h,this,e),this._pt=m):(!v&&!(n in e)&&Tr(n,o),Rh.call(this,e,n,g,o,w,f||Ct.stringFilter,d))},Ih=function(e,n,s,o,l){if(it(e)&&(e=Tn(e,l,n,s,o)),!Wt(e)||e.style&&e.nodeType||ut(e)||xo(e))return rt(e)?Tn(e,l,n,s,o):e;var c={},h;for(h in e)c[h]=Tn(e[h],l,n,s,o);return c},Zo=function(e,n,s,o,l,c){var h,f,d,v;if(yt[e]&&(h=new yt[e]).init(l,h.rawVars?n[e]:Ih(n[e],o,l,c,s),s,o,c)!==!1&&(s._pt=f=new bt(s._pt,l,e,0,1,h.render,h,0,h.priority),s!==qe))for(d=s._ptLookup[s._targets.indexOf(l)],v=h._props.length;v--;)d[h._props[v]]=f;return h},oe,gr,Rr=function u(e,n){var s=e.vars,o=s.ease,l=s.startAt,c=s.immediateRender,h=s.lazy,f=s.onUpdate,d=s.onUpdateParams,v=s.callbackScope,g=s.runBackwards,w=s.yoyoEase,m=s.keyframes,C=s.autoRevert,b=e._dur,x=e._startAt,E=e._targets,P=e.parent,k=P&&P.data==="nested"?P.parent._targets:E,A=e._overwrite==="auto"&&!kr,S=e.timeline,V,L,O,M,N,G,J,tt,X,F,D,ot,zt;if(S&&(!m||!o)&&(o="none"),e._ease=Me(o,Qe.ease),e._yEase=w?Go(Me(w===!0?o:w,Qe.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!S&&!!s.runBackwards,!S||m&&!s.stagger){if(tt=E[0]?Te(E[0]).harness:0,ot=tt&&s[tt.prop],V=ci(s,Ar),x&&(Yt(x.render(-1,!0)),x._lazy=0),l)if(Yt(e._startAt=nt.set(E,Mt({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:mt(h),startAt:null,delay:0,onUpdate:f,onUpdateParams:d,callbackScope:v,stagger:0},l))),n<0&&!c&&!C&&e._startAt.render(-1,!0),c){if(n>0&&!C&&(e._startAt=0),b&&n<=0){n&&(e._zTime=n);return}}else C===!1&&(e._startAt=0);else if(g&&b){if(x)!C&&(e._startAt=0);else if(n&&(c=!1),O=Mt({overwrite:!1,data:"isFromStart",lazy:c&&mt(h),immediateRender:c,stagger:0,parent:P},V),ot&&(O[tt.prop]=ot),Yt(e._startAt=nt.set(E,O)),n<0&&e._startAt.render(-1,!0),e._zTime=n,!c)u(e._startAt,Y);else if(!n)return}for(e._pt=e._ptCache=0,h=b&&mt(h)||h&&!b,L=0;L<E.length;L++){if(N=E[L],J=N._gsap||Or(E)[L]._gsap,e._ptLookup[L]=F={},vr[J.id]&&ce.length&&ui(),D=k===E?L:k.indexOf(N),tt&&(X=new tt).init(N,ot||V,e,D,k)!==!1&&(e._pt=M=new bt(e._pt,N,X.name,0,1,X.render,X,0,X.priority),X._props.forEach(function(jt){F[jt]=M}),X.priority&&(G=1)),!tt||ot)for(O in V)yt[O]&&(X=Zo(O,V,e,D,N,k))?X.priority&&(G=1):F[O]=M=Dr.call(e,N,O,"get",V[O],D,k,0,s.stringFilter);e._op&&e._op[L]&&e.kill(N,e._op[L]),A&&e._pt&&(oe=e,Z.killTweensOf(N,F,e.globalTime(n)),zt=!e.parent,oe=0),e._pt&&h&&(vr[J.id]=1)}G&&ra(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!zt,m&&n<=0&&S.render(Vt,!0,!0)},Nh=function(e,n,s,o,l,c,h){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,v,g;if(!f)for(f=e._ptCache[n]=[],v=e._ptLookup,g=e._targets.length;g--;){if(d=v[g][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n;)d=d._next;if(!d)return gr=1,e.vars[n]="+=0",Rr(e,h),gr=0,1;f.push(d)}for(g=f.length;g--;)d=f[g],d.s=(o||o===0)&&!l?o:d.s+(o||0)+c*d.c,d.c=s-d.s,d.e&&(d.e=et(s)+lt(d.e)),d.b&&(d.b=d.s+lt(d.b))},Bh=function(e,n){var s=e[0]?Te(e[0]).harness:0,o=s&&s.aliases,l,c,h,f;if(!o)return n;l=Oe({},n);for(c in o)if(c in l)for(f=o[c].split(","),h=f.length;h--;)l[f[h]]=l[c];return l},Fh=function(e,n,s,o){var l=n.ease||o||"power1.inOut",c,h;if(ut(n))h=s[e]||(s[e]=[]),n.forEach(function(f,d){return h.push({t:d/(n.length-1)*100,v:f,e:l})});else for(c in n)h=s[c]||(s[c]=[]),c==="ease"||h.push({t:parseFloat(e),v:n[c],e:l})},Tn=function(e,n,s,o,l){return it(e)?e.call(n,s,o,l):rt(e)&&~e.indexOf("random(")?On(e):e},Jo=Mr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ta={};_t(Jo+",id,stagger,delay,duration,paused,scrollTrigger",function(u){return ta[u]=1});var nt=function(u){go(e,u);function e(s,o,l,c){var h;typeof o=="number"&&(l.duration=o,o=l,l=null),h=u.call(this,c?o:Sn(o))||this;var f=h.vars,d=f.duration,v=f.delay,g=f.immediateRender,w=f.stagger,m=f.overwrite,C=f.keyframes,b=f.defaults,x=f.scrollTrigger,E=f.yoyoEase,P=o.parent||Z,k=(ut(s)||xo(s)?Xt(s[0]):"length"in o)?[s]:Tt(s),A,S,V,L,O,M,N,G;if(h._targets=k.length?Or(k):li("GSAP target "+s+" not found. https://greensock.com",!Ct.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=m,C||w||ni(d)||ni(v)){if(o=h.vars,A=h.timeline=new vt({data:"nested",defaults:b||{}}),A.kill(),A.parent=A._dp=qt(h),A._start=0,w||ni(d)||ni(v)){if(L=k.length,N=w&&Uo(w),Wt(w))for(O in w)~Jo.indexOf(O)&&(G||(G={}),G[O]=w[O]);for(S=0;S<L;S++)V=ci(o,ta),V.stagger=0,E&&(V.yoyoEase=E),G&&Oe(V,G),M=k[S],V.duration=+Tn(d,qt(h),S,M,k),V.delay=(+Tn(v,qt(h),S,M,k)||0)-h._delay,!w&&L===1&&V.delay&&(h._delay=v=V.delay,h._start+=v,V.delay=0),A.to(M,V,N?N(S,M,k):0),A._ease=U.none;A.duration()?d=v=0:h.timeline=0}else if(C){Sn(Mt(A.vars.defaults,{ease:"none"})),A._ease=Me(C.ease||o.ease||"none");var J=0,tt,X,F;if(ut(C))C.forEach(function(D){return A.to(k,D,">")});else{V={};for(O in C)O==="ease"||O==="easeEach"||Fh(O,C[O],V,C.easeEach);for(O in V)for(tt=V[O].sort(function(D,ot){return D.t-ot.t}),J=0,S=0;S<tt.length;S++)X=tt[S],F={ease:X.e,duration:(X.t-(S?tt[S-1].t:0))/100*d},F[O]=X.v,A.to(k,F,J),J+=F.duration;A.duration()<d&&A.to({},{duration:d-A.duration()})}}d||h.duration(d=A.duration())}else h.timeline=0;return m===!0&&!kr&&(oe=qt(h),Z.killTweensOf(k),oe=0),Ut(P,qt(h),l),o.reversed&&h.reverse(),o.paused&&h.paused(!0),(g||!d&&!C&&h._start===at(P._time)&&mt(g)&&fh(qt(h))&&P.data!=="nested")&&(h._tTime=-Y,h.render(Math.max(0,-v))),x&&Io(qt(h),x),h}var n=e.prototype;return n.render=function(o,l,c){var h=this._time,f=this._tDur,d=this._dur,v=o>f-Y&&o>=0?f:o<Y?0:o,g,w,m,C,b,x,E,P,k;if(!d)mh(this,o,l,c);else if(v!==this._tTime||!o||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=o<0){if(g=v,P=this.timeline,this._repeat){if(C=d+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(C*100+o,l,c);if(g=at(v%C),v===f?(m=this._repeat,g=d):(m=~~(v/C),m&&m===v/C&&(g=d,m--),g>d&&(g=d)),x=this._yoyo&&m&1,x&&(k=this._yEase,g=d-g),b=Ze(this._tTime,C),g===h&&!c&&this._initted)return this._tTime=v,this;m!==b&&(P&&this._yEase&&Xo(P,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=c=1,this.render(at(C*m),!0).invalidate()._lock=0))}if(!this._initted){if(No(this,o<0?o:g,c,l))return this._tTime=0,this;if(h!==this._time)return this;if(d!==this._dur)return this.render(o,l,c)}if(this._tTime=v,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(g/d),this._from&&(this.ratio=E=1-E),g&&!h&&!l&&(At(this,"onStart"),this._tTime!==v))return this;for(w=this._pt;w;)w.r(E,w.d),w=w._next;P&&P.render(o<0?o:!g&&x?-Y:P._dur*P._ease(g/this._dur),l,c)||this._startAt&&(this._zTime=o),this._onUpdate&&!l&&(o<0&&this._startAt&&this._startAt.render(o,!0,c),At(this,"onUpdate")),this._repeat&&m!==b&&this.vars.onRepeat&&!l&&this.parent&&At(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(o<0&&this._startAt&&!this._onUpdate&&this._startAt.render(o,!0,!0),(o||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Yt(this,1),!l&&!(o<0&&!h)&&(v||h)&&(At(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),u.prototype.invalidate.call(this)},n.resetTo=function(o,l,c,h){Ln||xt.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Rr(this,f),d=this._ease(f/this._dur),Nh(this,o,l,c,h,d,f)?this.resetTo(o,l,c,h):(Lr(this,0),this.parent||Do(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(o,l){if(l===void 0&&(l="all"),!o&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?En(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(o,l,oe&&oe.vars.overwrite!==!0)._first||En(this),this.parent&&c!==this.timeline.totalDuration()&&Je(this,this._dur*this.timeline._tDur/c,0,1),this}var h=this._targets,f=o?Tt(o):h,d=this._ptLookup,v=this._pt,g,w,m,C,b,x,E;if((!l||l==="all")&&ph(h,f))return l==="all"&&(this._pt=0),En(this);for(g=this._op=this._op||[],l!=="all"&&(rt(l)&&(b={},_t(l,function(P){return b[P]=1}),l=b),l=Bh(h,l)),E=h.length;E--;)if(~f.indexOf(h[E])){w=d[E],l==="all"?(g[E]=l,C=w,m={}):(m=g[E]=g[E]||{},C=l);for(b in C)x=w&&w[b],x&&((!("kill"in x.d)||x.d.kill(b)===!0)&&bi(this,x,"_pt"),delete w[b]),m!=="all"&&(m[b]=1)}return this._initted&&!this._pt&&v&&En(this),this},e.to=function(o,l){return new e(o,l,arguments[2])},e.from=function(o,l){return Vn(1,arguments)},e.delayedCall=function(o,l,c,h){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:l,onReverseComplete:l,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:h})},e.fromTo=function(o,l,c){return Vn(2,arguments)},e.set=function(o,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(o,l)},e.killTweensOf=function(o,l,c){return Z.killTweensOf(o,l,c)},e}(Dn);Mt(nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_t("staggerTo,staggerFrom,staggerFromTo",function(u){nt[u]=function(){var e=new vt,n=_r.call(arguments,0);return n.splice(u==="staggerFromTo"?5:4,0,0),e[u].apply(e,n)}});var Ir=function(e,n,s){return e[n]=s},ea=function(e,n,s){return e[n](s)},Uh=function(e,n,s,o){return e[n](o.fp,s)},zh=function(e,n,s){return e.setAttribute(n,s)},Nr=function(e,n){return it(e[n])?ea:Sr(e[n])&&e.setAttribute?zh:Ir},na=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},jh=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},ia=function(e,n){var s=n._pt,o="";if(!e&&n.b)o=n.b;else if(e===1&&n.e)o=n.e;else{for(;s;)o=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+o,s=s._next;o+=n.c}n.set(n.t,n.p,o,n)},Br=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},Kh=function(e,n,s,o){for(var l=this._pt,c;l;)c=l._next,l.p===o&&l.modifier(e,n,s),l=c},$h=function(e){for(var n=this._pt,s,o;n;)o=n._next,n.p===e&&!n.op||n.op===e?bi(this,n,"_pt"):n.dep||(s=1),n=o;return!s},Hh=function(e,n,s,o){o.mSet(e,n,o.m.call(o.tween,s,o.mt),o)},ra=function(e){for(var n=e._pt,s,o,l,c;n;){for(s=n._next,o=l;o&&o.pr>n.pr;)o=o._next;(n._prev=o?o._prev:c)?n._prev._next=n:l=n,(n._next=o)?o._prev=n:c=n,n=s}e._pt=l},bt=function(){function u(n,s,o,l,c,h,f,d,v){this.t=s,this.s=l,this.c=c,this.p=o,this.r=h||na,this.d=f||this,this.set=d||Ir,this.pr=v||0,this._next=n,n&&(n._prev=this)}var e=u.prototype;return e.modifier=function(s,o,l){this.mSet=this.mSet||this.set,this.set=Hh,this.m=s,this.mt=l,this.tween=o},u}();_t(Mr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(u){return Ar[u]=1});Pt.TweenMax=Pt.TweenLite=nt;Pt.TimelineLite=Pt.TimelineMax=vt;Z=new vt({sortChildren:!1,defaults:Qe,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ct.stringFilter=Yo;var pi={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(o){return Vh(o)})},timeline:function(e){return new vt(e)},getTweensOf:function(e,n){return Z.getTweensOf(e,n)},getProperty:function(e,n,s,o){rt(e)&&(e=Tt(e)[0]);var l=Te(e||{}).get,c=s?Lo:Oo;return s==="native"&&(s=""),e&&(n?c((yt[n]&&yt[n].get||l)(e,n,s,o)):function(h,f,d){return c((yt[h]&&yt[h].get||l)(e,h,f,d))})},quickSetter:function(e,n,s){if(e=Tt(e),e.length>1){var o=e.map(function(v){return Lt.quickSetter(v,n,s)}),l=o.length;return function(v){for(var g=l;g--;)o[g](v)}}e=e[0]||{};var c=yt[n],h=Te(e),f=h.harness&&(h.harness.aliases||{})[n]||n,d=c?function(v){var g=new c;qe._pt=0,g.init(e,s?v+s:v,qe,0,[e]),g.render(1,g),qe._pt&&Br(1,qe)}:h.set(e,f);return c?d:function(v){return d(e,f,s?v+s:v,h,1)}},quickTo:function(e,n,s){var o,l=Lt.to(e,Oe((o={},o[n]="+=0.1",o.paused=!0,o),s||{})),c=function(f,d,v){return l.resetTo(n,f,d,v)};return c.tween=l,c},isTweening:function(e){return Z.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Me(e.ease,Qe.ease)),Ws(Qe,e||{})},config:function(e){return Ws(Ct,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,o=e.plugins,l=e.defaults,c=e.extendTimeline;(o||"").split(",").forEach(function(h){return h&&!yt[h]&&!Pt[h]&&li(n+" effect requires "+h+" plugin.")}),ir[n]=function(h,f,d){return s(Tt(h),Mt(f||{},l),d)},c&&(vt.prototype[n]=function(h,f,d){return this.add(ir[n](h,Wt(f)?f:(d=f)&&{},this),d)})},registerEase:function(e,n){U[e]=Me(n)},parseEase:function(e,n){return arguments.length?Me(e,n):U},getById:function(e){return Z.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new vt(e),o,l;for(s.smoothChildTiming=mt(e.smoothChildTiming),Z.remove(s),s._dp=0,s._time=s._tTime=Z._time,o=Z._first;o;)l=o._next,(n||!(!o._dur&&o instanceof nt&&o.vars.onComplete===o._targets[0]))&&Ut(s,o,o._start-o._delay),o=l;return Ut(Z,s,0),s},utils:{wrap:Eh,wrapYoyo:kh,distribute:Uo,random:jo,snap:zo,normalize:Ph,getUnit:lt,clamp:gh,splitColor:Ho,toArray:Tt,selector:yh,mapRange:$o,pipe:xh,unitize:Ch,interpolate:Sh,shuffle:Fo},install:So,effects:ir,ticker:xt,updateRoot:vt.updateRoot,plugins:yt,globalTimeline:Z,core:{PropTween:bt,globals:Vo,Tween:nt,Timeline:vt,Animation:Dn,getCache:Te,_removeLinkedListItem:bi,suppressOverwrites:function(e){return kr=e}}};_t("to,from,fromTo,delayedCall,set,killTweensOf",function(u){return pi[u]=nt[u]});xt.add(vt.updateRoot);qe=pi.to({},{duration:0});var qh=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},Yh=function(e,n){var s=e._targets,o,l,c;for(o in n)for(l=s.length;l--;)c=e._ptLookup[l][o],c&&(c=c.d)&&(c._pt&&(c=qh(c,o)),c&&c.modifier&&c.modifier(n[o],e,s[l],o))},ar=function(e,n){return{name:e,rawVars:1,init:function(o,l,c){c._onInit=function(h){var f,d;if(rt(l)&&(f={},_t(l,function(v){return f[v]=1}),l=f),n){f={};for(d in l)f[d]=n(l[d]);l=f}Yh(h,l)}}}},Lt=pi.registerPlugin({name:"attr",init:function(e,n,s,o,l){var c,h;for(c in n)h=this.add(e,"setAttribute",(e.getAttribute(c)||0)+"",n[c],o,l,0,0,c),h&&(h.op=c),this._props.push(c)}},{name:"endArray",init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s])}},ar("roundProps",br),ar("modifiers"),ar("snap",zo))||pi;nt.version=vt.version=Lt.version="3.10.4";ko=1;yo()&&tn();U.Power0;U.Power1;U.Power2;U.Power3;U.Power4;U.Linear;U.Quad;U.Cubic;U.Quart;U.Quint;U.Strong;U.Elastic;U.Back;U.SteppedEase;U.Bounce;U.Sine;U.Expo;U.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var eo,ae,Ge,Fr,Ve,no,Gh=function(){return typeof window!="undefined"},de={},ke=180/Math.PI,Xe=Math.PI/180,$e=Math.atan2,io=1e8,sa=/([A-Z])/g,Xh=/(left|right|width|margin|padding|x)/i,Wh=/[\s,\(]\S/,le={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},oa=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Qh=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Zh=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Jh=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},aa=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},la=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},tp=function(e,n,s){return e.style[n]=s},ep=function(e,n,s){return e.style.setProperty(n,s)},np=function(e,n,s){return e._gsap[n]=s},ip=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},rp=function(e,n,s,o,l){var c=e._gsap;c.scaleX=c.scaleY=s,c.renderTransform(l,c)},sp=function(e,n,s,o,l){var c=e._gsap;c[n]=s,c.renderTransform(l,c)},st="transform",fe=st+"Origin",ua,wr=function(e,n){var s=ae.createElementNS?ae.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ae.createElement(e);return s.style?s:ae.createElement(e)},Gt=function u(e,n,s){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(sa,"-$1").toLowerCase())||o.getPropertyValue(n)||!s&&u(e,en(n)||n,1)||""},ro="O,Moz,ms,Ms,Webkit".split(","),en=function(e,n,s){var o=n||Ve,l=o.style,c=5;if(e in l&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(ro[c]+e in l););return c<0?null:(c===3?"ms":c>=0?ro[c]:"")+e},yr=function(){Gh()&&window.document&&(eo=window,ae=eo.document,Ge=ae.documentElement,Ve=wr("div")||{style:{}},wr("div"),st=en(st),fe=st+"Origin",Ve.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ua=!!en("perspective"),Fr=1)},lr=function u(e){var n=wr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,o=this.nextSibling,l=this.style.cssText,c;if(Ge.appendChild(n),n.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=u}catch{}else this._gsapBBox&&(c=this._gsapBBox());return s&&(o?s.insertBefore(this,o):s.appendChild(this)),Ge.removeChild(n),this.style.cssText=l,c},so=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},ca=function(e){var n;try{n=e.getBBox()}catch{n=lr.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===lr||(n=lr.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+so(e,["x","cx","x1"])||0,y:+so(e,["y","cy","y1"])||0,width:0,height:0}:n},ha=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ca(e))},Rn=function(e,n){if(n){var s=e.style;n in de&&n!==fe&&(n=st),s.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(n.replace(sa,"-$1").toLowerCase())):s.removeAttribute(n)}},ue=function(e,n,s,o,l,c){var h=new bt(e._pt,n,s,0,1,c?la:aa);return e._pt=h,h.b=o,h.e=l,e._props.push(s),h},oo={deg:1,rad:1,turn:1},ve=function u(e,n,s,o){var l=parseFloat(s)||0,c=(s+"").trim().substr((l+"").length)||"px",h=Ve.style,f=Xh.test(n),d=e.tagName.toLowerCase()==="svg",v=(d?"client":"offset")+(f?"Width":"Height"),g=100,w=o==="px",m=o==="%",C,b,x,E;return o===c||!l||oo[o]||oo[c]?l:(c!=="px"&&!w&&(l=u(e,n,s,"px")),E=e.getCTM&&ha(e),(m||c==="%")&&(de[n]||~n.indexOf("adius"))?(C=E?e.getBBox()[f?"width":"height"]:e[v],et(m?l/C*g:l/100*C)):(h[f?"width":"height"]=g+(w?c:o),b=~n.indexOf("adius")||o==="em"&&e.appendChild&&!d?e:e.parentNode,E&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===ae||!b.appendChild)&&(b=ae.body),x=b._gsap,x&&m&&x.width&&f&&x.time===xt.time?et(l/x.width*g):((m||c==="%")&&(h.position=Gt(e,"position")),b===e&&(h.position="static"),b.appendChild(Ve),C=Ve[v],b.removeChild(Ve),h.position="absolute",f&&m&&(x=Te(b),x.time=xt.time,x.width=b[v]),et(w?C*l/g:C&&l?g/C*l:0))))},Se=function(e,n,s,o){var l;return Fr||yr(),n in le&&n!=="transform"&&(n=le[n],~n.indexOf(",")&&(n=n.split(",")[0])),de[n]&&n!=="transform"?(l=Nn(e,o),l=n!=="transformOrigin"?l[n]:l.svg?l.origin:fi(Gt(e,fe))+" "+l.zOrigin+"px"):(l=e.style[n],(!l||l==="auto"||o||~(l+"").indexOf("calc("))&&(l=di[n]&&di[n](e,n,s)||Gt(e,n)||Ao(e,n)||(n==="opacity"?1:0))),s&&!~(l+"").trim().indexOf(" ")?ve(e,n,l,s)+s:l},op=function(e,n,s,o){if(!s||s==="none"){var l=en(n,e,1),c=l&&Gt(e,l,1);c&&c!==s?(n=l,s=c):n==="borderColor"&&(s=Gt(e,"borderTopColor"))}var h=new bt(this._pt,e.style,n,0,1,ia),f=0,d=0,v,g,w,m,C,b,x,E,P,k,A,S;if(h.b=s,h.e=o,s+="",o+="",o==="auto"&&(e.style[n]=o,o=Gt(e,n)||o,e.style[n]=s),v=[s,o],Yo(v),s=v[0],o=v[1],w=s.match(He)||[],S=o.match(He)||[],S.length){for(;g=He.exec(o);)x=g[0],P=o.substring(f,g.index),C?C=(C+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(C=1),x!==(b=w[d++]||"")&&(m=parseFloat(b)||0,A=b.substr((m+"").length),x.charAt(1)==="="&&(x=Ye(m,x)+A),E=parseFloat(x),k=x.substr((E+"").length),f=He.lastIndex-k.length,k||(k=k||Ct.units[n]||A,f===o.length&&(o+=k,h.e+=k)),A!==k&&(m=ve(e,n,b,k)||0),h._pt={_next:h._pt,p:P||d===1?P:",",s:m,c:E-m,m:C&&C<4||n==="zIndex"?Math.round:0});h.c=f<o.length?o.substring(f,o.length):""}else h.r=n==="display"&&o==="none"?la:aa;return Po.test(o)&&(h.e=0),this._pt=h,h},ao={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ap=function(e){var n=e.split(" "),s=n[0],o=n[1]||"50%";return(s==="top"||s==="bottom"||o==="left"||o==="right")&&(e=s,s=o,o=e),n[0]=ao[s]||s,n[1]=ao[o]||o,n.join(" ")},lp=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,o=s.style,l=n.u,c=s._gsap,h,f,d;if(l==="all"||l===!0)o.cssText="",f=1;else for(l=l.split(","),d=l.length;--d>-1;)h=l[d],de[h]&&(f=1,h=h==="transformOrigin"?fe:st),Rn(s,h);f&&(Rn(s,st),c&&(c.svg&&s.removeAttribute("transform"),Nn(s,1),c.uncache=1))}},di={clearProps:function(e,n,s,o,l){if(l.data!=="isFromStart"){var c=e._pt=new bt(e._pt,n,s,0,0,lp);return c.u=o,c.pr=-10,c.tween=l,e._props.push(s),1}}},In=[1,0,0,1,0,0],pa={},da=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},lo=function(e){var n=Gt(e,st);return da(n)?In:n.substr(7).match(Co).map(et)},Ur=function(e,n){var s=e._gsap||Te(e),o=e.style,l=lo(e),c,h,f,d;return s.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,l=[f.a,f.b,f.c,f.d,f.e,f.f],l.join(",")==="1,0,0,1,0,0"?In:l):(l===In&&!e.offsetParent&&e!==Ge&&!s.svg&&(f=o.display,o.display="block",c=e.parentNode,(!c||!e.offsetParent)&&(d=1,h=e.nextSibling,Ge.appendChild(e)),l=lo(e),f?o.display=f:Rn(e,"display"),d&&(h?c.insertBefore(e,h):c?c.appendChild(e):Ge.removeChild(e))),n&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},xr=function(e,n,s,o,l,c){var h=e._gsap,f=l||Ur(e,!0),d=h.xOrigin||0,v=h.yOrigin||0,g=h.xOffset||0,w=h.yOffset||0,m=f[0],C=f[1],b=f[2],x=f[3],E=f[4],P=f[5],k=n.split(" "),A=parseFloat(k[0])||0,S=parseFloat(k[1])||0,V,L,O,M;s?f!==In&&(L=m*x-C*b)&&(O=A*(x/L)+S*(-b/L)+(b*P-x*E)/L,M=A*(-C/L)+S*(m/L)-(m*P-C*E)/L,A=O,S=M):(V=ca(e),A=V.x+(~k[0].indexOf("%")?A/100*V.width:A),S=V.y+(~(k[1]||k[0]).indexOf("%")?S/100*V.height:S)),o||o!==!1&&h.smooth?(E=A-d,P=S-v,h.xOffset=g+(E*m+P*b)-E,h.yOffset=w+(E*C+P*x)-P):h.xOffset=h.yOffset=0,h.xOrigin=A,h.yOrigin=S,h.smooth=!!o,h.origin=n,h.originIsAbsolute=!!s,e.style[fe]="0px 0px",c&&(ue(c,h,"xOrigin",d,A),ue(c,h,"yOrigin",v,S),ue(c,h,"xOffset",g,h.xOffset),ue(c,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",A+" "+S)},Nn=function(e,n){var s=e._gsap||new Qo(e);if("x"in s&&!n&&!s.uncache)return s;var o=e.style,l=s.scaleX<0,c="px",h="deg",f=Gt(e,fe)||"0",d,v,g,w,m,C,b,x,E,P,k,A,S,V,L,O,M,N,G,J,tt,X,F,D,ot,zt,jt,ht,Rt,$,H,Kt;return d=v=g=C=b=x=E=P=k=0,w=m=1,s.svg=!!(e.getCTM&&ha(e)),V=Ur(e,s.svg),s.svg&&(D=(!s.uncache||f==="0px 0px")&&!n&&e.getAttribute("data-svg-origin"),xr(e,D||f,!!D||s.originIsAbsolute,s.smooth!==!1,V)),A=s.xOrigin||0,S=s.yOrigin||0,V!==In&&(N=V[0],G=V[1],J=V[2],tt=V[3],d=X=V[4],v=F=V[5],V.length===6?(w=Math.sqrt(N*N+G*G),m=Math.sqrt(tt*tt+J*J),C=N||G?$e(G,N)*ke:0,E=J||tt?$e(J,tt)*ke+C:0,E&&(m*=Math.abs(Math.cos(E*Xe))),s.svg&&(d-=A-(A*N+S*J),v-=S-(A*G+S*tt))):(Kt=V[6],$=V[7],jt=V[8],ht=V[9],Rt=V[10],H=V[11],d=V[12],v=V[13],g=V[14],L=$e(Kt,Rt),b=L*ke,L&&(O=Math.cos(-L),M=Math.sin(-L),D=X*O+jt*M,ot=F*O+ht*M,zt=Kt*O+Rt*M,jt=X*-M+jt*O,ht=F*-M+ht*O,Rt=Kt*-M+Rt*O,H=$*-M+H*O,X=D,F=ot,Kt=zt),L=$e(-J,Rt),x=L*ke,L&&(O=Math.cos(-L),M=Math.sin(-L),D=N*O-jt*M,ot=G*O-ht*M,zt=J*O-Rt*M,H=tt*M+H*O,N=D,G=ot,J=zt),L=$e(G,N),C=L*ke,L&&(O=Math.cos(L),M=Math.sin(L),D=N*O+G*M,ot=X*O+F*M,G=G*O-N*M,F=F*O-X*M,N=D,X=ot),b&&Math.abs(b)+Math.abs(C)>359.9&&(b=C=0,x=180-x),w=et(Math.sqrt(N*N+G*G+J*J)),m=et(Math.sqrt(F*F+Kt*Kt)),L=$e(X,F),E=Math.abs(L)>2e-4?L*ke:0,k=H?1/(H<0?-H:H):0),s.svg&&(D=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!da(Gt(e,st)),D&&e.setAttribute("transform",D))),Math.abs(E)>90&&Math.abs(E)<270&&(l?(w*=-1,E+=C<=0?180:-180,C+=C<=0?180:-180):(m*=-1,E+=E<=0?180:-180)),n=n||s.uncache,s.x=d-((s.xPercent=d&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+c,s.y=v-((s.yPercent=v&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+c,s.z=g+c,s.scaleX=et(w),s.scaleY=et(m),s.rotation=et(C)+h,s.rotationX=et(b)+h,s.rotationY=et(x)+h,s.skewX=E+h,s.skewY=P+h,s.transformPerspective=k+c,(s.zOrigin=parseFloat(f.split(" ")[2])||0)&&(o[fe]=fi(f)),s.xOffset=s.yOffset=0,s.force3D=Ct.force3D,s.renderTransform=s.svg?cp:ua?fa:up,s.uncache=0,s},fi=function(e){return(e=e.split(" "))[0]+" "+e[1]},ur=function(e,n,s){var o=lt(n);return et(parseFloat(n)+parseFloat(ve(e,"x",s+"px",o)))+o},up=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,fa(e,n)},Pe="0deg",Pn="0px",Ee=") ",fa=function(e,n){var s=n||this,o=s.xPercent,l=s.yPercent,c=s.x,h=s.y,f=s.z,d=s.rotation,v=s.rotationY,g=s.rotationX,w=s.skewX,m=s.skewY,C=s.scaleX,b=s.scaleY,x=s.transformPerspective,E=s.force3D,P=s.target,k=s.zOrigin,A="",S=E==="auto"&&e&&e!==1||E===!0;if(k&&(g!==Pe||v!==Pe)){var V=parseFloat(v)*Xe,L=Math.sin(V),O=Math.cos(V),M;V=parseFloat(g)*Xe,M=Math.cos(V),c=ur(P,c,L*M*-k),h=ur(P,h,-Math.sin(V)*-k),f=ur(P,f,O*M*-k+k)}x!==Pn&&(A+="perspective("+x+Ee),(o||l)&&(A+="translate("+o+"%, "+l+"%) "),(S||c!==Pn||h!==Pn||f!==Pn)&&(A+=f!==Pn||S?"translate3d("+c+", "+h+", "+f+") ":"translate("+c+", "+h+Ee),d!==Pe&&(A+="rotate("+d+Ee),v!==Pe&&(A+="rotateY("+v+Ee),g!==Pe&&(A+="rotateX("+g+Ee),(w!==Pe||m!==Pe)&&(A+="skew("+w+", "+m+Ee),(C!==1||b!==1)&&(A+="scale("+C+", "+b+Ee),P.style[st]=A||"translate(0, 0)"},cp=function(e,n){var s=n||this,o=s.xPercent,l=s.yPercent,c=s.x,h=s.y,f=s.rotation,d=s.skewX,v=s.skewY,g=s.scaleX,w=s.scaleY,m=s.target,C=s.xOrigin,b=s.yOrigin,x=s.xOffset,E=s.yOffset,P=s.forceCSS,k=parseFloat(c),A=parseFloat(h),S,V,L,O,M;f=parseFloat(f),d=parseFloat(d),v=parseFloat(v),v&&(v=parseFloat(v),d+=v,f+=v),f||d?(f*=Xe,d*=Xe,S=Math.cos(f)*g,V=Math.sin(f)*g,L=Math.sin(f-d)*-w,O=Math.cos(f-d)*w,d&&(v*=Xe,M=Math.tan(d-v),M=Math.sqrt(1+M*M),L*=M,O*=M,v&&(M=Math.tan(v),M=Math.sqrt(1+M*M),S*=M,V*=M)),S=et(S),V=et(V),L=et(L),O=et(O)):(S=g,O=w,V=L=0),(k&&!~(c+"").indexOf("px")||A&&!~(h+"").indexOf("px"))&&(k=ve(m,"x",c,"px"),A=ve(m,"y",h,"px")),(C||b||x||E)&&(k=et(k+C-(C*S+b*L)+x),A=et(A+b-(C*V+b*O)+E)),(o||l)&&(M=m.getBBox(),k=et(k+o/100*M.width),A=et(A+l/100*M.height)),M="matrix("+S+","+V+","+L+","+O+","+k+","+A+")",m.setAttribute("transform",M),P&&(m.style[st]=M)},hp=function(e,n,s,o,l){var c=360,h=rt(l),f=parseFloat(l)*(h&&~l.indexOf("rad")?ke:1),d=f-o,v=o+d+"deg",g,w;return h&&(g=l.split("_")[1],g==="short"&&(d%=c,d!==d%(c/2)&&(d+=d<0?c:-c)),g==="cw"&&d<0?d=(d+c*io)%c-~~(d/c)*c:g==="ccw"&&d>0&&(d=(d-c*io)%c-~~(d/c)*c)),e._pt=w=new bt(e._pt,n,s,o,d,Qh),w.e=v,w.u="deg",e._props.push(s),w},uo=function(e,n){for(var s in n)e[s]=n[s];return e},pp=function(e,n,s){var o=uo({},s._gsap),l="perspective,force3D,transformOrigin,svgOrigin",c=s.style,h,f,d,v,g,w,m,C;o.svg?(d=s.getAttribute("transform"),s.setAttribute("transform",""),c[st]=n,h=Nn(s,1),Rn(s,st),s.setAttribute("transform",d)):(d=getComputedStyle(s)[st],c[st]=n,h=Nn(s,1),c[st]=d);for(f in de)d=o[f],v=h[f],d!==v&&l.indexOf(f)<0&&(m=lt(d),C=lt(v),g=m!==C?ve(s,f,d,C):parseFloat(d),w=parseFloat(v),e._pt=new bt(e._pt,h,f,g,w-g,oa),e._pt.u=C||0,e._props.push(f));uo(h,o)};_t("padding,margin,Width,Radius",function(u,e){var n="Top",s="Right",o="Bottom",l="Left",c=(e<3?[n,s,o,l]:[n+l,n+s,o+s,o+l]).map(function(h){return e<2?u+h:"border"+h+u});di[e>1?"border"+u:u]=function(h,f,d,v,g){var w,m;if(arguments.length<4)return w=c.map(function(C){return Se(h,C,d)}),m=w.join(" "),m.split(w[0]).length===5?w[0]:m;w=(v+"").split(" "),m={},c.forEach(function(C,b){return m[C]=w[b]=w[b]||w[(b-1)/2|0]}),h.init(f,m,g)}});var va={name:"css",register:yr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,o,l){var c=this._props,h=e.style,f=s.vars.startAt,d,v,g,w,m,C,b,x,E,P,k,A,S,V,L;Fr||yr();for(b in n)if(b!=="autoRound"&&(v=n[b],!(yt[b]&&Zo(b,n,s,o,e,l)))){if(m=typeof v,C=di[b],m==="function"&&(v=v.call(s,o,e,l),m=typeof v),m==="string"&&~v.indexOf("random(")&&(v=On(v)),C)C(this,e,b,v,s)&&(L=1);else if(b.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(b)+"").trim(),v+="",he.lastIndex=0,he.test(d)||(x=lt(d),E=lt(v)),E?x!==E&&(d=ve(e,b,d,E)+E):x&&(v+=x),this.add(h,"setProperty",d,v,o,l,0,0,b),c.push(b);else if(m!=="undefined"){if(f&&b in f?(d=typeof f[b]=="function"?f[b].call(s,o,e,l):f[b],rt(d)&&~d.indexOf("random(")&&(d=On(d)),lt(d+"")||(d+=Ct.units[b]||lt(Se(e,b))||""),(d+"").charAt(1)==="="&&(d=Se(e,b))):d=Se(e,b),w=parseFloat(d),P=m==="string"&&v.charAt(1)==="="&&v.substr(0,2),P&&(v=v.substr(2)),g=parseFloat(v),b in le&&(b==="autoAlpha"&&(w===1&&Se(e,"visibility")==="hidden"&&g&&(w=0),ue(this,h,"visibility",w?"inherit":"hidden",g?"inherit":"hidden",!g)),b!=="scale"&&b!=="transform"&&(b=le[b],~b.indexOf(",")&&(b=b.split(",")[0]))),k=b in de,k){if(A||(S=e._gsap,S.renderTransform&&!n.parseTransform||Nn(e,n.parseTransform),V=n.smoothOrigin!==!1&&S.smooth,A=this._pt=new bt(this._pt,h,st,0,1,S.renderTransform,S,0,-1),A.dep=1),b==="scale")this._pt=new bt(this._pt,S,"scaleY",S.scaleY,(P?Ye(S.scaleY,P+g):g)-S.scaleY||0),c.push("scaleY",b),b+="X";else if(b==="transformOrigin"){v=ap(v),S.svg?xr(e,v,0,V,0,this):(E=parseFloat(v.split(" ")[2])||0,E!==S.zOrigin&&ue(this,S,"zOrigin",S.zOrigin,E),ue(this,h,b,fi(d),fi(v)));continue}else if(b==="svgOrigin"){xr(e,v,1,V,0,this);continue}else if(b in pa){hp(this,S,b,w,P?Ye(w,P+v):v);continue}else if(b==="smoothOrigin"){ue(this,S,"smooth",S.smooth,v);continue}else if(b==="force3D"){S[b]=v;continue}else if(b==="transform"){pp(this,v,e);continue}}else b in h||(b=en(b)||b);if(k||(g||g===0)&&(w||w===0)&&!Wh.test(v)&&b in h)x=(d+"").substr((w+"").length),g||(g=0),E=lt(v)||(b in Ct.units?Ct.units[b]:x),x!==E&&(w=ve(e,b,d,E)),this._pt=new bt(this._pt,k?S:h,b,w,(P?Ye(w,P+g):g)-w,!k&&(E==="px"||b==="zIndex")&&n.autoRound!==!1?Jh:oa),this._pt.u=E||0,x!==E&&E!=="%"&&(this._pt.b=d,this._pt.r=Zh);else if(b in h)op.call(this,e,b,d,P?P+v:v);else if(b in e)this.add(e,b,d||e[b],P?P+v:v,o,l);else{Tr(b,v);continue}c.push(b)}}L&&ra(this)},get:Se,aliases:le,getSetter:function(e,n,s){var o=le[n];return o&&o.indexOf(",")<0&&(n=o),n in de&&n!==fe&&(e._gsap.x||Se(e,"x"))?s&&no===s?n==="scale"?ip:np:(no=s||{})&&(n==="scale"?rp:sp):e.style&&!Sr(e.style[n])?tp:~n.indexOf("-")?ep:Nr(e,n)},core:{_removeProperty:Rn,_getMatrix:Ur}};Lt.utils.checkPrefix=en;(function(u,e,n,s){var o=_t(u+","+e+","+n,function(l){de[l]=1});_t(e,function(l){Ct.units[l]="deg",pa[l]=1}),le[o[13]]=u+","+e,_t(s,function(l){var c=l.split(":");le[c[1]]=o[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_t("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(u){Ct.units[u]="px"});Lt.registerPlugin(va);var dp=Lt.registerPlugin(va)||Lt;dp.core.Tween;var ma=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_a={exports:{}};(function(u,e){(function(n,s){u.exports=s()})(ma,function(){var n=function(){function s(m){return c.appendChild(m.dom),m}function o(m){for(var C=0;C<c.children.length;C++)c.children[C].style.display=C===m?"block":"none";l=m}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(m){m.preventDefault(),o(++l%c.children.length)},!1);var h=(performance||Date).now(),f=h,d=0,v=s(new n.Panel("FPS","#0ff","#002")),g=s(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=s(new n.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:c,addPanel:s,showPanel:o,begin:function(){h=(performance||Date).now()},end:function(){d++;var m=(performance||Date).now();if(g.update(m-h,200),m>f+1e3&&(v.update(1e3*d/(m-f),100),f=m,d=0,w)){var C=performance.memory;w.update(C.usedJSHeapSize/1048576,C.jsHeapSizeLimit/1048576)}return m},update:function(){h=this.end()},domElement:c,setMode:o}};return n.Panel=function(s,o,l){var c=1/0,h=0,f=Math.round,d=f(window.devicePixelRatio||1),v=80*d,g=48*d,w=3*d,m=2*d,C=3*d,b=15*d,x=74*d,E=30*d,P=document.createElement("canvas");P.width=v,P.height=g,P.style.cssText="width:80px;height:48px";var k=P.getContext("2d");return k.font="bold "+9*d+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=l,k.fillRect(0,0,v,g),k.fillStyle=o,k.fillText(s,w,m),k.fillRect(C,b,x,E),k.fillStyle=l,k.globalAlpha=.9,k.fillRect(C,b,x,E),{dom:P,update:function(A,S){c=Math.min(c,A),h=Math.max(h,A),k.fillStyle=l,k.globalAlpha=1,k.fillRect(0,0,v,b),k.fillStyle=o,k.fillText(f(A)+" "+s+" ("+f(c)+"-"+f(h)+")",w,m),k.drawImage(P,C+d,b,x-d,E,C,b,x-d,E),k.fillRect(C+x-d,b,d,E),k.fillStyle=l,k.globalAlpha=.9,k.fillRect(C+x-d,b,d,f((1-A/S)*E))}}},n})})(_a);var fd=_a.exports,co={exports:{}};/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */(function(u,e){(function(n,s){s(e)})(ma,function(n){class s{constructor(t){const[i,a]=t.split("-"),p=i.split(".");this.major=parseInt(p[0],10),this.minor=parseInt(p[1],10),this.patch=parseInt(p[2],10),this.prerelease=a!=null?a:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class o{constructor(t){this.controller_=t}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class l{constructor(t){this.target=t}}class c extends l{constructor(t,i,a,p){super(t),this.value=i,this.presetKey=a,this.last=p!=null?p:!0}}class h extends l{constructor(t,i,a){super(t),this.value=i,this.presetKey=a}}class f extends l{constructor(t,i){super(t),this.expanded=i}}function d(r){return r}function v(r){return r==null}function g(r,t){if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0}const w={alreadydisposed:()=>"View has been already disposed",invalidparams:r=>`Invalid parameters for '${r.name}'`,nomatchingcontroller:r=>`No matching controller for '${r.key}'`,nomatchingview:r=>`No matching view for '${JSON.stringify(r.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:r=>`Property '${r.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class m{constructor(t){var i;this.message=(i=w[t.type](t.context))!==null&&i!==void 0?i:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}static alreadyDisposed(){return new m({type:"alreadydisposed"})}static notBindable(){return new m({type:"notbindable"})}static propertyNotFound(t){return new m({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new m({type:"shouldneverhappen"})}}class C{constructor(t,i,a){this.obj_=t,this.key_=i,this.presetKey_=a!=null?a:i}static isBindable(t){return!(t===null||typeof t!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,i){const a=this.read();if(!C.isBindable(a))throw m.notBindable();if(!(t in a))throw m.propertyNotFound(t);a[t]=i}}class b extends o{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,i){const a=i.bind(this);return this.controller_.valueController.emitter.on(t,()=>{a(new l(this))}),this}}class x{constructor(){this.observers_={}}on(t,i){let a=this.observers_[t];return a||(a=this.observers_[t]=[]),a.push({handler:i}),this}off(t,i){const a=this.observers_[t];return a&&(this.observers_[t]=a.filter(p=>p.handler!==i)),this}emit(t,i){const a=this.observers_[t];!a||a.forEach(p=>{p.handler(i)})}}const E="tp";function P(r){return(i,a)=>[E,"-",r,"v",i?`_${i}`:"",a?`-${a}`:""].join("")}function k(r,t){return i=>t(r(i))}function A(r){return r.rawValue}function S(r,t){r.emitter.on("change",k(A,t)),t(r.rawValue)}function V(r,t,i){S(r.value(t),i)}function L(r,t,i){i?r.classList.add(t):r.classList.remove(t)}function O(r,t){return i=>{L(r,t,i)}}function M(r,t){S(r,i=>{t.textContent=i!=null?i:""})}const N=P("btn");class G{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(N()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("button");a.classList.add(N("b")),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(N("t")),M(i.props.value("title"),p),this.buttonElement.appendChild(p)}}class J{constructor(t,i){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new G(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class tt{constructor(t,i){var a;this.constraint_=i==null?void 0:i.constraint,this.equals_=(a=i==null?void 0:i.equals)!==null&&a!==void 0?a:(p,_)=>p===_,this.emitter=new x,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const a=i!=null?i:{forceEmit:!1,last:!0},p=this.constraint_?this.constraint_.constrain(t):t;!!this.equals_(this.rawValue_,p)&&!a.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=p,this.emitter.emit("change",{options:a,rawValue:p,sender:this}))}}class X{constructor(t){this.emitter=new x,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const a=i!=null?i:{forceEmit:!1,last:!0};this.value_===t&&!a.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:a,rawValue:this.value_,sender:this}))}}function F(r,t){const i=t==null?void 0:t.constraint,a=t==null?void 0:t.equals;return!i&&!a?new X(r):new tt(r,t)}class D{constructor(t){this.emitter=new x,this.valMap_=t;for(const i in this.valMap_)this.valMap_[i].emitter.on("change",()=>{this.emitter.emit("change",{key:i,sender:this})})}static createCore(t){return Object.keys(t).reduce((a,p)=>Object.assign(a,{[p]:F(t[p])}),{})}static fromObject(t){const i=this.createCore(t);return new D(i)}get(t){return this.valMap_[t].rawValue}set(t,i){this.valMap_[t].rawValue=i}value(t){return this.valMap_[t]}}function ot(r,t){const a=Object.keys(t).reduce((p,_)=>{if(p===void 0)return;const T=t[_](r[_]);return T.succeeded?Object.assign(Object.assign({},p),{[_]:T.value}):void 0},{});return a}function zt(r,t){return r.reduce((i,a)=>{if(i===void 0)return;const p=t(a);if(!(!p.succeeded||p.value===void 0))return[...i,p.value]},[])}function jt(r){return r===null?!1:typeof r=="object"}function ht(r){return t=>i=>{if(!t&&i===void 0)return{succeeded:!1,value:void 0};if(t&&i===void 0)return{succeeded:!0,value:void 0};const a=r(i);return a!==void 0?{succeeded:!0,value:a}:{succeeded:!1,value:void 0}}}function Rt(r){return{custom:t=>ht(t)(r),boolean:ht(t=>typeof t=="boolean"?t:void 0)(r),number:ht(t=>typeof t=="number"?t:void 0)(r),string:ht(t=>typeof t=="string"?t:void 0)(r),function:ht(t=>typeof t=="function"?t:void 0)(r),constant:t=>ht(i=>i===t?t:void 0)(r),raw:ht(t=>t)(r),object:t=>ht(i=>{if(!!jt(i))return ot(i,t)})(r),array:t=>ht(i=>{if(!!Array.isArray(i))return zt(i,t)})(r)}}const $={optional:Rt(!0),required:Rt(!1)};function H(r,t){const i=$.required.object(t)(r);return i.succeeded?i.value:void 0}function Kt(r){return r&&r.parentElement&&r.parentElement.removeChild(r),null}function za(){return["veryfirst","first","last","verylast"]}const Yr=P(""),Gr={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class sn{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const i=this.view.element;this.blade.value("positions").emitter.on("change",()=>{za().forEach(a=>{i.classList.remove(Yr(void 0,Gr[a]))}),this.blade.get("positions").forEach(a=>{i.classList.add(Yr(void 0,Gr[a]))})}),this.viewProps.handleDispose(()=>{Kt(i)})}get parent(){return this.parent_}}const It="http://www.w3.org/2000/svg";function Un(r){r.offsetHeight}function ja(r,t){const i=r.style.transition;r.style.transition="none",t(),r.style.transition=i}function wi(r){return r.ontouchstart!==void 0}function Ka(){return new Function("return this")()}function $a(){return Ka().document}function Ha(r){const t=r.ownerDocument.defaultView;return t&&"document"in t?r.getContext("2d"):null}const qa={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function zn(r,t){const i=r.createElementNS(It,"svg");return i.innerHTML=qa[t],i}function Xr(r,t,i){r.insertBefore(t,r.children[i])}function Wr(r){r.parentElement&&r.parentElement.removeChild(r)}function Qr(r){for(;r.children.length>0;)r.removeChild(r.children[0])}function Ya(r){for(;r.childNodes.length>0;)r.removeChild(r.childNodes[0])}function Zr(r){return r.relatedTarget?r.relatedTarget:"explicitOriginalTarget"in r?r.explicitOriginalTarget:null}const on=P("lbl");function Ga(r,t){const i=r.createDocumentFragment();return t.split(`
`).map(p=>r.createTextNode(p)).forEach((p,_)=>{_>0&&i.appendChild(r.createElement("br")),i.appendChild(p)}),i}class Jr{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(on()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(on("l")),V(i.props,"label",_=>{v(_)?this.element.classList.add(on(void 0,"nol")):(this.element.classList.remove(on(void 0,"nol")),Ya(a),a.appendChild(Ga(t,_)))}),this.element.appendChild(a),this.labelElement=a;const p=t.createElement("div");p.classList.add(on("v")),this.element.appendChild(p),this.valueElement=p}}class jn extends sn{constructor(t,i){const a=i.valueController.viewProps;super(Object.assign(Object.assign({},i),{view:new Jr(t,{props:i.props,viewProps:a}),viewProps:a})),this.props=i.props,this.valueController=i.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Xa={id:"button",type:"blade",accept(r){const t=$,i=H(r,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return i?{params:i}:null},controller(r){return new jn(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:new J(r.document,{props:D.fromObject({title:r.params.title}),viewProps:r.viewProps})})},api(r){return!(r.controller instanceof jn)||!(r.controller.valueController instanceof J)?null:new b(r.controller)}};class De extends sn{constructor(t){super(t),this.value=t.value}}function an(){return new D({positions:F([],{equals:g})})}class ln extends D{constructor(t){super(t)}static create(t){const i={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},a=D.createCore(i);return new ln(a)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!v(t)?`${t}px`:"auto"}bindExpandedClass(t,i){const a=()=>{this.styleExpanded?t.classList.add(i):t.classList.remove(i)};V(this,"expanded",a),V(this,"temporaryExpanded",a)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Wa(r,t){let i=0;return ja(t,()=>{r.set("expandedHeight",null),r.set("temporaryExpanded",!0),Un(t),i=t.clientHeight,r.set("temporaryExpanded",null),Un(t)}),i}function ts(r,t){t.style.height=r.styleHeight}function yi(r,t){r.value("expanded").emitter.on("beforechange",()=>{r.set("completed",!1),v(r.get("expandedHeight"))&&r.set("expandedHeight",Wa(r,t)),r.set("shouldFixHeight",!0),Un(t)}),r.emitter.on("change",()=>{ts(r,t)}),ts(r,t),t.addEventListener("transitionend",i=>{i.propertyName==="height"&&r.cleanUpTransition()})}class xi extends o{constructor(t,i){super(t),this.rackApi_=i}}function Qa(r,t){return r.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function Za(r,t){return r.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function Ja(r,t){const i=t||{};return r.addBlade(Object.assign(Object.assign({},i),{view:"separator"}))}function tl(r,t){return r.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class Ci{constructor(t){this.emitter=new x,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const i of this.allItems())if(t(i))return i;return null}includes(t){return this.cache_.has(t)}add(t,i){if(this.includes(t))throw m.shouldNeverHappen();const a=i!==void 0?i:this.items_.length;this.items_.splice(a,0,t),this.cache_.add(t);const p=this.extract_(t);p&&(p.emitter.on("add",this.onSubListAdd_),p.emitter.on("remove",this.onSubListRemove_),p.allItems().forEach(_=>{this.cache_.add(_)})),this.emitter.emit("add",{index:a,item:t,root:this,target:this})}remove(t){const i=this.items_.indexOf(t);if(i<0)return;this.items_.splice(i,1),this.cache_.delete(t);const a=this.extract_(t);a&&(a.emitter.off("add",this.onSubListAdd_),a.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:i,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class Pi extends o{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const i=t.sender.target.read();this.emitter_.emit("change",{event:new c(this,i,this.controller_.binding.target.presetKey,t.options.last)})}}class Nt extends jn{constructor(t,i){super(t,i),this.binding=i.binding}}class Ei extends o{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const i=t.sender.target.read();this.emitter_.emit("update",{event:new h(this,i,this.controller_.binding.target.presetKey)})}}class Zt extends jn{constructor(t,i){super(t,i),this.binding=i.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function el(r){return r instanceof Kn?r.apiSet_:r instanceof xi?r.rackApi_.apiSet_:null}function un(r,t){const i=r.find(a=>a.controller_===t);if(!i)throw m.shouldNeverHappen();return i}function es(r,t,i){if(!C.isBindable(r))throw m.notBindable();return new C(r,t,i)}class Kn extends o{constructor(t,i){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new x,this.apiSet_=new Ci(el),this.pool_=i;const a=this.controller_.rack;a.emitter.on("add",this.onRackAdd_),a.emitter.on("remove",this.onRackRemove_),a.emitter.on("inputchange",this.onRackInputChange_),a.emitter.on("monitorupdate",this.onRackMonitorUpdate_),a.children.forEach(p=>{this.setUpApi_(p)})}get children(){return this.controller_.rack.children.map(t=>un(this.apiSet_,t))}addInput(t,i,a){const p=a||{},_=this.controller_.view.element.ownerDocument,y=this.pool_.createInput(_,es(t,i,p.presetKey),p),T=new Pi(y);return this.add(T,p.index)}addMonitor(t,i,a){const p=a||{},_=this.controller_.view.element.ownerDocument,y=this.pool_.createMonitor(_,es(t,i),p),T=new Ei(y);return this.add(T,p.index)}addFolder(t){return Za(this,t)}addButton(t){return Qa(this,t)}addSeparator(t){return Ja(this,t)}addTab(t){return tl(this,t)}add(t,i){this.controller_.rack.add(t.controller_,i);const a=this.apiSet_.find(p=>p.controller_===t.controller_);return a&&this.apiSet_.remove(a),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const i=this.controller_.view.element.ownerDocument,a=this.pool_.createBlade(i,t),p=this.pool_.createBladeApi(a);return this.add(p,t.index)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}setUpApi_(t){this.apiSet_.find(a=>a.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const i=un(this.apiSet_,t.bladeController);this.apiSet_.remove(i)}}onRackInputChange_(t){const i=t.bladeController;if(i instanceof Nt){const a=un(this.apiSet_,i),p=i.binding;this.emitter_.emit("change",{event:new c(a,p.target.read(),p.target.presetKey,t.options.last)})}else if(i instanceof De){const a=un(this.apiSet_,i);this.emitter_.emit("change",{event:new c(a,i.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof Zt))throw m.shouldNeverHappen();const i=un(this.apiSet_,t.bladeController),a=t.bladeController.binding;this.emitter_.emit("update",{event:new h(i,a.target.read(),a.target.presetKey)})}}class ki extends xi{constructor(t,i){super(t,new Kn(t.rackController,i)),this.emitter_=new x,this.controller_.foldable.value("expanded").emitter.on("change",a=>{this.emitter_.emit("fold",{event:new f(this,a.sender.rawValue)})}),this.rackApi_.on("change",a=>{this.emitter_.emit("change",{event:a})}),this.rackApi_.on("update",a=>{this.emitter_.emit("update",{event:a})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,i,a){return this.rackApi_.addInput(t,i,a)}addMonitor(t,i,a){return this.rackApi_.addMonitor(t,i,a)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){return this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}class Si extends sn{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class nl{constructor(t,i){const a=P(i.viewName);this.element=t.createElement("div"),this.element.classList.add(a()),i.viewProps.bindClassModifiers(this.element)}}function il(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a instanceof Nt&&a.binding===t)return a}return null}function rl(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a instanceof Zt&&a.binding===t)return a}return null}function sl(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a instanceof De&&a.value===t)return a}return null}function Vi(r){return r instanceof cn?r.rack:r instanceof Si?r.rackController.rack:null}function ol(r){const t=Vi(r);return t?t.bcSet_:null}class al{constructor(t){var i;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new x,this.blade_=t!=null?t:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Ci(ol),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,i){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,i)}remove(t){t.parent_=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(i=>i instanceof t)}onSetAdd_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:i,sender:this}),!i)return;const a=t.item;if(a.viewProps.emitter.on("change",this.onChildViewPropsChange_),a.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),a.viewProps.handleDispose(this.onChildDispose_),a instanceof Nt)a.binding.emitter.on("change",this.onChildInputChange_);else if(a instanceof Zt)a.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(a instanceof De)a.value.emitter.on("change",this.onChildValueChange_);else{const p=Vi(a);if(p){const _=p.emitter;_.on("layout",this.onDescendantLayout_),_.on("inputchange",this.onDescendantInputChange_),_.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:i,sender:this}),!i)return;const a=t.item;if(a instanceof Nt)a.binding.emitter.off("change",this.onChildInputChange_);else if(a instanceof Zt)a.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(a instanceof De)a.value.emitter.off("change",this.onChildValueChange_);else{const p=Vi(a);if(p){const _=p.emitter;_.off("layout",this.onDescendantLayout_),_.off("inputchange",this.onDescendantInputChange_),_.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(p=>!p.viewProps.get("hidden")),i=t[0],a=t[t.length-1];this.bcSet_.items.forEach(p=>{const _=[];p===i&&(_.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&_.push("veryfirst")),p===a&&(_.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&_.push("verylast")),p.blade.set("positions",_)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(i=>i.viewProps.get("disposed")).forEach(i=>{this.bcSet_.remove(i)})}onChildInputChange_(t){const i=il(this.find(Nt),t.sender);if(!i)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:i,options:t.options,sender:this})}onChildMonitorUpdate_(t){const i=rl(this.find(Zt),t.sender);if(!i)throw m.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:i,sender:this})}onChildValueChange_(t){const i=sl(this.find(De),t.sender);if(!i)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:i,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class cn extends sn{constructor(t,i){super(Object.assign(Object.assign({},i),{view:new nl(t,{viewName:"brk",viewProps:i.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const a=new al(i.root?void 0:i.blade);a.emitter.on("add",this.onRackAdd_),a.emitter.on("remove",this.onRackRemove_),this.rack=a,this.viewProps.handleDispose(()=>{for(let p=this.rack.children.length-1;p>=0;p--)this.rack.children[p].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.isRoot||Xr(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.isRoot||Wr(t.bladeController.view.element)}}const ns=P("cnt");class ll{constructor(t,i){this.className_=P(i.viewName||"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),ns()),i.viewProps.bindClassModifiers(this.element),this.foldable_=i.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),V(this.foldable_,"completed",O(this.element,this.className_(void 0,"cpl")));const a=t.createElement("button");a.classList.add(this.className_("b")),V(i.props,"title",T=>{v(T)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(this.className_("t")),M(i.props.value("title"),p),this.buttonElement.appendChild(p),this.titleElement=p;const _=t.createElement("div");_.classList.add(this.className_("m")),this.buttonElement.appendChild(_);const y=i.containerElement;y.classList.add(this.className_("c")),this.element.appendChild(y),this.containerElement=y}}class Ti extends Si{constructor(t,i){var a;const p=ln.create((a=i.expanded)!==null&&a!==void 0?a:!0),_=new cn(t,{blade:i.blade,root:i.root,viewProps:i.viewProps});super(Object.assign(Object.assign({},i),{rackController:_,view:new ll(t,{containerElement:_.view.element,foldable:p,props:i.props,viewName:i.root?"rot":void 0,viewProps:i.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=i.props,this.foldable=p,yi(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const ul={id:"folder",type:"blade",accept(r){const t=$,i=H(r,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return i?{params:i}:null},controller(r){return new Ti(r.document,{blade:r.blade,expanded:r.params.expanded,props:D.fromObject({title:r.params.title}),viewProps:r.viewProps})},api(r){return r.controller instanceof Ti?new ki(r.controller,r.pool):null}};class Re extends De{constructor(t,i){const a=i.valueController.viewProps;super(Object.assign(Object.assign({},i),{value:i.valueController.value,view:new Jr(t,{props:i.props,viewProps:a}),viewProps:a})),this.props=i.props,this.valueController=i.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class is extends o{}const rs=P("spr");class cl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(rs()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("hr");a.classList.add(rs("r")),this.element.appendChild(a)}}class ss extends sn{constructor(t,i){super(Object.assign(Object.assign({},i),{view:new cl(t,{viewProps:i.viewProps})}))}}const hl={id:"separator",type:"blade",accept(r){const i=H(r,{view:$.required.constant("separator")});return i?{params:i}:null},controller(r){return new ss(r.document,{blade:r.blade,viewProps:r.viewProps})},api(r){return r.controller instanceof ss?new is(r.controller):null}},pl=P("");function os(r,t){return O(r,pl(void 0,t))}class Jt extends D{constructor(t){super(t)}static create(t){var i,a;const p=t!=null?t:{},_={disabled:(i=p.disabled)!==null&&i!==void 0?i:!1,disposed:!1,hidden:(a=p.hidden)!==null&&a!==void 0?a:!1},y=D.createCore(_);return new Jt(y)}bindClassModifiers(t){V(this,"disabled",os(t,"disabled")),V(this,"hidden",os(t,"hidden"))}bindDisabled(t){V(this,"disabled",i=>{t.disabled=i})}bindTabIndex(t){V(this,"disabled",i=>{t.tabIndex=i?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",i=>{i&&t()})}}const hn=P("tbi");class dl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(hn()),i.viewProps.bindClassModifiers(this.element),V(i.props,"selected",_=>{_?this.element.classList.add(hn(void 0,"sel")):this.element.classList.remove(hn(void 0,"sel"))});const a=t.createElement("button");a.classList.add(hn("b")),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(hn("t")),M(i.props.value("title"),p),this.buttonElement.appendChild(p),this.titleElement=p}}class fl{constructor(t,i){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new dl(t,{props:i.props,viewProps:i.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class as{constructor(t,i){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new fl(t,{props:i.itemProps,viewProps:Jt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new cn(t,{blade:an(),viewProps:Jt.create()}),this.props=i.props,V(this.props,"selected",a=>{this.itemController.props.set("selected",a),this.contentController.viewProps.set("hidden",!a)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class ls{constructor(t,i){this.controller_=t,this.rackApi_=i}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addInput(t,i,a){return this.rackApi_.addInput(t,i,a)}addMonitor(t,i,a){return this.rackApi_.addMonitor(t,i,a)}addBlade(t){return this.rackApi_.addBlade(t)}}class us extends xi{constructor(t,i){super(t,new Kn(t.rackController,i)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new x,this.pageApiMap_=new Map,this.rackApi_.on("change",a=>{this.emitter_.emit("change",{event:a})}),this.rackApi_.on("update",a=>{this.emitter_.emit("update",{event:a})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(a=>{this.setUpPageApi_(a)})}get pages(){return this.controller_.pageSet.items.map(t=>{const i=this.pageApiMap_.get(t);if(!i)throw m.shouldNeverHappen();return i})}addPage(t){const i=this.controller_.view.element.ownerDocument,a=new as(i,{itemProps:D.fromObject({selected:!1,title:t.title}),props:D.fromObject({selected:!1})});this.controller_.add(a,t.index);const p=this.pageApiMap_.get(a);if(!p)throw m.shouldNeverHappen();return p}removePage(t){this.controller_.remove(t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}setUpPageApi_(t){const i=this.rackApi_.apiSet_.find(p=>p.controller_===t.contentController);if(!i)throw m.shouldNeverHappen();const a=new ls(t,i);this.pageApiMap_.set(t,a)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw m.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}const $n=P("tab");class vl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add($n(),ns()),i.viewProps.bindClassModifiers(this.element),S(i.empty,O(this.element,$n(void 0,"nop")));const a=t.createElement("div");a.classList.add($n("i")),this.element.appendChild(a),this.itemsElement=a;const p=i.contentsElement;p.classList.add($n("c")),this.element.appendChild(p),this.contentsElement=p}}class cs extends Si{constructor(t,i){const a=new cn(t,{blade:i.blade,viewProps:i.viewProps}),p=F(!0);super({blade:i.blade,rackController:a,view:new vl(t,{contentsElement:a.view.element,empty:p,viewProps:i.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new Ci(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=p,this.applyPages_()}get pageSet(){return this.pageSet_}add(t,i){this.pageSet_.add(t,i!=null?i:this.pageSet_.items.length)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(t){const i=t.item;Xr(this.view.itemsElement,i.itemController.view.element,t.index),this.rackController.rack.add(i.contentController,t.index),i.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(t){const i=t.item;Wr(i.itemController.view.element),this.rackController.rack.remove(i.contentController),i.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const t=this.pageSet_.items.findIndex(i=>i.props.get("selected"));t<0?this.pageSet_.items.forEach((i,a)=>{i.props.set("selected",a===0)}):this.pageSet_.items.forEach((i,a)=>{i.props.set("selected",a===t)})}onPageSelectedChange_(t){if(t.rawValue){const i=this.pageSet_.items.findIndex(a=>a.props.value("selected")===t.sender);this.pageSet_.items.forEach((a,p)=>{a.props.set("selected",p===i)})}else this.keepSelection_()}}const hs={id:"tab",type:"blade",accept(r){const t=$,i=H(r,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!i||i.pages.length===0?null:{params:i}},controller(r){const t=new cs(r.document,{blade:r.blade,viewProps:r.viewProps});return r.params.pages.forEach(i=>{const a=new as(r.document,{itemProps:D.fromObject({selected:!1,title:i.title}),props:D.fromObject({selected:!1})});t.add(a)}),t},api(r){return r.controller instanceof cs?new us(r.controller,r.pool):null}};function ml(r,t){const i=r.accept(t.params);if(!i)return null;const a=$.optional.boolean(t.params.disabled).value,p=$.optional.boolean(t.params.hidden).value;return r.controller({blade:an(),document:t.document,params:Object.assign(Object.assign({},i.params),{disabled:a,hidden:p}),viewProps:Jt.create({disabled:a,hidden:p})})}class _l{constructor(){this.disabled=!1,this.emitter=new x}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class bl{constructor(t,i){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new x,this.interval_=i,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class be{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((i,a)=>a.constrain(i),t)}}function Bt(r,t){if(r instanceof t)return r;if(r instanceof be){const i=r.constraints.reduce((a,p)=>a||(p instanceof t?p:null),null);if(i)return i}return null}class pn{constructor(t){this.options=t}constrain(t){const i=this.options;return i.length===0||i.filter(p=>p.value===t).length>0?t:i[0].value}}class wt{constructor(t){this.maxValue=t.max,this.minValue=t.min}constrain(t){let i=t;return v(this.minValue)||(i=Math.max(i,this.minValue)),v(this.maxValue)||(i=Math.min(i,this.maxValue)),i}}class ge{constructor(t){this.step=t}constrain(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}const Ai=P("lst");class gl{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.props_=i.props,this.element=t.createElement("div"),this.element.classList.add(Ai()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("select");a.classList.add(Ai("s")),V(this.props_,"options",_=>{Qr(a),_.forEach((y,T)=>{const R=t.createElement("option");R.dataset.index=String(T),R.textContent=y.text,R.value=String(y.value),a.appendChild(R)})}),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.selectElement=a;const p=t.createElement("div");p.classList.add(Ai("m")),p.appendChild(zn(t,"dropdown")),this.element.appendChild(p),i.value.emitter.on("change",this.onValueChange_),this.value_=i.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class dn{constructor(t,i){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new gl(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const a=t.currentTarget.selectedOptions.item(0);if(!a)return;const p=Number(a.dataset.index);this.value.rawValue=this.props.get("options")[p].value}}const ps=P("pop");class wl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(ps()),i.viewProps.bindClassModifiers(this.element),S(i.shows,O(this.element,ps(void 0,"v")))}}class ds{constructor(t,i){this.shows=F(!1),this.viewProps=i.viewProps,this.view=new wl(t,{shows:this.shows,viewProps:this.viewProps})}}const fs=P("txt");class yl{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(fs()),i.viewProps.bindClassModifiers(this.element),this.props_=i.props,this.props_.emitter.on("change",this.onChange_);const a=t.createElement("input");a.classList.add(fs("i")),a.type="text",i.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,i.value.emitter.on("change",this.onChange_),this.value_=i.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class Hn{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new yl(t,{props:i.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const a=t.currentTarget.value,p=this.parser_(a);v(p)||(this.value.rawValue=p),this.view.refresh()}}function xl(r){return String(r)}function vs(r){return r==="false"?!1:!!r}function ms(r){return xl(r)}class Cl{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Pl={"**":(r,t)=>Math.pow(r,t),"*":(r,t)=>r*t,"/":(r,t)=>r/t,"%":(r,t)=>r%t,"+":(r,t)=>r+t,"-":(r,t)=>r-t,"<<":(r,t)=>r<<t,">>":(r,t)=>r>>t,">>>":(r,t)=>r>>>t,"&":(r,t)=>r&t,"^":(r,t)=>r^t,"|":(r,t)=>r|t};class El{constructor(t,i,a){this.left=i,this.operator=t,this.right=a}evaluate(){const t=Pl[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const kl={"+":r=>r,"-":r=>-r,"~":r=>~r};class Sl{constructor(t,i){this.operator=t,this.expression=i}evaluate(){const t=kl[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Mi(r){return(t,i)=>{for(let a=0;a<r.length;a++){const p=r[a](t,i);if(p!=="")return p}return""}}function fn(r,t){var i;const a=r.substr(t).match(/^\s+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Vl(r,t){const i=r.substr(t,1);return i.match(/^[1-9]$/)?i:""}function vn(r,t){var i;const a=r.substr(t).match(/^[0-9]+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Tl(r,t){const i=vn(r,t);if(i!=="")return i;const a=r.substr(t,1);if(t+=1,a!=="-"&&a!=="+")return"";const p=vn(r,t);return p===""?"":a+p}function Oi(r,t){const i=r.substr(t,1);if(t+=1,i.toLowerCase()!=="e")return"";const a=Tl(r,t);return a===""?"":i+a}function _s(r,t){const i=r.substr(t,1);if(i==="0")return i;const a=Vl(r,t);return t+=a.length,a===""?"":a+vn(r,t)}function Al(r,t){const i=_s(r,t);if(t+=i.length,i==="")return"";const a=r.substr(t,1);if(t+=a.length,a!==".")return"";const p=vn(r,t);return t+=p.length,i+a+p+Oi(r,t)}function Ml(r,t){const i=r.substr(t,1);if(t+=i.length,i!==".")return"";const a=vn(r,t);return t+=a.length,a===""?"":i+a+Oi(r,t)}function Ol(r,t){const i=_s(r,t);return t+=i.length,i===""?"":i+Oi(r,t)}const Ll=Mi([Al,Ml,Ol]);function Dl(r,t){var i;const a=r.substr(t).match(/^[01]+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Rl(r,t){const i=r.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0b")return"";const a=Dl(r,t);return a===""?"":i+a}function Il(r,t){var i;const a=r.substr(t).match(/^[0-7]+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Nl(r,t){const i=r.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0o")return"";const a=Il(r,t);return a===""?"":i+a}function Bl(r,t){var i;const a=r.substr(t).match(/^[0-9a-f]+/i);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Fl(r,t){const i=r.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0x")return"";const a=Bl(r,t);return a===""?"":i+a}const Ul=Mi([Rl,Nl,Fl]),zl=Mi([Ul,Ll]);function jl(r,t){const i=zl(r,t);return t+=i.length,i===""?null:{evaluable:new Cl(i),cursor:t}}function Kl(r,t){const i=r.substr(t,1);if(t+=i.length,i!=="(")return null;const a=gs(r,t);if(!a)return null;t=a.cursor,t+=fn(r,t).length;const p=r.substr(t,1);return t+=p.length,p!==")"?null:{evaluable:a.evaluable,cursor:t}}function $l(r,t){return jl(r,t)||Kl(r,t)}function bs(r,t){const i=$l(r,t);if(i)return i;const a=r.substr(t,1);if(t+=a.length,a!=="+"&&a!=="-"&&a!=="~")return null;const p=bs(r,t);return p?(t=p.cursor,{cursor:t,evaluable:new Sl(a,p.evaluable)}):null}function Hl(r,t,i){i+=fn(t,i).length;const a=r.filter(p=>t.startsWith(p,i))[0];return a?(i+=a.length,i+=fn(t,i).length,{cursor:i,operator:a}):null}function ql(r,t){return(i,a)=>{const p=r(i,a);if(!p)return null;a=p.cursor;let _=p.evaluable;for(;;){const y=Hl(t,i,a);if(!y)break;a=y.cursor;const T=r(i,a);if(!T)return null;a=T.cursor,_=new El(y.operator,_,T.evaluable)}return _?{cursor:a,evaluable:_}:null}}const Yl=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((r,t)=>ql(r,t),bs);function gs(r,t){return t+=fn(r,t).length,Yl(r,t)}function Gl(r){const t=gs(r,0);return!t||t.cursor+fn(r,t.cursor).length!==r.length?null:t.evaluable}function $t(r){var t;const i=Gl(r);return(t=i==null?void 0:i.evaluate())!==null&&t!==void 0?t:null}function ws(r){if(typeof r=="number")return r;if(typeof r=="string"){const t=$t(r);if(!v(t))return t}return 0}function Xl(r){return String(r)}function dt(r){return t=>t.toFixed(Math.max(Math.min(r,20),0))}const Wl=dt(0);function qn(r){return Wl(r)+"%"}function ys(r){return String(r)}function Li(r){return r}function xs(r,t){for(;r.length<t;)r.push(void 0)}function Ql(r){const t=[];return xs(t,r),F(t)}function Zl(r){const t=r.indexOf(void 0);return t<0?r:r.slice(0,t)}function Jl(r,t){const i=[...Zl(r),t];return i.length>r.length?i.splice(0,i.length-r.length):xs(i,r.length),i}function mn({primary:r,secondary:t,forward:i,backward:a}){let p=!1;function _(y){p||(p=!0,y(),p=!1)}r.emitter.on("change",y=>{_(()=>{t.setRawValue(i(r,t),y.options)})}),t.emitter.on("change",y=>{_(()=>{r.setRawValue(a(r,t),y.options)}),_(()=>{t.setRawValue(i(r,t),y.options)})}),_(()=>{t.setRawValue(i(r,t),{forceEmit:!1,last:!0})})}function ft(r,t){const i=r*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+i:t.downKey?-i:0}function _n(r){return{altKey:r.altKey,downKey:r.key==="ArrowDown",shiftKey:r.shiftKey,upKey:r.key==="ArrowUp"}}function Ht(r){return{altKey:r.altKey,downKey:r.key==="ArrowLeft",shiftKey:r.shiftKey,upKey:r.key==="ArrowRight"}}function tu(r){return r==="ArrowUp"||r==="ArrowDown"}function Cs(r){return tu(r)||r==="ArrowLeft"||r==="ArrowRight"}function Di(r,t){const i=t.ownerDocument.defaultView,a=t.getBoundingClientRect();return{x:r.pageX-((i&&i.scrollX||0)+a.left),y:r.pageY-((i&&i.scrollY||0)+a.top)}}class we{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new x,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const i=this.elem_.getBoundingClientRect();return{bounds:{width:i.width,height:i.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var i;t.preventDefault(),(i=t.currentTarget)===null||i===void 0||i.focus();const a=this.elem_.ownerDocument;a.addEventListener("mousemove",this.onDocumentMouseMove_),a.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Di(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Di(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const i=this.elem_.ownerDocument;i.removeEventListener("mousemove",this.onDocumentMouseMove_),i.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Di(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const i=t.targetTouches.item(0),a=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-a.left,y:i.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchMove_(t){const i=t.targetTouches.item(0),a=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-a.left,y:i.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchEnd_(t){var i;const a=(i=t.targetTouches.item(0))!==null&&i!==void 0?i:this.lastTouch_,p=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(a?{x:a.clientX-p.left,y:a.clientY-p.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function Q(r,t,i,a,p){const _=(r-t)/(i-t);return a+_*(p-a)}function Ps(r){return String(r.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function W(r,t,i){return Math.min(Math.max(r,t),i)}function Ri(r,t){return(r%t+t)%t}const Et=P("txt");class eu{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Et(),Et(void 0,"num")),i.arrayPosition&&this.element.classList.add(Et(void 0,i.arrayPosition)),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("input");a.classList.add(Et("i")),a.type="text",i.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=i.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Et()),this.inputElement.classList.add(Et("i"));const p=t.createElement("div");p.classList.add(Et("k")),this.element.appendChild(p),this.knobElement=p;const _=t.createElementNS(It,"svg");_.classList.add(Et("g")),this.knobElement.appendChild(_);const y=t.createElementNS(It,"path");y.classList.add(Et("gb")),_.appendChild(y),this.guideBodyElem_=y;const T=t.createElementNS(It,"path");T.classList.add(Et("gh")),_.appendChild(T),this.guideHeadElem_=T;const R=t.createElement("div");R.classList.add(P("tt")()),this.knobElement.appendChild(R),this.tooltipElem_=R,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(Et(void 0,"drg"));return}this.element.classList.add(Et(void 0,"drg"));const i=t.rawValue/this.props_.get("draggingScale"),a=i+(i>0?-1:i<0?1:0),p=W(-a,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${a+p},0 L${a},4 L${a+p},8`,`M ${i},-1 L${i},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${i},4`);const _=this.props_.get("formatter");this.tooltipElem_.textContent=_(this.value.rawValue),this.tooltipElem_.style.left=`${i}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class bn{constructor(t,i){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=i.baseStep,this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.dragging_=F(null),this.view=new eu(t,{arrayPosition:i.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const a=new we(this.view.knobElement);a.emitter.on("down",this.onPointerDown_),a.emitter.on("move",this.onPointerMove_),a.emitter.on("up",this.onPointerUp_)}onInputChange_(t){const a=t.currentTarget.value,p=this.parser_(a);v(p)||(this.value.rawValue=p),this.view.refresh()}onInputKeyDown_(t){const i=ft(this.baseStep_,_n(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onInputKeyUp_(t){ft(this.baseStep_,_n(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const i=t.point.x-t.bounds.width/2;return this.originRawValue_+i*this.props.get("draggingScale")}onPointerMove_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ii=P("sld");class nu{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Ii()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(Ii("t")),i.viewProps.bindTabIndex(a),this.element.appendChild(a),this.trackElement=a;const p=t.createElement("div");p.classList.add(Ii("k")),this.trackElement.appendChild(p),this.knobElement=p,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.update_()}update_(){const t=W(Q(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class iu{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=i.baseStep,this.value=i.value,this.viewProps=i.viewProps,this.props=i.props,this.view=new nu(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){!t.point||this.value.setRawValue(Q(W(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),i)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=ft(this.baseStep_,Ht(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onKeyUp_(t){ft(this.baseStep_,Ht(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ni=P("sldtxt");class ru{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Ni());const a=t.createElement("div");a.classList.add(Ni("s")),this.sliderView_=i.sliderView,a.appendChild(this.sliderView_.element),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(Ni("t")),this.textView_=i.textView,p.appendChild(this.textView_.element),this.element.appendChild(p)}}class Bi{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.sliderC_=new iu(t,{baseStep:i.baseStep,props:i.sliderProps,value:i.value,viewProps:this.viewProps}),this.textC_=new bn(t,{baseStep:i.baseStep,parser:i.parser,props:i.textProps,value:i.value,viewProps:i.viewProps}),this.view=new ru(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function gn(r,t){r.write(t)}function Yn(r){const t=$;if(Array.isArray(r))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(r).value;if(typeof r=="object")return t.required.raw(r).value}function Es(r){if(r==="inline"||r==="popup")return r}function te(r){const t=$;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(r).value}function ks(r){if(Array.isArray(r))return r;const t=[];return Object.keys(r).forEach(i=>{t.push({text:i,value:r[i]})}),t}function Fi(r){return v(r)?null:new pn(ks(r))}function Ui(r){const t=r?Bt(r,pn):null;return t?t.options:null}function su(r){const t=r?Bt(r,ge):null;return t?t.step:null}function Gn(r,t){const i=r&&Bt(r,ge);return i?Ps(i.step):Math.max(Ps(t),2)}function Ie(r){const t=su(r);return t!=null?t:1}function Ne(r,t){var i;const a=r&&Bt(r,ge),p=Math.abs((i=a==null?void 0:a.step)!==null&&i!==void 0?i:t);return p===0?.1:Math.pow(10,Math.floor(Math.log10(p))-1)}const Xn=P("ckb");class ou{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Xn()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("label");a.classList.add(Xn("l")),this.element.appendChild(a);const p=t.createElement("input");p.classList.add(Xn("i")),p.type="checkbox",a.appendChild(p),this.inputElement=p,i.viewProps.bindDisabled(this.inputElement);const _=t.createElement("div");_.classList.add(Xn("w")),a.appendChild(_);const y=zn(t,"check");_.appendChild(y),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class au{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new ou(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const i=t.currentTarget;this.value.rawValue=i.checked}}function lu(r){const t=[],i=Fi(r.options);return i&&t.push(i),new be(t)}const uu={id:"input-bool",type:"input",accept:(r,t)=>{if(typeof r!="boolean")return null;const a=H(t,{options:$.optional.custom(Yn)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>vs,constraint:r=>lu(r.params),writer:r=>gn},controller:r=>{var t;const i=r.document,a=r.value,p=r.constraint;return p&&Bt(p,pn)?new dn(i,{props:D.fromObject({options:(t=Ui(p))!==null&&t!==void 0?t:[]}),value:a,viewProps:r.viewProps}):new au(i,{value:a,viewProps:r.viewProps})}},ye=P("col");class cu{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(ye()),i.foldable.bindExpandedClass(this.element,ye(void 0,"expanded")),V(i.foldable,"completed",O(this.element,ye(void 0,"cpl")));const a=t.createElement("div");a.classList.add(ye("h")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(ye("s")),a.appendChild(p),this.swatchElement=p;const _=t.createElement("div");if(_.classList.add(ye("t")),a.appendChild(_),this.textElement=_,i.pickerLayout==="inline"){const y=t.createElement("div");y.classList.add(ye("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}function hu(r,t,i){const a=W(r/255,0,1),p=W(t/255,0,1),_=W(i/255,0,1),y=Math.max(a,p,_),T=Math.min(a,p,_),R=y-T;let I=0,z=0;const j=(T+y)/2;return R!==0&&(z=R/(1-Math.abs(y+T-1)),a===y?I=(p-_)/R:p===y?I=2+(_-a)/R:I=4+(a-p)/R,I=I/6+(I<0?1:0)),[I*360,z*100,j*100]}function pu(r,t,i){const a=(r%360+360)%360,p=W(t/100,0,1),_=W(i/100,0,1),y=(1-Math.abs(2*_-1))*p,T=y*(1-Math.abs(a/60%2-1)),R=_-y/2;let I,z,j;return a>=0&&a<60?[I,z,j]=[y,T,0]:a>=60&&a<120?[I,z,j]=[T,y,0]:a>=120&&a<180?[I,z,j]=[0,y,T]:a>=180&&a<240?[I,z,j]=[0,T,y]:a>=240&&a<300?[I,z,j]=[T,0,y]:[I,z,j]=[y,0,T],[(I+R)*255,(z+R)*255,(j+R)*255]}function du(r,t,i){const a=W(r/255,0,1),p=W(t/255,0,1),_=W(i/255,0,1),y=Math.max(a,p,_),T=Math.min(a,p,_),R=y-T;let I;R===0?I=0:y===a?I=60*(((p-_)/R%6+6)%6):y===p?I=60*((_-a)/R+2):I=60*((a-p)/R+4);const z=y===0?0:R/y,j=y;return[I,z*100,j*100]}function Ss(r,t,i){const a=Ri(r,360),p=W(t/100,0,1),_=W(i/100,0,1),y=_*p,T=y*(1-Math.abs(a/60%2-1)),R=_-y;let I,z,j;return a>=0&&a<60?[I,z,j]=[y,T,0]:a>=60&&a<120?[I,z,j]=[T,y,0]:a>=120&&a<180?[I,z,j]=[0,y,T]:a>=180&&a<240?[I,z,j]=[0,T,y]:a>=240&&a<300?[I,z,j]=[T,0,y]:[I,z,j]=[y,0,T],[(I+R)*255,(z+R)*255,(j+R)*255]}function fu(r,t,i){const a=i+t*(100-Math.abs(2*i-100))/200;return[r,a!==0?t*(100-Math.abs(2*i-100))/a:0,i+t*(100-Math.abs(2*i-100))/(2*100)]}function vu(r,t,i){const a=100-Math.abs(i*(200-t)/100-100);return[r,a!==0?t*i/a:0,i*(200-t)/(2*100)]}function Be(r){return[r[0],r[1],r[2]]}function Vs(r,t){return[r[0],r[1],r[2],t]}const mu={hsl:{hsl:(r,t,i)=>[r,t,i],hsv:fu,rgb:pu},hsv:{hsl:vu,hsv:(r,t,i)=>[r,t,i],rgb:Ss},rgb:{hsl:hu,hsv:du,rgb:(r,t,i)=>[r,t,i]}};function _u(r,t,i){return mu[t][i](...r)}const bu={hsl:r=>{var t;return[Ri(r[0],360),W(r[1],0,100),W(r[2],0,100),W((t=r[3])!==null&&t!==void 0?t:1,0,1)]},hsv:r=>{var t;return[Ri(r[0],360),W(r[1],0,100),W(r[2],0,100),W((t=r[3])!==null&&t!==void 0?t:1,0,1)]},rgb:r=>{var t;return[W(r[0],0,255),W(r[1],0,255),W(r[2],0,255),W((t=r[3])!==null&&t!==void 0?t:1,0,1)]}};function Wn(r,t){return typeof r!="object"||v(r)?!1:t in r&&typeof r[t]=="number"}class B{constructor(t,i){this.mode_=i,this.comps_=bu[i](t)}static black(){return new B([0,0,0],"rgb")}static fromObject(t){const i="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new B(i,"rgb")}static toRgbaObject(t){return t.toRgbaObject()}static isRgbColorObject(t){return Wn(t,"r")&&Wn(t,"g")&&Wn(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&Wn(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,i){if(t.mode_!==i.mode_)return!1;const a=t.comps_,p=i.comps_;for(let _=0;_<a.length;_++)if(a[_]!==p[_])return!1;return!0}get mode(){return this.mode_}getComponents(t){return Vs(_u(Be(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const ee=P("colp");class gu{constructor(t,i){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(ee());const a=t.createElement("div");a.classList.add(ee("hsv"));const p=t.createElement("div");p.classList.add(ee("sv")),this.svPaletteView_=i.svPaletteView,p.appendChild(this.svPaletteView_.element),a.appendChild(p);const _=t.createElement("div");_.classList.add(ee("h")),this.hPaletteView_=i.hPaletteView,_.appendChild(this.hPaletteView_.element),a.appendChild(_),this.element.appendChild(a);const y=t.createElement("div");if(y.classList.add(ee("rgb")),this.textView_=i.textView,y.appendChild(this.textView_.element),this.element.appendChild(y),i.alphaViews){this.alphaViews_={palette:i.alphaViews.palette,text:i.alphaViews.text};const T=t.createElement("div");T.classList.add(ee("a"));const R=t.createElement("div");R.classList.add(ee("ap")),R.appendChild(this.alphaViews_.palette.element),T.appendChild(R);const I=t.createElement("div");I.classList.add(ee("at")),I.appendChild(this.alphaViews_.text.element),T.appendChild(I),this.element.appendChild(T)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(i=>i.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function zi(r){const t=$;return H(r,{alpha:t.optional.boolean,expanded:t.optional.boolean,picker:t.optional.custom(Es)})}function xe(r){return r?.1:1}function kt(r,t){const i=r.match(/^(.+)%$/);return Math.min(i?parseFloat(i[1])*.01*t:parseFloat(r),t)}const wu={deg:r=>r,grad:r=>r*360/400,rad:r=>r*360/(2*Math.PI),turn:r=>r*360};function Ts(r){const t=r.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(r);const i=parseFloat(t[1]),a=t[2];return wu[a](i)}const ji={"func.rgb":r=>{const t=r.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[kt(t[1],255),kt(t[2],255),kt(t[3],255)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:new B(i,"rgb")},"func.rgba":r=>{const t=r.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[kt(t[1],255),kt(t[2],255),kt(t[3],255),kt(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:new B(i,"rgb")},"func.hsl":r=>{const t=r.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Ts(t[1]),kt(t[2],100),kt(t[3],100)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:new B(i,"hsl")},"func.hsla":r=>{const t=r.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Ts(t[1]),kt(t[2],100),kt(t[3],100),kt(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:new B(i,"hsl")},"hex.rgb":r=>{const t=r.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new B([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)],"rgb");const i=r.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?new B([parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)],"rgb"):null},"hex.rgba":r=>{const t=r.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new B([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Q(parseInt(t[4]+t[4],16),0,255,0,1)],"rgb");const i=r.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?new B([parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),Q(parseInt(i[4],16),0,255,0,1)],"rgb"):null}};function Qn(r){return Object.keys(ji).reduce((i,a)=>i||(ji[a](r)?a:null),null)}const Zn=r=>{const t=Qn(r);return t?ji[t](r):null};function yu(r){return r==="func.hsla"||r==="func.rgba"||r==="hex.rgba"}function xu(r){if(typeof r=="string"){const t=Zn(r);if(t)return t}return B.black()}function As(r){const t=W(Math.floor(r),0,255).toString(16);return t.length===1?`0${t}`:t}function Ki(r,t="#"){const i=Be(r.getComponents("rgb")).map(As).join("");return`${t}${i}`}function Jn(r,t="#"){const i=r.getComponents("rgb"),a=[i[0],i[1],i[2],i[3]*255].map(As).join("");return`${t}${a}`}function Ms(r){const t=dt(0);return`rgb(${Be(r.getComponents("rgb")).map(a=>t(a)).join(", ")})`}function ti(r){const t=dt(2),i=dt(0);return`rgba(${r.getComponents("rgb").map((p,_)=>(_===3?t:i)(p)).join(", ")})`}function Cu(r){const t=[dt(0),qn,qn];return`hsl(${Be(r.getComponents("hsl")).map((a,p)=>t[p](a)).join(", ")})`}function Pu(r){const t=[dt(0),qn,qn,dt(2)];return`hsla(${r.getComponents("hsl").map((a,p)=>t[p](a)).join(", ")})`}const Eu={"func.hsl":Cu,"func.hsla":Pu,"func.rgb":Ms,"func.rgba":ti,"hex.rgb":Ki,"hex.rgba":Jn};function Os(r){return Eu[r]}const wn=P("apl");class ku{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(wn()),i.viewProps.bindTabIndex(this.element);const a=t.createElement("div");a.classList.add(wn("b")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(wn("c")),a.appendChild(p),this.colorElem_=p;const _=t.createElement("div");_.classList.add(wn("m")),this.element.appendChild(_),this.markerElem_=_;const y=t.createElement("div");y.classList.add(wn("p")),this.markerElem_.appendChild(y),this.previewElem_=y,this.update_()}update_(){const t=this.value.rawValue,i=t.getComponents("rgb"),a=new B([i[0],i[1],i[2],0],"rgb"),p=new B([i[0],i[1],i[2],255],"rgb"),_=["to right",ti(a),ti(p)];this.colorElem_.style.background=`linear-gradient(${_.join(",")})`,this.previewElem_.style.backgroundColor=ti(t);const y=Q(i[3],0,1,0,100);this.markerElem_.style.left=`${y}%`}onValueChange_(){this.update_()}}class Su{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new ku(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=t.point.x/t.bounds.width,p=this.value.rawValue,[_,y,T]=p.getComponents("hsv");this.value.setRawValue(new B([_,y,T,a],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=ft(xe(!0),Ht(t));if(i===0)return;const a=this.value.rawValue,[p,_,y,T]=a.getComponents("hsv");this.value.setRawValue(new B([p,_,y,T+i],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){ft(xe(!0),Ht(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Fe=P("coltxt");function Vu(r){const t=r.createElement("select"),i=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(i.reduce((a,p)=>{const _=r.createElement("option");return _.textContent=p.text,_.value=p.value,a.appendChild(_),a},r.createDocumentFragment())),t}class Tu{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Fe());const a=t.createElement("div");a.classList.add(Fe("m")),this.modeElem_=Vu(t),this.modeElem_.classList.add(Fe("ms")),a.appendChild(this.modeSelectElement);const p=t.createElement("div");p.classList.add(Fe("mm")),p.appendChild(zn(t,"dropdown")),a.appendChild(p),this.element.appendChild(a);const _=t.createElement("div");_.classList.add(Fe("w")),this.element.appendChild(_),this.textsElem_=_,this.textViews_=i.textViews,this.applyTextViews_(),S(i.colorMode,y=>{this.modeElem_.value=y})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){Qr(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(i=>{const a=t.createElement("div");a.classList.add(Fe("c")),a.appendChild(i.element),this.textsElem_.appendChild(a)})}}const Au=dt(0),Mu={rgb:()=>new wt({min:0,max:255}),hsl:r=>r===0?new wt({min:0,max:360}):new wt({min:0,max:100}),hsv:r=>r===0?new wt({min:0,max:360}):new wt({min:0,max:100})};function $i(r,t,i){return new bn(r,{arrayPosition:i===0?"fst":i===3-1?"lst":"mid",baseStep:xe(!1),parser:t.parser,props:D.fromObject({draggingScale:1,formatter:Au}),value:F(0,{constraint:Mu[t.colorMode](i)}),viewProps:t.viewProps})}class Ou{constructor(t,i){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=i.parser,this.value=i.value,this.viewProps=i.viewProps,this.colorMode=F(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Tu(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const i={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},a=[$i(t,i,0),$i(t,i,1),$i(t,i,2)];return a.forEach((p,_)=>{mn({primary:this.value,secondary:p.value,forward:y=>y.rawValue.getComponents(this.colorMode.rawValue)[_],backward:(y,T)=>{const R=this.colorMode.rawValue,I=y.rawValue.getComponents(R);return I[_]=T.rawValue,new B(Vs(Be(I),I[3]),R)}})}),a}onModeSelectChange_(t){const i=t.currentTarget;this.colorMode.rawValue=i.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Hi=P("hpl");class Lu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Hi()),i.viewProps.bindTabIndex(this.element);const a=t.createElement("div");a.classList.add(Hi("c")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(Hi("m")),this.element.appendChild(p),this.markerElem_=p,this.update_()}update_(){const t=this.value.rawValue,[i]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Ms(new B([i,100,100],"hsv"));const a=Q(i,0,360,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class Du{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Lu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=Q(W(t.point.x,0,t.bounds.width),0,t.bounds.width,0,359),p=this.value.rawValue,[,_,y,T]=p.getComponents("hsv");this.value.setRawValue(new B([a,_,y,T],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=ft(xe(!1),Ht(t));if(i===0)return;const a=this.value.rawValue,[p,_,y,T]=a.getComponents("hsv");this.value.setRawValue(new B([p+i,_,y,T],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){ft(xe(!1),Ht(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const qi=P("svp"),Ls=64;class Ru{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(qi()),i.viewProps.bindTabIndex(this.element);const a=t.createElement("canvas");a.height=Ls,a.width=Ls,a.classList.add(qi("c")),this.element.appendChild(a),this.canvasElement=a;const p=t.createElement("div");p.classList.add(qi("m")),this.element.appendChild(p),this.markerElem_=p,this.update_()}update_(){const t=Ha(this.canvasElement);if(!t)return;const a=this.value.rawValue.getComponents("hsv"),p=this.canvasElement.width,_=this.canvasElement.height,y=t.getImageData(0,0,p,_),T=y.data;for(let z=0;z<_;z++)for(let j=0;j<p;j++){const Ce=Q(j,0,p,0,100),xn=Q(z,0,_,100,0),Cn=Ss(a[0],Ce,xn),Ke=(z*p+j)*4;T[Ke]=Cn[0],T[Ke+1]=Cn[1],T[Ke+2]=Cn[2],T[Ke+3]=255}t.putImageData(y,0,0);const R=Q(a[1],0,100,0,100);this.markerElem_.style.left=`${R}%`;const I=Q(a[2],0,100,100,0);this.markerElem_.style.top=`${I}%`}onValueChange_(){this.update_()}}class Iu{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Ru(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=Q(t.point.x,0,t.bounds.width,0,100),p=Q(t.point.y,0,t.bounds.height,100,0),[_,,,y]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new B([_,a,p,y],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){Cs(t.key)&&t.preventDefault();const[i,a,p,_]=this.value.rawValue.getComponents("hsv"),y=xe(!1),T=ft(y,Ht(t)),R=ft(y,_n(t));T===0&&R===0||this.value.setRawValue(new B([i,a+T,p+R,_],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const i=xe(!1),a=ft(i,Ht(t)),p=ft(i,_n(t));a===0&&p===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Nu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.hPaletteC_=new Du(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Iu(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=i.supportsAlpha?{palette:new Su(t,{value:this.value,viewProps:this.viewProps}),text:new bn(t,{parser:$t,baseStep:.1,props:D.fromObject({draggingScale:.01,formatter:dt(2)}),value:F(0,{constraint:new wt({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&mn({primary:this.value,secondary:this.alphaIcs_.text.value,forward:a=>a.rawValue.getComponents()[3],backward:(a,p)=>{const _=a.rawValue.getComponents();return _[3]=p.rawValue,new B(_,a.rawValue.mode)}}),this.textC_=new Ou(t,{parser:$t,value:this.value,viewProps:this.viewProps}),this.view=new gu(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:i.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Yi=P("colsw");class Bu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.element=t.createElement("div"),this.element.classList.add(Yi()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(Yi("sw")),this.element.appendChild(a),this.swatchElem_=a;const p=t.createElement("button");p.classList.add(Yi("b")),i.viewProps.bindDisabled(p),this.element.appendChild(p),this.buttonElement=p,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Jn(t)}onValueChange_(){this.update_()}}class Fu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Bu(t,{value:this.value,viewProps:this.viewProps})}}class Gi{constructor(t,i){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=ln.create(i.expanded),this.swatchC_=new Fu(t,{value:this.value,viewProps:this.viewProps});const a=this.swatchC_.view.buttonElement;a.addEventListener("blur",this.onButtonBlur_),a.addEventListener("click",this.onButtonClick_),this.textC_=new Hn(t,{parser:i.parser,props:D.fromObject({formatter:i.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new cu(t,{foldable:this.foldable_,pickerLayout:i.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=i.pickerLayout==="popup"?new ds(t,{viewProps:this.viewProps}):null;const p=new Nu(t,{supportsAlpha:i.supportsAlpha,value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(_=>{_.addEventListener("blur",this.onPopupChildBlur_),_.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(p.view.element),mn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:_=>_.rawValue,backward:(_,y)=>y.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),yi(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,a=t.relatedTarget;(!a||!i.contains(a))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,a=Zr(t);a&&i.contains(a)||a&&a===this.swatchC_.view.buttonElement&&!wi(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Uu(r){return B.isColorObject(r)?B.fromObject(r):B.black()}function zu(r){return Be(r.getComponents("rgb")).reduce((t,i)=>t<<8|Math.floor(i)&255,0)}function ju(r){return r.getComponents("rgb").reduce((t,i,a)=>{const p=Math.floor(a===3?i*255:i)&255;return t<<8|p},0)>>>0}function Ku(r){return new B([r>>16&255,r>>8&255,r&255],"rgb")}function $u(r){return new B([r>>24&255,r>>16&255,r>>8&255,Q(r&255,0,255,0,1)],"rgb")}function Hu(r){return typeof r!="number"?B.black():Ku(r)}function qu(r){return typeof r!="number"?B.black():$u(r)}function Yu(r){const t=Os(r);return(i,a)=>{gn(i,t(a))}}function Gu(r){const t=r?ju:zu;return(i,a)=>{gn(i,t(a))}}function Xu(r,t){const i=t.toRgbaObject();r.writeProperty("r",i.r),r.writeProperty("g",i.g),r.writeProperty("b",i.b),r.writeProperty("a",i.a)}function Wu(r,t){const i=t.toRgbaObject();r.writeProperty("r",i.r),r.writeProperty("g",i.g),r.writeProperty("b",i.b)}function Qu(r){return r?Xu:Wu}function Xi(r){return"alpha"in r&&r.alpha===!0}function Zu(r){return r?t=>Jn(t,"0x"):t=>Ki(t,"0x")}const Ju={id:"input-color-number",type:"input",accept:(r,t)=>{if(typeof r!="number"||!("view"in t)||t.view!=="color")return null;const i=zi(t);return i?{initialValue:r,params:i}:null},binding:{reader:r=>Xi(r.params)?qu:Hu,equals:B.equals,writer:r=>Gu(Xi(r.params))},controller:r=>{const t=Xi(r.params),i="expanded"in r.params?r.params.expanded:void 0,a="picker"in r.params?r.params.picker:void 0;return new Gi(r.document,{expanded:i!=null?i:!1,formatter:Zu(t),parser:Zn,pickerLayout:a!=null?a:"popup",supportsAlpha:t,value:r.value,viewProps:r.viewProps})}};function tc(r){return B.isRgbaColorObject(r)}const ec={id:"input-color-object",type:"input",accept:(r,t)=>{if(!B.isColorObject(r))return null;const i=zi(t);return i?{initialValue:r,params:i}:null},binding:{reader:r=>Uu,equals:B.equals,writer:r=>Qu(tc(r.initialValue))},controller:r=>{const t=B.isRgbaColorObject(r.initialValue),i="expanded"in r.params?r.params.expanded:void 0,a="picker"in r.params?r.params.picker:void 0,p=t?Jn:Ki;return new Gi(r.document,{expanded:i!=null?i:!1,formatter:p,parser:Zn,pickerLayout:a!=null?a:"popup",supportsAlpha:t,value:r.value,viewProps:r.viewProps})}},nc={id:"input-color-string",type:"input",accept:(r,t)=>{if(typeof r!="string"||"view"in t&&t.view==="text"||!Qn(r))return null;const a=zi(t);return a?{initialValue:r,params:a}:null},binding:{reader:r=>xu,equals:B.equals,writer:r=>{const t=Qn(r.initialValue);if(!t)throw m.shouldNeverHappen();return Yu(t)}},controller:r=>{const t=Qn(r.initialValue);if(!t)throw m.shouldNeverHappen();const i=Os(t),a="expanded"in r.params?r.params.expanded:void 0,p="picker"in r.params?r.params.picker:void 0;return new Gi(r.document,{expanded:a!=null?a:!1,formatter:i,parser:Zn,pickerLayout:p!=null?p:"popup",supportsAlpha:yu(t),value:r.value,viewProps:r.viewProps})}};class ne{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const i=this.asm_.toComponents(t).map((a,p)=>{var _,y;return(y=(_=this.components[p])===null||_===void 0?void 0:_.constrain(a))!==null&&y!==void 0?y:a});return this.asm_.fromComponents(i)}}const Ds=P("pndtxt");class ic{constructor(t,i){this.textViews=i.textViews,this.element=t.createElement("div"),this.element.classList.add(Ds()),this.textViews.forEach(a=>{const p=t.createElement("div");p.classList.add(Ds("a")),p.appendChild(a.element),this.element.appendChild(p)})}}function rc(r,t,i){return new bn(r,{arrayPosition:i===0?"fst":i===t.axes.length-1?"lst":"mid",baseStep:t.axes[i].baseStep,parser:t.parser,props:t.axes[i].textProps,value:F(0,{constraint:t.axes[i].constraint}),viewProps:t.viewProps})}class Wi{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.acs_=i.axes.map((a,p)=>rc(t,i,p)),this.acs_.forEach((a,p)=>{mn({primary:this.value,secondary:a.value,forward:_=>i.assembly.toComponents(_.rawValue)[p],backward:(_,y)=>{const T=i.assembly.toComponents(_.rawValue);return T[p]=y.rawValue,i.assembly.fromComponents(T)}})}),this.view=new ic(t,{textViews:this.acs_.map(a=>a.view)})}}function sc(r){return"step"in r&&!v(r.step)?new ge(r.step):null}function oc(r){return"max"in r&&!v(r.max)||"min"in r&&!v(r.min)?new wt({max:r.max,min:r.min}):null}function ac(r){const t=[],i=sc(r);i&&t.push(i);const a=oc(r);a&&t.push(a);const p=Fi(r.options);return p&&t.push(p),new be(t)}function lc(r){const t=r?Bt(r,wt):null;return t?[t.minValue,t.maxValue]:[void 0,void 0]}function uc(r){const[t,i]=lc(r);return[t!=null?t:0,i!=null?i:100]}const cc={id:"input-number",type:"input",accept:(r,t)=>{if(typeof r!="number")return null;const i=$,a=H(t,{format:i.optional.function,max:i.optional.number,min:i.optional.number,options:i.optional.custom(Yn),step:i.optional.number});return a?{initialValue:r,params:a}:null},binding:{reader:r=>ws,constraint:r=>ac(r.params),writer:r=>gn},controller:r=>{var t,i;const a=r.value,p=r.constraint;if(p&&Bt(p,pn))return new dn(r.document,{props:D.fromObject({options:(t=Ui(p))!==null&&t!==void 0?t:[]}),value:a,viewProps:r.viewProps});const _=(i="format"in r.params?r.params.format:void 0)!==null&&i!==void 0?i:dt(Gn(p,a.rawValue));if(p&&Bt(p,wt)){const[y,T]=uc(p);return new Bi(r.document,{baseStep:Ie(p),parser:$t,sliderProps:D.fromObject({maxValue:T,minValue:y}),textProps:D.fromObject({draggingScale:Ne(p,a.rawValue),formatter:_}),value:a,viewProps:r.viewProps})}return new bn(r.document,{baseStep:Ie(p),parser:$t,props:D.fromObject({draggingScale:Ne(p,a.rawValue),formatter:_}),value:a,viewProps:r.viewProps})}};class ie{constructor(t=0,i=0){this.x=t,this.y=i}getComponents(){return[this.x,this.y]}static isObject(t){if(v(t))return!1;const i=t.x,a=t.y;return!(typeof i!="number"||typeof a!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y}toObject(){return{x:this.x,y:this.y}}}const Rs={toComponents:r=>r.getComponents(),fromComponents:r=>new ie(...r)},Ue=P("p2d");class hc{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Ue()),i.viewProps.bindClassModifiers(this.element),S(i.expanded,O(this.element,Ue(void 0,"expanded")));const a=t.createElement("div");a.classList.add(Ue("h")),this.element.appendChild(a);const p=t.createElement("button");p.classList.add(Ue("b")),p.appendChild(zn(t,"p2dpad")),i.viewProps.bindDisabled(p),a.appendChild(p),this.buttonElement=p;const _=t.createElement("div");if(_.classList.add(Ue("t")),a.appendChild(_),this.textElement=_,i.pickerLayout==="inline"){const y=t.createElement("div");y.classList.add(Ue("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}const re=P("p2dp");class pc{constructor(t,i){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=i.invertsY,this.maxValue_=i.maxValue,this.element=t.createElement("div"),this.element.classList.add(re()),i.layout==="popup"&&this.element.classList.add(re(void 0,"p"));const a=t.createElement("div");a.classList.add(re("p")),i.viewProps.bindTabIndex(a),this.element.appendChild(a),this.padElement=a;const p=t.createElementNS(It,"svg");p.classList.add(re("g")),this.padElement.appendChild(p),this.svgElem_=p;const _=t.createElementNS(It,"line");_.classList.add(re("ax")),_.setAttributeNS(null,"x1","0"),_.setAttributeNS(null,"y1","50%"),_.setAttributeNS(null,"x2","100%"),_.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(_);const y=t.createElementNS(It,"line");y.classList.add(re("ax")),y.setAttributeNS(null,"x1","50%"),y.setAttributeNS(null,"y1","0"),y.setAttributeNS(null,"x2","50%"),y.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(y);const T=t.createElementNS(It,"line");T.classList.add(re("l")),T.setAttributeNS(null,"x1","50%"),T.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(T),this.lineElem_=T;const R=t.createElement("div");R.classList.add(re("m")),this.padElement.appendChild(R),this.markerElem_=R,i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,i]=this.value.rawValue.getComponents(),a=this.maxValue_,p=Q(t,-a,+a,0,100),_=Q(i,-a,+a,0,100),y=this.invertsY_?100-_:_;this.lineElem_.setAttributeNS(null,"x2",`${p}%`),this.lineElem_.setAttributeNS(null,"y2",`${y}%`),this.markerElem_.style.left=`${p}%`,this.markerElem_.style.top=`${y}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Is(r,t,i){return[ft(t[0],Ht(r)),ft(t[1],_n(r))*(i?1:-1)]}class dc{constructor(t,i){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.baseSteps_=i.baseSteps,this.maxValue_=i.maxValue,this.invertsY_=i.invertsY,this.view=new pc(t,{invertsY:this.invertsY_,layout:i.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=this.maxValue_,p=Q(t.point.x,0,t.bounds.width,-a,+a),_=Q(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-a,+a);this.value.setRawValue(new ie(p,_),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){Cs(t.key)&&t.preventDefault();const[i,a]=Is(t,this.baseSteps_,this.invertsY_);i===0&&a===0||this.value.setRawValue(new ie(this.value.rawValue.x+i,this.value.rawValue.y+a),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[i,a]=Is(t,this.baseSteps_,this.invertsY_);i===0&&a===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class fc{constructor(t,i){var a,p;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=ln.create(i.expanded),this.popC_=i.pickerLayout==="popup"?new ds(t,{viewProps:this.viewProps}):null;const _=new dc(t,{baseSteps:[i.axes[0].baseStep,i.axes[1].baseStep],invertsY:i.invertsY,layout:i.pickerLayout,maxValue:i.maxValue,value:this.value,viewProps:this.viewProps});_.view.allFocusableElements.forEach(y=>{y.addEventListener("blur",this.onPopupChildBlur_),y.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=_,this.textC_=new Wi(t,{assembly:Rs,axes:i.axes,parser:i.parser,value:this.value,viewProps:this.viewProps}),this.view=new hc(t,{expanded:this.foldable_.value("expanded"),pickerLayout:i.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(a=this.view.buttonElement)===null||a===void 0||a.addEventListener("blur",this.onPadButtonBlur_),(p=this.view.buttonElement)===null||p===void 0||p.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),mn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:y=>y.rawValue,backward:(y,T)=>T.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),yi(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,a=t.relatedTarget;(!a||!i.contains(a))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,a=Zr(t);a&&i.contains(a)||a&&a===this.view.buttonElement&&!wi(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function vc(r){return ie.isObject(r)?new ie(r.x,r.y):new ie}function mc(r,t){r.writeProperty("x",t.x),r.writeProperty("y",t.y)}function Ns(r){if(!r)return;const t=[];return v(r.step)||t.push(new ge(r.step)),(!v(r.max)||!v(r.min))&&t.push(new wt({max:r.max,min:r.min})),new be(t)}function _c(r){return new ne({assembly:Rs,components:[Ns("x"in r?r.x:void 0),Ns("y"in r?r.y:void 0)]})}function Bs(r,t){const i=r&&Bt(r,wt);if(i)return Math.max(Math.abs(i.minValue||0),Math.abs(i.maxValue||0));const a=Ie(r);return Math.max(Math.abs(a)*10,Math.abs(t)*10)}function bc(r,t){const i=t instanceof ne?t.components[0]:void 0,a=t instanceof ne?t.components[1]:void 0,p=Bs(i,r.x),_=Bs(a,r.y);return Math.max(p,_)}function Fs(r,t){return{baseStep:Ie(t),constraint:t,textProps:D.fromObject({draggingScale:Ne(t,r),formatter:dt(Gn(t,r))})}}function gc(r){if(!("y"in r))return!1;const t=r.y;return t&&"inverted"in t?!!t.inverted:!1}const wc={id:"input-point2d",type:"input",accept:(r,t)=>{if(!ie.isObject(r))return null;const i=$,a=H(t,{expanded:i.optional.boolean,picker:i.optional.custom(Es),x:i.optional.custom(te),y:i.optional.object({inverted:i.optional.boolean,max:i.optional.number,min:i.optional.number,step:i.optional.number})});return a?{initialValue:r,params:a}:null},binding:{reader:r=>vc,constraint:r=>_c(r.params),equals:ie.equals,writer:r=>mc},controller:r=>{const t=r.document,i=r.value,a=r.constraint;if(!(a instanceof ne))throw m.shouldNeverHappen();const p="expanded"in r.params?r.params.expanded:void 0,_="picker"in r.params?r.params.picker:void 0;return new fc(t,{axes:[Fs(i.rawValue.x,a.components[0]),Fs(i.rawValue.y,a.components[1])],expanded:p!=null?p:!1,invertsY:gc(r.params),maxValue:bc(i.rawValue,a),parser:$t,pickerLayout:_!=null?_:"popup",value:i,viewProps:r.viewProps})}};class ze{constructor(t=0,i=0,a=0){this.x=t,this.y=i,this.z=a}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(v(t))return!1;const i=t.x,a=t.y,p=t.z;return!(typeof i!="number"||typeof a!="number"||typeof p!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Us={toComponents:r=>r.getComponents(),fromComponents:r=>new ze(...r)};function yc(r){return ze.isObject(r)?new ze(r.x,r.y,r.z):new ze}function xc(r,t){r.writeProperty("x",t.x),r.writeProperty("y",t.y),r.writeProperty("z",t.z)}function Qi(r){if(!r)return;const t=[];return v(r.step)||t.push(new ge(r.step)),(!v(r.max)||!v(r.min))&&t.push(new wt({max:r.max,min:r.min})),new be(t)}function Cc(r){return new ne({assembly:Us,components:[Qi("x"in r?r.x:void 0),Qi("y"in r?r.y:void 0),Qi("z"in r?r.z:void 0)]})}function Zi(r,t){return{baseStep:Ie(t),constraint:t,textProps:D.fromObject({draggingScale:Ne(t,r),formatter:dt(Gn(t,r))})}}const Pc={id:"input-point3d",type:"input",accept:(r,t)=>{if(!ze.isObject(r))return null;const i=$,a=H(t,{x:i.optional.custom(te),y:i.optional.custom(te),z:i.optional.custom(te)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>yc,constraint:r=>Cc(r.params),equals:ze.equals,writer:r=>xc},controller:r=>{const t=r.value,i=r.constraint;if(!(i instanceof ne))throw m.shouldNeverHappen();return new Wi(r.document,{assembly:Us,axes:[Zi(t.rawValue.x,i.components[0]),Zi(t.rawValue.y,i.components[1]),Zi(t.rawValue.z,i.components[2])],parser:$t,value:t,viewProps:r.viewProps})}};class je{constructor(t=0,i=0,a=0,p=0){this.x=t,this.y=i,this.z=a,this.w=p}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(v(t))return!1;const i=t.x,a=t.y,p=t.z,_=t.w;return!(typeof i!="number"||typeof a!="number"||typeof p!="number"||typeof _!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z&&t.w===i.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const zs={toComponents:r=>r.getComponents(),fromComponents:r=>new je(...r)};function Ec(r){return je.isObject(r)?new je(r.x,r.y,r.z,r.w):new je}function kc(r,t){r.writeProperty("x",t.x),r.writeProperty("y",t.y),r.writeProperty("z",t.z),r.writeProperty("w",t.w)}function ei(r){if(!r)return;const t=[];return v(r.step)||t.push(new ge(r.step)),(!v(r.max)||!v(r.min))&&t.push(new wt({max:r.max,min:r.min})),new be(t)}function Sc(r){return new ne({assembly:zs,components:[ei("x"in r?r.x:void 0),ei("y"in r?r.y:void 0),ei("z"in r?r.z:void 0),ei("w"in r?r.w:void 0)]})}function Vc(r,t){return{baseStep:Ie(t),constraint:t,textProps:D.fromObject({draggingScale:Ne(t,r),formatter:dt(Gn(t,r))})}}const Tc={id:"input-point4d",type:"input",accept:(r,t)=>{if(!je.isObject(r))return null;const i=$,a=H(t,{x:i.optional.custom(te),y:i.optional.custom(te),z:i.optional.custom(te),w:i.optional.custom(te)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>Ec,constraint:r=>Sc(r.params),equals:je.equals,writer:r=>kc},controller:r=>{const t=r.value,i=r.constraint;if(!(i instanceof ne))throw m.shouldNeverHappen();return new Wi(r.document,{assembly:zs,axes:t.rawValue.getComponents().map((a,p)=>Vc(a,i.components[p])),parser:$t,value:t,viewProps:r.viewProps})}};function Ac(r){const t=[],i=Fi(r.options);return i&&t.push(i),new be(t)}const Mc={id:"input-string",type:"input",accept:(r,t)=>{if(typeof r!="string")return null;const a=H(t,{options:$.optional.custom(Yn)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>ys,constraint:r=>Ac(r.params),writer:r=>gn},controller:r=>{var t;const i=r.document,a=r.value,p=r.constraint;return p&&Bt(p,pn)?new dn(i,{props:D.fromObject({options:(t=Ui(p))!==null&&t!==void 0?t:[]}),value:a,viewProps:r.viewProps}):new Hn(i,{parser:_=>_,props:D.fromObject({formatter:Li}),value:a,viewProps:r.viewProps})}},yn={monitor:{defaultInterval:200,defaultLineCount:3}},js=P("mll");class Oc{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(js()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("textarea");a.classList.add(js("i")),a.style.height=`calc(var(--bld-us) * ${i.lineCount})`,a.readOnly=!0,i.viewProps.bindDisabled(a),this.element.appendChild(a),this.textareaElem_=a,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.textareaElem_,i=t.scrollTop===t.scrollHeight-t.clientHeight,a=[];this.value.rawValue.forEach(p=>{p!==void 0&&a.push(this.formatter_(p))}),t.textContent=a.join(`
`),i&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class Ji{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Oc(t,{formatter:i.formatter,lineCount:i.lineCount,value:this.value,viewProps:this.viewProps})}}const Ks=P("sgl");class Lc{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(Ks()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("input");a.classList.add(Ks("i")),a.readOnly=!0,a.type="text",i.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.value.rawValue,i=t[t.length-1];this.inputElement.value=i!==void 0?this.formatter_(i):""}onValueUpdate_(){this.update_()}}class tr{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Lc(t,{formatter:i.formatter,value:this.value,viewProps:this.viewProps})}}const Dc={id:"monitor-bool",type:"monitor",accept:(r,t)=>{if(typeof r!="boolean")return null;const a=H(t,{lineCount:$.optional.number});return a?{initialValue:r,params:a}:null},binding:{reader:r=>vs},controller:r=>{var t;return r.value.rawValue.length===1?new tr(r.document,{formatter:ms,value:r.value,viewProps:r.viewProps}):new Ji(r.document,{formatter:ms,lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:yn.monitor.defaultLineCount,value:r.value,viewProps:r.viewProps})}};class Rc{constructor(){this.emitter=new x,this.index_=-1}get index(){return this.index_}set index(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}const se=P("grl");class Ic{constructor(t,i){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(se()),i.viewProps.bindClassModifiers(this.element),this.formatter_=i.formatter,this.minValue_=i.minValue,this.maxValue_=i.maxValue,this.cursor_=i.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const a=t.createElementNS(It,"svg");a.classList.add(se("g")),a.style.height=`calc(var(--bld-us) * ${i.lineCount})`,this.element.appendChild(a),this.svgElem_=a;const p=t.createElementNS(It,"polyline");this.svgElem_.appendChild(p),this.lineElem_=p;const _=t.createElement("div");_.classList.add(se("t"),P("tt")()),this.element.appendChild(_),this.tooltipElem_=_,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),i=this.value.rawValue.length-1,a=this.minValue_,p=this.maxValue_,_=[];this.value.rawValue.forEach((z,j)=>{if(z===void 0)return;const Ce=Q(j,0,i,0,t.width),xn=Q(z,a,p,t.height,0);_.push([Ce,xn].join(","))}),this.lineElem_.setAttributeNS(null,"points",_.join(" "));const y=this.tooltipElem_,T=this.value.rawValue[this.cursor_.index];if(T===void 0){y.classList.remove(se("t","a"));return}const R=Q(this.cursor_.index,0,i,0,t.width),I=Q(T,a,p,t.height,0);y.style.left=`${R}px`,y.style.top=`${I}px`,y.textContent=`${this.formatter_(T)}`,y.classList.contains(se("t","a"))||(y.classList.add(se("t","a"),se("t","in")),Un(y),y.classList.remove(se("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Nc{constructor(t,i){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.cursor_=new Rc,this.view=new Ic(t,{cursor:this.cursor_,formatter:i.formatter,lineCount:i.lineCount,maxValue:i.maxValue,minValue:i.minValue,value:this.value,viewProps:this.viewProps}),!wi(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const a=new we(this.view.element);a.emitter.on("down",this.onGraphPointerDown_),a.emitter.on("move",this.onGraphPointerMove_),a.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(t){const i=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Q(t.offsetX,0,i.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Q(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function er(r){return"format"in r&&!v(r.format)?r.format:dt(2)}function Bc(r){var t;return r.value.rawValue.length===1?new tr(r.document,{formatter:er(r.params),value:r.value,viewProps:r.viewProps}):new Ji(r.document,{formatter:er(r.params),lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:yn.monitor.defaultLineCount,value:r.value,viewProps:r.viewProps})}function Fc(r){var t,i,a;return new Nc(r.document,{formatter:er(r.params),lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:yn.monitor.defaultLineCount,maxValue:(i="max"in r.params?r.params.max:null)!==null&&i!==void 0?i:100,minValue:(a="min"in r.params?r.params.min:null)!==null&&a!==void 0?a:0,value:r.value,viewProps:r.viewProps})}function $s(r){return"view"in r&&r.view==="graph"}const Uc={id:"monitor-number",type:"monitor",accept:(r,t)=>{if(typeof r!="number")return null;const i=$,a=H(t,{format:i.optional.function,lineCount:i.optional.number,max:i.optional.number,min:i.optional.number,view:i.optional.string});return a?{initialValue:r,params:a}:null},binding:{defaultBufferSize:r=>$s(r)?64:1,reader:r=>ws},controller:r=>$s(r.params)?Fc(r):Bc(r)},zc={id:"monitor-string",type:"monitor",accept:(r,t)=>{if(typeof r!="string")return null;const i=$,a=H(t,{lineCount:i.optional.number,multiline:i.optional.boolean});return a?{initialValue:r,params:a}:null},binding:{reader:r=>ys},controller:r=>{var t;const i=r.value;return i.rawValue.length>1||"multiline"in r.params&&r.params.multiline?new Ji(r.document,{formatter:Li,lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:yn.monitor.defaultLineCount,value:i,viewProps:r.viewProps}):new tr(r.document,{formatter:Li,value:i,viewProps:r.viewProps})}};class jc{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new x,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function Kc(r,t){const i=r.accept(t.target.read(),t.params);if(v(i))return null;const a=$,p={target:t.target,initialValue:i.initialValue,params:i.params},_=r.binding.reader(p),y=r.binding.constraint?r.binding.constraint(p):void 0,T=F(_(i.initialValue),{constraint:y,equals:r.binding.equals}),R=new jc({reader:_,target:t.target,value:T,writer:r.binding.writer(p)}),I=a.optional.boolean(t.params.disabled).value,z=a.optional.boolean(t.params.hidden).value,j=r.controller({constraint:y,document:t.document,initialValue:i.initialValue,params:i.params,value:R.value,viewProps:Jt.create({disabled:I,hidden:z})}),Ce=a.optional.string(t.params.label).value;return new Nt(t.document,{binding:R,blade:an(),props:D.fromObject({label:Ce||t.target.key}),valueController:j})}class $c{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new x,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const i=this.value.rawValue,a=this.reader_(t);this.value.rawValue=Jl(i,a),this.emitter.emit("update",{rawValue:a,sender:this})}onTick_(t){this.read()}}function Hc(r,t){return t===0?new _l:new bl(r,t!=null?t:yn.monitor.defaultInterval)}function qc(r,t){var i,a,p;const _=$,y=r.accept(t.target.read(),t.params);if(v(y))return null;const T={target:t.target,initialValue:y.initialValue,params:y.params},R=r.binding.reader(T),I=(a=(i=_.optional.number(t.params.bufferSize).value)!==null&&i!==void 0?i:r.binding.defaultBufferSize&&r.binding.defaultBufferSize(y.params))!==null&&a!==void 0?a:1,z=_.optional.number(t.params.interval).value,j=new $c({reader:R,target:t.target,ticker:Hc(t.document,z),value:Ql(I)}),Ce=_.optional.boolean(t.params.disabled).value,xn=_.optional.boolean(t.params.hidden).value,Cn=r.controller({document:t.document,params:y.params,value:j.value,viewProps:Jt.create({disabled:Ce,hidden:xn})}),Ke=(p=_.optional.string(t.params.label).value)!==null&&p!==void 0?p:t.target.key;return new Zt(t.document,{binding:j,blade:an(),props:D.fromObject({label:Ke}),valueController:Cn})}class Yc{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,i,a){const p=i.read();if(v(p))throw new m({context:{key:i.key},type:"nomatchingcontroller"});const _=this.pluginsMap_.inputs.reduce((y,T)=>y||Kc(T,{document:t,target:i,params:a}),null);if(_)return _;throw new m({context:{key:i.key},type:"nomatchingcontroller"})}createMonitor(t,i,a){const p=this.pluginsMap_.monitors.reduce((_,y)=>_||qc(y,{document:t,params:a,target:i}),null);if(p)return p;throw new m({context:{key:i.key},type:"nomatchingcontroller"})}createBlade(t,i){const a=this.pluginsMap_.blades.reduce((p,_)=>p||ml(_,{document:t,params:i}),null);if(!a)throw new m({type:"nomatchingview",context:{params:i}});return a}createBladeApi(t){if(t instanceof Nt)return new Pi(t);if(t instanceof Zt)return new Ei(t);if(t instanceof cn)return new Kn(t,this);const i=this.pluginsMap_.blades.reduce((a,p)=>a||p.api({controller:t,pool:this}),null);if(!i)throw m.shouldNeverHappen();return i}}function Gc(){const r=new Yc;return[wc,Pc,Tc,Mc,cc,nc,ec,Ju,uu,Dc,zc,Uc,Xa,ul,hl,hs].forEach(t=>{r.register(t)}),r}class Hs extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}class qs extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}class Ys extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}const Xc=function(){return{id:"list",type:"blade",accept(r){const t=$,i=H(r,{options:t.required.custom(Yn),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return i?{params:i}:null},controller(r){const t=new dn(r.document,{props:D.fromObject({options:ks(r.params.options)}),value:F(r.params.value),viewProps:r.viewProps});return new Re(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:t})},api(r){return!(r.controller instanceof Re)||!(r.controller.valueController instanceof dn)?null:new Hs(r.controller)}}}();function Wc(r){return r.reduce((t,i)=>Object.assign(t,{[i.presetKey]:i.read()}),{})}function Qc(r,t){r.forEach(i=>{const a=t[i.presetKey];a!==void 0&&i.write(a)})}class Zc extends ki{constructor(t,i){super(t,i)}get element(){return this.controller_.view.element}importPreset(t){const i=this.controller_.rackController.rack.find(Nt).map(a=>a.binding.target);Qc(i,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(Nt).map(i=>i.binding.target);return Wc(t)}refresh(){this.controller_.rackController.rack.find(Nt).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(Zt).forEach(t=>{t.binding.read()})}}class Jc extends Ti{constructor(t,i){super(t,{expanded:i.expanded,blade:i.blade,props:i.props,root:!0,viewProps:i.viewProps})}}const th={id:"slider",type:"blade",accept(r){const t=$,i=H(r,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return i?{params:i}:null},controller(r){var t,i;const a=(t=r.params.value)!==null&&t!==void 0?t:0,p=new Bi(r.document,{baseStep:1,parser:$t,sliderProps:D.fromObject({maxValue:r.params.max,minValue:r.params.min}),textProps:D.fromObject({draggingScale:Ne(void 0,a),formatter:(i=r.params.format)!==null&&i!==void 0?i:Xl}),value:F(a),viewProps:r.viewProps});return new Re(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:p})},api(r){return!(r.controller instanceof Re)||!(r.controller.valueController instanceof Bi)?null:new qs(r.controller)}},eh=function(){return{id:"text",type:"blade",accept(r){const t=$,i=H(r,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return i?{params:i}:null},controller(r){var t;const i=new Hn(r.document,{parser:r.params.parse,props:D.fromObject({formatter:(t=r.params.format)!==null&&t!==void 0?t:a=>String(a)}),value:F(r.params.value),viewProps:r.viewProps});return new Re(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:i})},api(r){return!(r.controller instanceof Re)||!(r.controller.valueController instanceof Hn)?null:new Ys(r.controller)}}}();function nh(r){const t=r.createElement("div");return t.classList.add(P("dfw")()),r.body&&r.body.appendChild(t),t}function Gs(r,t,i){if(r.querySelector(`style[data-tp-style=${t}]`))return;const a=r.createElement("style");a.dataset.tpStyle=t,a.textContent=i,r.head.appendChild(a)}class ih extends Zc{constructor(t){var i;const a=t||{},p=(i=a.document)!==null&&i!==void 0?i:$a(),_=Gc(),y=new Jc(p,{expanded:a.expanded,blade:an(),props:D.fromObject({title:a.title}),viewProps:Jt.create()});super(y,_),this.pool_=_,this.containerElem_=a.container||nh(p),this.containerElem_.appendChild(this.element),this.doc_=p,this.usesDefaultWrapper_=!a.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw m.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw m.alreadyDisposed();if(this.usesDefaultWrapper_){const i=t.parentElement;i&&i.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(a=>{this.pool_.register(a),this.embedPluginStyle_(a)})}embedPluginStyle_(t){t.css&&Gs(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){Gs(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[th,Xc,hs,eh]})}}const rh=new s("3.0.8");n.BladeApi=o,n.ButtonApi=b,n.FolderApi=ki,n.InputBindingApi=Pi,n.ListApi=Hs,n.MonitorBindingApi=Ei,n.Pane=ih,n.SeparatorApi=is,n.SliderApi=qs,n.TabApi=us,n.TabPageApi=ls,n.TextApi=Ys,n.TpChangeEvent=c,n.VERSION=rh,Object.defineProperty(n,"__esModule",{value:!0})})})(co,co.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cr=function(u,e){return Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Cr(u,e)};function _e(u,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cr(u,e);function n(){this.constructor=u}u.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function fp(u,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(v){try{d(s.next(v))}catch(g){c(g)}}function f(v){try{d(s.throw(v))}catch(g){c(g)}}function d(v){v.done?l(v.value):o(v.value).then(h,f)}d((s=s.apply(u,e||[])).next())})}function ba(u,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(v){return f([d,v])}}function f(d){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(l=d[0]&2?o.return:d[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,d[1])).done)return l;switch(o=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){n.label=d[1];break}if(d[0]===6&&n.label<l[1]){n.label=l[1],l=d;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(d);break}l[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(u,n)}catch(v){d=[6,v],o=0}finally{s=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function nn(u){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&u[e],s=0;if(n)return n.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(u,e){var n=typeof Symbol=="function"&&u[Symbol.iterator];if(!n)return u;var s=n.call(u),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return l}function Dt(u,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return u.concat(l||Array.prototype.slice.call(e))}function We(u){return this instanceof We?(this.v=u,this):new We(u)}function vp(u,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(u,e||[]),o,l=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(w){s[w]&&(o[w]=function(m){return new Promise(function(C,b){l.push([w,m,C,b])>1||h(w,m)})})}function h(w,m){try{f(s[w](m))}catch(C){g(l[0][3],C)}}function f(w){w.value instanceof We?Promise.resolve(w.value.v).then(d,v):g(l[0][2],w)}function d(w){h("next",w)}function v(w){h("throw",w)}function g(w,m){w(m),l.shift(),l.length&&h(l[0][0],l[0][1])}}function mp(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=u[Symbol.asyncIterator],n;return e?e.call(u):(u=typeof nn=="function"?nn(u):u[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=u[l]&&function(c){return new Promise(function(h,f){c=u[l](c),o(h,f,c.done,c.value)})}}function o(l,c,h,f){Promise.resolve(f).then(function(d){l({value:d,done:h})},c)}}function K(u){return typeof u=="function"}function zr(u){var e=function(s){Error.call(s),s.stack=new Error().stack},n=u(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cr=zr(function(u){return function(n){u(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function vi(u,e){if(u){var n=u.indexOf(e);0<=n&&u.splice(n,1)}}var rn=function(){function u(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return u.prototype.unsubscribe=function(){var e,n,s,o,l;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var h=nn(c),f=h.next();!f.done;f=h.next()){var d=f.value;d.remove(this)}}catch(b){e={error:b}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}else c.remove(this);var v=this.initialTeardown;if(K(v))try{v()}catch(b){l=b instanceof cr?b.errors:[b]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var w=nn(g),m=w.next();!m.done;m=w.next()){var C=m.value;try{ho(C)}catch(b){l=l!=null?l:[],b instanceof cr?l=Dt(Dt([],Ot(l)),Ot(b.errors)):l.push(b)}}}catch(b){s={error:b}}finally{try{m&&!m.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}}if(l)throw new cr(l)}},u.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)ho(e);else{if(e instanceof u){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},u.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},u.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},u.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&vi(n,e)},u.prototype.remove=function(e){var n=this._finalizers;n&&vi(n,e),e instanceof u&&e._removeParent(this)},u.EMPTY=function(){var e=new u;return e.closed=!0,e}(),u}(),ga=rn.EMPTY;function wa(u){return u instanceof rn||u&&"closed"in u&&K(u.remove)&&K(u.add)&&K(u.unsubscribe)}function ho(u){K(u)?u():u.unsubscribe()}var jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pr={setTimeout:function(u,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=Pr.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Dt([u,e],Ot(n))):setTimeout.apply(void 0,Dt([u,e],Ot(n)))},clearTimeout:function(u){var e=Pr.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(u)},delegate:void 0};function ya(u){Pr.setTimeout(function(){throw u})}function mi(){}var ii=null;function oi(u){if(jr.useDeprecatedSynchronousErrorHandling){var e=!ii;if(e&&(ii={errorThrown:!1,error:null}),u(),e){var n=ii,s=n.errorThrown,o=n.error;if(ii=null,s)throw o}}else u()}var Kr=function(u){_e(e,u);function e(n){var s=u.call(this)||this;return s.isStopped=!1,n?(s.destination=n,wa(n)&&n.add(s)):s.destination=wp,s}return e.create=function(n,s,o){return new Er(n,s,o)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,u.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(rn),_p=Function.prototype.bind;function hr(u,e){return _p.call(u,e)}var bp=function(){function u(e){this.partialObserver=e}return u.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(s){ri(s)}},u.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(s){ri(s)}else ri(e)},u.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){ri(n)}},u}(),Er=function(u){_e(e,u);function e(n,s,o){var l=u.call(this)||this,c;if(K(n)||!n)c={next:n!=null?n:void 0,error:s!=null?s:void 0,complete:o!=null?o:void 0};else{var h;l&&jr.useDeprecatedNextContext?(h=Object.create(n),h.unsubscribe=function(){return l.unsubscribe()},c={next:n.next&&hr(n.next,h),error:n.error&&hr(n.error,h),complete:n.complete&&hr(n.complete,h)}):c=n}return l.destination=new bp(c),l}return e}(Kr);function ri(u){ya(u)}function gp(u){throw u}var wp={closed:!0,next:mi,error:gp,complete:mi},$r=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Fn(u){return u}function yp(u){return u.length===0?Fn:u.length===1?u[0]:function(n){return u.reduce(function(s,o){return o(s)},n)}}var gt=function(){function u(e){e&&(this._subscribe=e)}return u.prototype.lift=function(e){var n=new u;return n.source=this,n.operator=e,n},u.prototype.subscribe=function(e,n,s){var o=this,l=Cp(e)?e:new Er(e,n,s);return oi(function(){var c=o,h=c.operator,f=c.source;l.add(h?h.call(l,f):f?o._subscribe(l):o._trySubscribe(l))}),l},u.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},u.prototype.forEach=function(e,n){var s=this;return n=po(n),new n(function(o,l){var c=new Er({next:function(h){try{e(h)}catch(f){l(f),c.unsubscribe()}},error:l,complete:o});s.subscribe(c)})},u.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},u.prototype[$r]=function(){return this},u.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return yp(e)(this)},u.prototype.toPromise=function(e){var n=this;return e=po(e),new e(function(s,o){var l;n.subscribe(function(c){return l=c},function(c){return o(c)},function(){return s(l)})})},u.create=function(e){return new u(e)},u}();function po(u){var e;return(e=u!=null?u:jr.Promise)!==null&&e!==void 0?e:Promise}function xp(u){return u&&K(u.next)&&K(u.error)&&K(u.complete)}function Cp(u){return u&&u instanceof Kr||xp(u)&&wa(u)}function Pp(u){return K(u==null?void 0:u.lift)}function pt(u){return function(e){if(Pp(e))return e.lift(function(n){try{return u(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(u,e,n,s,o){return new Ep(u,e,n,s,o)}var Ep=function(u){_e(e,u);function e(n,s,o,l,c,h){var f=u.call(this,n)||this;return f.onFinalize=c,f.shouldUnsubscribe=h,f._next=s?function(d){try{s(d)}catch(v){n.error(v)}}:u.prototype._next,f._error=l?function(d){try{l(d)}catch(v){n.error(v)}finally{this.unsubscribe()}}:u.prototype._error,f._complete=o?function(){try{o()}catch(d){n.error(d)}finally{this.unsubscribe()}}:u.prototype._complete,f}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;u.prototype.unsubscribe.call(this),!s&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Kr),xa={now:function(){return(xa.delegate||performance).now()},delegate:void 0},An={schedule:function(u){var e=requestAnimationFrame,n=cancelAnimationFrame,s=An.delegate;s&&(e=s.requestAnimationFrame,n=s.cancelAnimationFrame);var o=e(function(l){n=void 0,u(l)});return new rn(function(){return n==null?void 0:n(o)})},requestAnimationFrame:function(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var n=An.delegate;return((n==null?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Dt([],Ot(u)))},cancelAnimationFrame:function(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var n=An.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Dt([],Ot(u)))},delegate:void 0};function vd(u){return u?Ca(u):kp}function Ca(u){return new gt(function(e){var n=u||xa,s=n.now(),o=0,l=function(){e.closed||(o=An.requestAnimationFrame(function(c){o=0;var h=n.now();e.next({timestamp:u?h:c,elapsed:h-s}),l()}))};return l(),function(){o&&An.cancelAnimationFrame(o)}})}var kp=Ca(),Sp=zr(function(u){return function(){u(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Vp=function(u){_e(e,u);function e(){var n=u.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var s=new fo(this,this);return s.operator=n,s},e.prototype._throwIfClosed=function(){if(this.closed)throw new Sp},e.prototype.next=function(n){var s=this;oi(function(){var o,l;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var c=nn(s.currentObservers),h=c.next();!h.done;h=c.next()){var f=h.value;f.next(n)}}catch(d){o={error:d}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}}})},e.prototype.error=function(n){var s=this;oi(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},e.prototype.complete=function(){var n=this;oi(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),u.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var s=this,o=this,l=o.hasError,c=o.isStopped,h=o.observers;return l||c?ga:(this.currentObservers=null,h.push(n),new rn(function(){s.currentObservers=null,vi(h,n)}))},e.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,l=s.thrownError,c=s.isStopped;o?n.error(l):c&&n.complete()},e.prototype.asObservable=function(){var n=new gt;return n.source=this,n},e.create=function(n,s){return new fo(n,s)},e}(gt),fo=function(u){_e(e,u);function e(n,s){var o=u.call(this)||this;return o.destination=n,o.source=s,o}return e.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},e.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},e.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},e.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:ga},e}(Vp),Pa={now:function(){return(Pa.delegate||Date).now()},delegate:void 0},Tp=function(u){_e(e,u);function e(n,s){return u.call(this)||this}return e.prototype.schedule=function(n,s){return s===void 0&&(s=0),this},e}(rn),_i={setInterval:function(u,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=_i.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Dt([u,e],Ot(n))):setInterval.apply(void 0,Dt([u,e],Ot(n)))},clearInterval:function(u){var e=_i.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(u)},delegate:void 0},Ap=function(u){_e(e,u);function e(n,s){var o=u.call(this,n,s)||this;return o.scheduler=n,o.work=s,o.pending=!1,o}return e.prototype.schedule=function(n,s){var o;if(s===void 0&&(s=0),this.closed)return this;this.state=n;var l=this.id,c=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(c,l,s)),this.pending=!0,this.delay=s,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(c,this.id,s),this},e.prototype.requestAsyncId=function(n,s,o){return o===void 0&&(o=0),_i.setInterval(n.flush.bind(n,this),o)},e.prototype.recycleAsyncId=function(n,s,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return s;s!=null&&_i.clearInterval(s)},e.prototype.execute=function(n,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,s);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,s){var o=!1,l;try{this.work(n)}catch(c){o=!0,l=c||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),l},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,s=n.id,o=n.scheduler,l=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,vi(l,this),s!=null&&(this.id=this.recycleAsyncId(o,s,null)),this.delay=null,u.prototype.unsubscribe.call(this)}},e}(Tp),vo=function(){function u(e,n){n===void 0&&(n=u.now),this.schedulerActionCtor=e,this.now=n}return u.prototype.schedule=function(e,n,s){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(s,n)},u.now=Pa.now,u}(),Mp=function(u){_e(e,u);function e(n,s){s===void 0&&(s=vo.now);var o=u.call(this,n,s)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(n){var s=this.actions;if(this._active){s.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=s.shift());if(this._active=!1,o){for(;n=s.shift();)n.unsubscribe();throw o}},e}(vo),Op=new Mp(Ap),Lp=new gt(function(u){return u.complete()});function Dp(u){return u&&K(u.schedule)}function Ea(u){return u[u.length-1]}function Rp(u){return K(Ea(u))?u.pop():void 0}function ka(u){return Dp(Ea(u))?u.pop():void 0}var Hr=function(u){return u&&typeof u.length=="number"&&typeof u!="function"};function Sa(u){return K(u==null?void 0:u.then)}function Va(u){return K(u[$r])}function Ta(u){return Symbol.asyncIterator&&K(u==null?void 0:u[Symbol.asyncIterator])}function Aa(u){return new TypeError("You provided "+(u!==null&&typeof u=="object"?"an invalid object":"'"+u+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ip(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ma=Ip();function Oa(u){return K(u==null?void 0:u[Ma])}function La(u){return vp(this,arguments,function(){var n,s,o,l;return ba(this,function(c){switch(c.label){case 0:n=u.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,We(n.read())];case 3:return s=c.sent(),o=s.value,l=s.done,l?[4,We(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,We(o)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Da(u){return K(u==null?void 0:u.getReader)}function Qt(u){if(u instanceof gt)return u;if(u!=null){if(Va(u))return Np(u);if(Hr(u))return Bp(u);if(Sa(u))return Fp(u);if(Ta(u))return Ra(u);if(Oa(u))return Up(u);if(Da(u))return zp(u)}throw Aa(u)}function Np(u){return new gt(function(e){var n=u[$r]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Bp(u){return new gt(function(e){for(var n=0;n<u.length&&!e.closed;n++)e.next(u[n]);e.complete()})}function Fp(u){return new gt(function(e){u.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,ya)})}function Up(u){return new gt(function(e){var n,s;try{for(var o=nn(u),l=o.next();!l.done;l=o.next()){var c=l.value;if(e.next(c),e.closed)return}}catch(h){n={error:h}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}e.complete()})}function Ra(u){return new gt(function(e){jp(u,e).catch(function(n){return e.error(n)})})}function zp(u){return Ra(La(u))}function jp(u,e){var n,s,o,l;return fp(this,void 0,void 0,function(){var c,h;return ba(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=mp(u),f.label=1;case 1:return[4,n.next()];case 2:if(s=f.sent(),!!s.done)return[3,4];if(c=s.value,e.next(c),e.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=f.sent(),o={error:h},[3,11];case 6:return f.trys.push([6,,9,10]),s&&!s.done&&(l=n.return)?[4,l.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function pe(u,e,n,s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var l=e.schedule(function(){n(),o?u.add(this.schedule(null,s)):this.unsubscribe()},s);if(u.add(l),!o)return l}function Ia(u,e){return e===void 0&&(e=0),pt(function(n,s){n.subscribe(ct(s,function(o){return pe(s,u,function(){return s.next(o)},e)},function(){return pe(s,u,function(){return s.complete()},e)},function(o){return pe(s,u,function(){return s.error(o)},e)}))})}function Na(u,e){return e===void 0&&(e=0),pt(function(n,s){s.add(u.schedule(function(){return n.subscribe(s)},e))})}function Kp(u,e){return Qt(u).pipe(Na(e),Ia(e))}function $p(u,e){return Qt(u).pipe(Na(e),Ia(e))}function Hp(u,e){return new gt(function(n){var s=0;return e.schedule(function(){s===u.length?n.complete():(n.next(u[s++]),n.closed||this.schedule())})})}function qp(u,e){return new gt(function(n){var s;return pe(n,e,function(){s=u[Ma](),pe(n,e,function(){var o,l,c;try{o=s.next(),l=o.value,c=o.done}catch(h){n.error(h);return}c?n.complete():n.next(l)},0,!0)}),function(){return K(s==null?void 0:s.return)&&s.return()}})}function Ba(u,e){if(!u)throw new Error("Iterable cannot be null");return new gt(function(n){pe(n,e,function(){var s=u[Symbol.asyncIterator]();pe(n,e,function(){s.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Yp(u,e){return Ba(La(u),e)}function Gp(u,e){if(u!=null){if(Va(u))return Kp(u,e);if(Hr(u))return Hp(u,e);if(Sa(u))return $p(u,e);if(Ta(u))return Ba(u,e);if(Oa(u))return qp(u,e);if(Da(u))return Yp(u,e)}throw Aa(u)}function Xp(u,e){return e?Gp(u,e):Qt(u)}var Fa=zr(function(u){return function(){u(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ua(u,e){return pt(function(n,s){var o=0;n.subscribe(ct(s,function(l){s.next(u.call(e,l,o++))}))})}var Wp=Array.isArray;function Qp(u,e){return Wp(e)?u.apply(void 0,Dt([],Ot(e))):u(e)}function Zp(u){return Ua(function(e){return Qp(u,e)})}function Jp(u,e,n,s,o,l,c,h){var f=[],d=0,v=0,g=!1,w=function(){g&&!f.length&&!d&&e.complete()},m=function(b){return d<s?C(b):f.push(b)},C=function(b){l&&e.next(b),d++;var x=!1;Qt(n(b,v++)).subscribe(ct(e,function(E){o==null||o(E),l?m(E):e.next(E)},function(){x=!0},void 0,function(){if(x)try{d--;for(var E=function(){var P=f.shift();c?pe(e,c,function(){return C(P)}):C(P)};f.length&&d<s;)E();w()}catch(P){e.error(P)}}))};return u.subscribe(ct(e,m,function(){g=!0,w()})),function(){h==null||h()}}function qr(u,e,n){return n===void 0&&(n=1/0),K(e)?qr(function(s,o){return Ua(function(l,c){return e(s,l,o,c)})(Qt(u(s,o)))},n):(typeof e=="number"&&(n=e),pt(function(s,o){return Jp(s,o,u,n)}))}function td(u){return u===void 0&&(u=1/0),qr(Fn,u)}function ed(){return td(1)}function mo(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];return ed()(Xp(u,ka(u)))}var nd=["addListener","removeListener"],id=["addEventListener","removeEventListener"],rd=["on","off"];function _o(u,e,n,s){if(K(n)&&(s=n,n=void 0),s)return _o(u,e,n).pipe(Zp(s));var o=Ot(ad(u)?id.map(function(h){return function(f){return u[h](e,f,n)}}):sd(u)?nd.map(bo(u,e)):od(u)?rd.map(bo(u,e)):[],2),l=o[0],c=o[1];if(!l&&Hr(u))return qr(function(h){return _o(h,e,n)})(Qt(u));if(!l)throw new TypeError("Invalid event target");return new gt(function(h){var f=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];return h.next(1<d.length?d:d[0])};return l(f),function(){return c(f)}})}function bo(u,e){return function(n){return function(s){return u[n](e,s)}}}function sd(u){return K(u.addListener)&&K(u.removeListener)}function od(u){return K(u.on)&&K(u.off)}function ad(u){return K(u.addEventListener)&&K(u.removeEventListener)}function ld(u,e){return pt(function(n,s){var o=0;n.subscribe(ct(s,function(l){return u.call(e,l,o++)&&s.next(l)}))})}function ud(u,e,n,s,o){return function(l,c){var h=n,f=e,d=0;l.subscribe(ct(c,function(v){var g=d++;f=h?u(f,v,g):(h=!0,v),s&&c.next(f)},o&&function(){h&&c.next(f),c.complete()}))}}function md(u,e){return e===void 0&&(e=Op),pt(function(n,s){var o=null,l=null,c=null,h=function(){if(o){o.unsubscribe(),o=null;var d=l;l=null,s.next(d)}};function f(){var d=c+u,v=e.now();if(v<d){o=this.schedule(void 0,d-v),s.add(o);return}h()}n.subscribe(ct(s,function(d){l=d,c=e.now(),o||(o=e.schedule(f,u),s.add(o))},function(){h(),s.complete()},void 0,function(){l=o=null}))})}function cd(u){return pt(function(e,n){var s=!1;e.subscribe(ct(n,function(o){s=!0,n.next(o)},function(){s||n.next(u),n.complete()}))})}function hd(u){return u<=0?function(){return Lp}:pt(function(e,n){var s=0;e.subscribe(ct(n,function(o){++s<=u&&(n.next(o),u<=s&&n.complete())}))})}function pd(u){return u===void 0&&(u=dd),pt(function(e,n){var s=!1;e.subscribe(ct(n,function(o){s=!0,n.next(o)},function(){return s?n.complete():n.error(u())}))})}function dd(){return new Fa}function _d(u,e){var n=arguments.length>=2;return function(s){return s.pipe(u?ld(function(o,l){return u(o,l,s)}):Fn,hd(1),n?cd(e):pd(function(){return new Fa}))}}function bd(u,e){return pt(ud(u,e,arguments.length>=2,!0))}function gd(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var n=ka(u);return pt(function(s,o){(n?mo(u,s,n):mo(u,s)).subscribe(o)})}function wd(u,e){return pt(function(n,s){var o=null,l=0,c=!1,h=function(){return c&&!o&&s.complete()};n.subscribe(ct(s,function(f){o==null||o.unsubscribe();var d=0,v=l++;Qt(u(f,v)).subscribe(o=ct(s,function(g){return s.next(e?e(f,g,v,d++):g)},function(){o=null,h()}))},function(){c=!0,h()}))})}function yd(u){return pt(function(e,n){Qt(u).subscribe(ct(n,function(){return n.complete()},mi)),!n.closed&&e.subscribe(n)})}function xd(u,e,n){var s=K(u)||e||n?{next:u,error:e,complete:n}:u;return s?pt(function(o,l){var c;(c=s.subscribe)===null||c===void 0||c.call(s);var h=!0;o.subscribe(ct(l,function(f){var d;(d=s.next)===null||d===void 0||d.call(s,f),l.next(f)},function(){var f;h=!1,(f=s.complete)===null||f===void 0||f.call(s),l.complete()},function(f){var d;h=!1,(d=s.error)===null||d===void 0||d.call(s,f),l.error(f)},function(){var f,d;h&&((f=s.unsubscribe)===null||f===void 0||f.call(s)),(d=s.finalize)===null||d===void 0||d.call(s)}))}):Fn}function Cd(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var n=Rp(u);return pt(function(s,o){for(var l=u.length,c=new Array(l),h=u.map(function(){return!1}),f=!1,d=function(g){Qt(u[g]).subscribe(ct(o,function(w){c[g]=w,!f&&!h[g]&&(h[g]=!0,(f=h.every(Fn))&&(h=null))},mi))},v=0;v<l;v++)d(v);s.subscribe(ct(o,function(g){if(f){var w=Dt([g],Ot(c));o.next(n?n.apply(void 0,Dt([],Ot(w))):w)}}))})}export{Vp as S,_d as a,ld as b,ma as c,md as d,bd as e,_o as f,vd as g,fd as h,dp as i,wd as j,xd as k,yd as l,Xp as m,gd as s,co as t,Cd as w};
