function Yt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function So(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.__proto__=e}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ct={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Qe={duration:.5,overwrite:!1,delay:0},Vr,At=1e8,Y=1/At,_r=Math.PI*2,vh=_r/4,mh=0,To=Math.sqrt,_h=Math.cos,bh=Math.sin,ot=function(e){return typeof e=="string"},st=function(e){return typeof e=="function"},Zt=function(e){return typeof e=="number"},Ar=function(e){return typeof e=="undefined"},Qt=function(e){return typeof e=="object"},_t=function(e){return e!==!1},Vo=function(){return typeof window!="undefined"},ii=function(e){return st(e)||ot(e)},Ao=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ht=Array.isArray,br=/(?:-?\.?\d|\.)+/gi,Mo=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,qe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Oo=/[+-]=-?[.\d]+/,Lo=/[^,'"\[\]\s]+/gi,gh=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Q,Ut,gr,Mr,Pt={},li={},Do,Ro=function(e){return(li=Le(e,Pt))&&Rt},Or=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ui=function(e,n){return!n&&console.warn(e)},Io=function(e,n){return e&&(Pt[e]=n)&&li&&(li[e]=n)||Pt},On=function(){return 0},Lr={},pe=[],wr={},No,yt={},or={},no=30,oi=[],Dr="",Rr=function(e){var n=e[0],r,o;if(Qt(n)||st(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(o=oi.length;o--&&!oi[o].targetTest(n););r=oi[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new sa(e[o],r)))||e.splice(o,1);return e},Ae=function(e){return e._gsap||Rr(Mt(e))[0]._gsap},Fo=function(e,n,r){return(r=e[n])&&st(r)?e[n]():Ar(r)&&e.getAttribute&&e.getAttribute(n)||r},bt=function(e,n){return(e=e.split(",")).forEach(n)||e},et=function(e){return Math.round(e*1e5)/1e5||0},ut=function(e){return Math.round(e*1e7)/1e7||0},Ge=function(e,n){var r=n.charAt(0),o=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+o:r==="-"?e-o:r==="*"?e*o:e/o},wh=function(e,n){for(var r=n.length,o=0;e.indexOf(n[o])<0&&++o<r;);return o<r},ci=function(){var e=pe.length,n=pe.slice(0),r,o;for(wr={},pe.length=0,r=0;r<e;r++)o=n[r],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Bo=function(e,n,r,o){pe.length&&ci(),e.render(n,r,o),pe.length&&ci()},Uo=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Lo).length<2?n:ot(e)?e.trim():e},jo=function(e){return e},Lt=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},yh=function(e){return function(n,r){for(var o in r)o in n||o==="duration"&&e||o==="ease"||(n[o]=r[o])}},Le=function(e,n){for(var r in n)e[r]=n[r];return e},io=function a(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Qt(n[r])?a(e[r]||(e[r]={}),n[r]):n[r]);return e},hi=function(e,n){var r={},o;for(o in e)o in n||(r[o]=e[o]);return r},Tn=function(e){var n=e.parent||Q,r=e.keyframes?yh(ht(e.keyframes)):Lt;if(_t(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},xh=function(e,n){for(var r=e.length,o=r===n.length;o&&r--&&e[r]===n[r];);return r<0},zo=function(e,n,r,o,u){r===void 0&&(r="_first"),o===void 0&&(o="_last");var c=e[o],h;if(u)for(h=n[u];c&&c[u]>h;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[o]=n,n._prev=c,n.parent=n._dp=e,n},wi=function(e,n,r,o){r===void 0&&(r="_first"),o===void 0&&(o="_last");var u=n._prev,c=n._next;u?u._next=c:e[r]===n&&(e[r]=c),c?c._prev=u:e[o]===n&&(e[o]=u),n._next=n._prev=n.parent=null},Gt=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Me=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Ch=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Ph=function a(e){return!e||e._ts&&a(e.parent)},ro=function(e){return e._repeat?Je(e._tTime,e=e.duration()+e._rDelay)*e:0},Je=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},pi=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},yi=function(e){return e._end=ut(e._start+(e._tDur/Math.abs(e._ts||e._rts||Y)||0))},Ir=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=ut(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),yi(e),r._dirty||Me(r,e)),e},Ko=function(e,n){var r;if((n._time||n._initted&&!n._dur)&&(r=pi(e.rawTime(),n),(!n._dur||Un(0,n.totalDuration(),r)-n._tTime>Y)&&n.render(r,!0)),Me(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Y}},jt=function(e,n,r,o){return n.parent&&Gt(n),n._start=ut((Zt(r)?r:r||e!==Q?Vt(e,r,n):e._time)+n._delay),n._end=ut(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),zo(e,n,"_first","_last",e._sort?"_start":0),yr(n)||(e._recent=n),o||Ko(e,n),e},$o=function(e,n){return(Pt.ScrollTrigger||Or("scrollTrigger",n))&&Pt.ScrollTrigger.create(n,e)},Ho=function(e,n,r,o){if(Fr(e,n),!e._initted)return 1;if(!r&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&No!==xt.frame)return pe.push(e),e._lazy=[n,o],1},Eh=function a(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||a(n))},yr=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},kh=function(e,n,r,o){var u=e.ratio,c=n<0||!n&&(!e._start&&Eh(e)&&!(!e._initted&&yr(e))||(e._ts<0||e._dp._ts<0)&&!yr(e))?0:1,h=e._rDelay,f=0,p,v,g;if(h&&e._repeat&&(f=Un(0,e._tDur,n),v=Je(f,h),e._yoyo&&v&1&&(c=1-c),v!==Je(e._tTime,h)&&(u=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==u||o||e._zTime===Y||!n&&e._zTime){if(!e._initted&&Ho(e,n,o,r))return;for(g=e._zTime,e._zTime=n||(r?Y:0),r||(r=n&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=f,p=e._pt;p;)p.r(c,p.d),p=p._next;e._startAt&&n<0&&e._startAt.render(n,!0,!0),e._onUpdate&&!r&&Ot(e,"onUpdate"),f&&e._repeat&&!r&&e.parent&&Ot(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===c&&(c&&Gt(e,1),r||(Ot(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Sh=function(e,n,r){var o;if(r>n)for(o=e._first;o&&o._start<=r;){if(o.data==="isPause"&&o._start>n)return o;o=o._next}else for(o=e._last;o&&o._start>=r;){if(o.data==="isPause"&&o._start<n)return o;o=o._prev}},tn=function(e,n,r,o){var u=e._repeat,c=ut(n)||0,h=e._tTime/e._tDur;return h&&!o&&(e._time*=c/e._dur),e._dur=c,e._tDur=u?u<0?1e10:ut(c*(u+1)+e._rDelay*u):c,h>0&&!o?Ir(e,e._tTime=e._tDur*h):e.parent&&yi(e),r||Me(e.parent,e),e},so=function(e){return e instanceof mt?Me(e):tn(e,e._dur)},Th={_start:0,endTime:On,totalDuration:On},Vt=function a(e,n,r){var o=e.labels,u=e._recent||Th,c=e.duration()>=At?u.endTime(!1):e._dur,h,f,p;return ot(n)&&(isNaN(n)||n in o)?(f=n.charAt(0),p=n.substr(-1)==="%",h=n.indexOf("="),f==="<"||f===">"?(h>=0&&(n=n.replace(/=/,"")),(f==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(p?(h<0?u:r).totalDuration()/100:1)):h<0?(n in o||(o[n]=c),o[n]):(f=parseFloat(n.charAt(h-1)+n.substr(h+1)),p&&r&&(f=f/100*(ht(r)?r[0]:r).totalDuration()),h>1?a(e,n.substr(0,h-1),r)+f:c+f)):n==null?c:+n},Vn=function(e,n,r){var o=Zt(n[1]),u=(o?2:1)+(e<2?0:1),c=n[u],h,f;if(o&&(c.duration=n[1]),c.parent=r,e){for(h=c,f=r;f&&!("immediateRender"in h);)h=f.vars.defaults||{},f=_t(f.vars.inherit)&&f.parent;c.immediateRender=_t(h.immediateRender),e<2?c.runBackwards=1:c.startAt=n[u-1]}return new rt(n[0],c,n[u+1])},_e=function(e,n){return e||e===0?n(e):n},Un=function(e,n,r){return r<e?e:r>n?n:r},ct=function(e,n){return!ot(e)||!(n=gh.exec(e))?"":n[1]},Vh=function(e,n,r){return _e(r,function(o){return Un(e,n,o)})},xr=[].slice,qo=function(e,n){return e&&Qt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Qt(e[0]))&&!e.nodeType&&e!==Ut},Ah=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(o){var u;return ot(o)&&!n||qo(o,1)?(u=r).push.apply(u,Mt(o)):r.push(o)})||r},Mt=function(e,n,r){return ot(e)&&!r&&(gr||!en())?xr.call((n||Mr).querySelectorAll(e),0):ht(e)?Ah(e,r):qo(e)?xr.call(e,0):e?[e]:[]},Mh=function(e){return e=Mt(e)[0]||ui("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Mt(n,r.querySelectorAll?r:r===e?ui("Invalid scope")||Mr.createElement("div"):e)}},Yo=function(e){return e.sort(function(){return .5-Math.random()})},Go=function(e){if(st(e))return e;var n=Qt(e)?e:{each:e},r=Oe(n.ease),o=n.from||0,u=parseFloat(n.base)||0,c={},h=o>0&&o<1,f=isNaN(o)||h,p=n.axis,v=o,g=o;return ot(o)?v=g={center:.5,edges:.5,end:1}[o]||0:!h&&f&&(v=o[0],g=o[1]),function(w,m,C){var _=(C||n).length,y=c[_],E,P,k,V,S,T,L,O,M;if(!y){if(M=n.grid==="auto"?0:(n.grid||[1,At])[1],!M){for(L=-At;L<(L=C[M++].getBoundingClientRect().left)&&M<_;);M--}for(y=c[_]=[],E=f?Math.min(M,_)*v-.5:o%M,P=M===At?0:f?_*g/M-.5:o/M|0,L=0,O=At,T=0;T<_;T++)k=T%M-E,V=P-(T/M|0),y[T]=S=p?Math.abs(p==="y"?V:k):To(k*k+V*V),S>L&&(L=S),S<O&&(O=S);o==="random"&&Yo(y),y.max=L-O,y.min=O,y.v=_=(parseFloat(n.amount)||parseFloat(n.each)*(M>_?_-1:p?p==="y"?_/M:M:Math.max(M,_/M))||0)*(o==="edges"?-1:1),y.b=_<0?u-_:u,y.u=ct(n.amount||n.each)||0,r=r&&_<0?na(r):r}return _=(y[w]-y.min)/y.max||0,ut(y.b+(r?r(_):_)*y.v)+y.u}},Cr=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var o=Math.round(parseFloat(r)/e)*e*n;return(o-o%1)/n+(Zt(r)?0:ct(r))}},Wo=function(e,n){var r=ht(e),o,u;return!r&&Qt(e)&&(o=r=e.radius||At,e.values?(e=Mt(e.values),(u=!Zt(e[0]))&&(o*=o)):e=Cr(e.increment)),_e(n,r?st(e)?function(c){return u=e(c),Math.abs(u-c)<=o?u:c}:function(c){for(var h=parseFloat(u?c.x:c),f=parseFloat(u?c.y:0),p=At,v=0,g=e.length,w,m;g--;)u?(w=e[g].x-h,m=e[g].y-f,w=w*w+m*m):w=Math.abs(e[g]-h),w<p&&(p=w,v=g);return v=!o||p<=o?e[v]:c,u||v===c||Zt(c)?v:v+ct(c)}:Cr(e))},Xo=function(e,n,r,o){return _e(ht(e)?!n:r===!0?!!(r=0):!o,function(){return ht(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(o=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*o)/o})},Oh=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(o){return n.reduce(function(u,c){return c(u)},o)}},Lh=function(e,n){return function(r){return e(parseFloat(r))+(n||ct(r))}},Dh=function(e,n,r){return Qo(e,n,0,1,r)},Zo=function(e,n,r){return _e(r,function(o){return e[~~n(o)]})},Rh=function a(e,n,r){var o=n-e;return ht(e)?Zo(e,a(0,e.length),n):_e(r,function(u){return(o+(u-e)%o)%o+e})},Ih=function a(e,n,r){var o=n-e,u=o*2;return ht(e)?Zo(e,a(0,e.length-1),n):_e(r,function(c){return c=(u+(c-e)%u)%u||0,e+(c>o?u-c:c)})},Ln=function(e){for(var n=0,r="",o,u,c,h;~(o=e.indexOf("random(",n));)c=e.indexOf(")",o),h=e.charAt(o+7)==="[",u=e.substr(o+7,c-o-7).match(h?Lo:br),r+=e.substr(n,o-n)+Xo(h?u:+u[0],h?0:+u[1],+u[2]||1e-5),n=c+1;return r+e.substr(n,e.length-n)},Qo=function(e,n,r,o,u){var c=n-e,h=o-r;return _e(u,function(f){return r+((f-e)/c*h||0)})},Nh=function a(e,n,r,o){var u=isNaN(e+n)?0:function(m){return(1-m)*e+m*n};if(!u){var c=ot(e),h={},f,p,v,g,w;if(r===!0&&(o=1)&&(r=null),c)e={p:e},n={p:n};else if(ht(e)&&!ht(n)){for(v=[],g=e.length,w=g-2,p=1;p<g;p++)v.push(a(e[p-1],e[p]));g--,u=function(C){C*=g;var _=Math.min(w,~~C);return v[_](C-_)},r=n}else o||(e=Le(ht(e)?[]:{},e));if(!v){for(f in n)Nr.call(h,e,f,"get",n[f]);u=function(C){return jr(C,h)||(c?e.p:e)}}}return _e(r,u)},oo=function(e,n,r){var o=e.labels,u=At,c,h,f;for(c in o)h=o[c]-n,h<0==!!r&&h&&u>(h=Math.abs(h))&&(f=c,u=h);return f},Ot=function(e,n,r){var o=e.vars,u=o[n],c,h;if(!!u)return c=o[n+"Params"],h=o.callbackScope||e,r&&pe.length&&ci(),c?u.apply(h,c):u.call(h)},kn=function(e){return Gt(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&Ot(e,"onInterrupt"),e},Ye,Fh=function(e){e=!e.name&&e.default||e;var n=e.name,r=st(e),o=n&&!r&&e.init?function(){this._props=[]}:e,u={init:On,render:jr,add:Nr,kill:tp,modifier:Jh,rawVars:0},c={targetTest:0,get:0,getSetter:Ur,aliases:{},register:0};if(en(),e!==o){if(yt[n])return;Lt(o,Lt(hi(e,u),c)),Le(o.prototype,Le(u,hi(e,c))),yt[o.prop=n]=o,e.targetTest&&(oi.push(o),Lr[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Io(n,o),e.register&&e.register(Rt,o,gt)},q=255,Sn={aqua:[0,q,q],lime:[0,q,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,q],navy:[0,0,128],white:[q,q,q],olive:[128,128,0],yellow:[q,q,0],orange:[q,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[q,0,0],pink:[q,192,203],cyan:[0,q,q],transparent:[q,q,q,0]},ar=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*q+.5|0},Jo=function(e,n,r){var o=e?Zt(e)?[e>>16,e>>8&q,e&q]:0:Sn.black,u,c,h,f,p,v,g,w,m,C;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Sn[e])o=Sn[e];else if(e.charAt(0)==="#"){if(e.length<6&&(u=e.charAt(1),c=e.charAt(2),h=e.charAt(3),e="#"+u+u+c+c+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&q,o&q,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&q,e&q]}else if(e.substr(0,3)==="hsl"){if(o=C=e.match(br),!n)f=+o[0]%360/360,p=+o[1]/100,v=+o[2]/100,c=v<=.5?v*(p+1):v+p-v*p,u=v*2-c,o.length>3&&(o[3]*=1),o[0]=ar(f+1/3,u,c),o[1]=ar(f,u,c),o[2]=ar(f-1/3,u,c);else if(~e.indexOf("="))return o=e.match(Mo),r&&o.length<4&&(o[3]=1),o}else o=e.match(br)||Sn.transparent;o=o.map(Number)}return n&&!C&&(u=o[0]/q,c=o[1]/q,h=o[2]/q,g=Math.max(u,c,h),w=Math.min(u,c,h),v=(g+w)/2,g===w?f=p=0:(m=g-w,p=v>.5?m/(2-g-w):m/(g+w),f=g===u?(c-h)/m+(c<h?6:0):g===c?(h-u)/m+2:(u-c)/m+4,f*=60),o[0]=~~(f+.5),o[1]=~~(p*100+.5),o[2]=~~(v*100+.5)),r&&o.length<4&&(o[3]=1),o},ta=function(e){var n=[],r=[],o=-1;return e.split(de).forEach(function(u){var c=u.match(qe)||[];n.push.apply(n,c),r.push(o+=c.length+1)}),n.c=r,n},ao=function(e,n,r){var o="",u=(e+o).match(de),c=n?"hsla(":"rgba(",h=0,f,p,v,g;if(!u)return e;if(u=u.map(function(w){return(w=Jo(w,n,1))&&c+(n?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),r&&(v=ta(e),f=r.c,f.join(o)!==v.c.join(o)))for(p=e.replace(de,"1").split(qe),g=p.length-1;h<g;h++)o+=p[h]+(~f.indexOf(h)?u.shift()||c+"0,0,0,0)":(v.length?v:u.length?u:r).shift());if(!p)for(p=e.split(de),g=p.length-1;h<g;h++)o+=p[h]+u[h];return o+p[g]},de=function(){var a="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Sn)a+="|"+e+"\\b";return new RegExp(a+")","gi")}(),Bh=/hsl[a]?\(/,ea=function(e){var n=e.join(" "),r;if(de.lastIndex=0,de.test(n))return r=Bh.test(n),e[1]=ao(e[1],r),e[0]=ao(e[0],r,ta(e[1])),!0},Dn,xt=function(){var a=Date.now,e=500,n=33,r=a(),o=r,u=1e3/240,c=u,h=[],f,p,v,g,w,m,C=function _(y){var E=a()-o,P=y===!0,k,V,S,T;if(E>e&&(r+=E-n),o+=E,S=o-r,k=S-c,(k>0||P)&&(T=++g.frame,w=S-g.time*1e3,g.time=S=S/1e3,c+=k+(k>=u?4:u-k),V=1),P||(f=p(_)),V)for(m=0;m<h.length;m++)h[m](S,w,T,y)};return g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(y){return w/(1e3/(y||60))},wake:function(){Do&&(!gr&&Vo()&&(Ut=gr=window,Mr=Ut.document||{},Pt.gsap=Rt,(Ut.gsapVersions||(Ut.gsapVersions=[])).push(Rt.version),Ro(li||Ut.GreenSockGlobals||!Ut.gsap&&Ut||{}),v=Ut.requestAnimationFrame),f&&g.sleep(),p=v||function(y){return setTimeout(y,c-g.time*1e3+1|0)},Dn=1,C(2))},sleep:function(){(v?Ut.cancelAnimationFrame:clearTimeout)(f),Dn=0,p=On},lagSmoothing:function(y,E){e=y||1/Y,n=Math.min(E,e,0)},fps:function(y){u=1e3/(y||240),c=g.time*1e3+u},add:function(y,E,P){var k=E?function(V,S,T,L){y(V,S,T,L),g.remove(k)}:y;return g.remove(y),h[P?"unshift":"push"](k),en(),k},remove:function(y,E){~(E=h.indexOf(y))&&h.splice(E,1)&&m>=E&&m--},_listeners:h},g}(),en=function(){return!Dn&&xt.wake()},U={},Uh=/^[\d.\-M][\d.\-,\s]/,jh=/["']/g,zh=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),o=r[0],u=1,c=r.length,h,f,p;u<c;u++)f=r[u],h=u!==c-1?f.lastIndexOf(","):f.length,p=f.substr(0,h),n[o]=isNaN(p)?p.replace(jh,"").trim():+p,o=f.substr(h+1).trim();return n},Kh=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),o=e.indexOf("(",n);return e.substring(n,~o&&o<r?e.indexOf(")",r+1):r)},$h=function(e){var n=(e+"").split("("),r=U[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[zh(n[1])]:Kh(e).split(",").map(Uo)):U._CE&&Uh.test(e)?U._CE("",e):r},na=function(e){return function(n){return 1-e(1-n)}},ia=function a(e,n){for(var r=e._first,o;r;)r instanceof mt?a(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?a(r.timeline,n):(o=r._ease,r._ease=r._yEase,r._yEase=o,r._yoyo=n)),r=r._next},Oe=function(e,n){return e&&(st(e)?e:U[e]||$h(e))||n},De=function(e,n,r,o){r===void 0&&(r=function(f){return 1-n(1-f)}),o===void 0&&(o=function(f){return f<.5?n(f*2)/2:1-n((1-f)*2)/2});var u={easeIn:n,easeOut:r,easeInOut:o},c;return bt(e,function(h){U[h]=Pt[h]=u,U[c=h.toLowerCase()]=r;for(var f in u)U[c+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=U[h+"."+f]=u[f]}),u},ra=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},lr=function a(e,n,r){var o=n>=1?n:1,u=(r||(e?.3:.45))/(n<1?n:1),c=u/_r*(Math.asin(1/o)||0),h=function(v){return v===1?1:o*Math.pow(2,-10*v)*bh((v-c)*u)+1},f=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:ra(h);return u=_r/u,f.config=function(p,v){return a(e,p,v)},f},ur=function a(e,n){n===void 0&&(n=1.70158);var r=function(c){return c?--c*c*((n+1)*c+n)+1:0},o=e==="out"?r:e==="in"?function(u){return 1-r(1-u)}:ra(r);return o.config=function(u){return a(e,u)},o};bt("Linear,Quad,Cubic,Quart,Quint,Strong",function(a,e){var n=e<5?e+1:e;De(a+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});U.Linear.easeNone=U.none=U.Linear.easeIn;De("Elastic",lr("in"),lr("out"),lr());(function(a,e){var n=1/e,r=2*n,o=2.5*n,u=function(h){return h<n?a*h*h:h<r?a*Math.pow(h-1.5/e,2)+.75:h<o?a*(h-=2.25/e)*h+.9375:a*Math.pow(h-2.625/e,2)+.984375};De("Bounce",function(c){return 1-u(1-c)},u)})(7.5625,2.75);De("Expo",function(a){return a?Math.pow(2,10*(a-1)):0});De("Circ",function(a){return-(To(1-a*a)-1)});De("Sine",function(a){return a===1?1:-_h(a*vh)+1});De("Back",ur("in"),ur("out"),ur());U.SteppedEase=U.steps=Pt.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,o=e+(n?0:1),u=n?1:0,c=1-Y;return function(h){return((o*Un(0,c,h)|0)+u)*r}}};Qe.ease=U["quad.out"];bt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(a){return Dr+=a+","+a+"Params,"});var sa=function(e,n){this.id=mh++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Fo,this.set=n?n.getSetter:Ur},Rn=function(){function a(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,tn(this,+n.duration,1,1),this.data=n.data,Dn||xt.wake()}var e=a.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,tn(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,o){if(en(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(Ir(this,r),!u._dp||u.parent||Ko(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&jt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Y||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Bo(this,r,o)),this},e.time=function(r,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+ro(this))%(this._dur+this._rDelay)||(r?this._dur:0),o):this._time},e.totalProgress=function(r,o){return arguments.length?this.totalTime(this.totalDuration()*r,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+ro(this),o):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,o){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*u,o):this._repeat?Je(this._tTime,u)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-Y?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?pi(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Y?0:this._rts,this.totalTime(Un(-this._delay,this._tDur,o),!0),yi(this),Ch(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(en(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Y&&(this._tTime-=Y)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&jt(o,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(_t(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var o=this.parent||this._dp;return o?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pi(o.rawTime(r),this):this._tTime:this._tTime},e.globalTime=function(r){for(var o=this,u=arguments.length?r:o.rawTime();o;)u=o._start+u/(o._ts||1),o=o._dp;return u},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,so(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var o=this._time;return this._rDelay=r,so(this),o?this.time(o):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,o){return this.totalTime(Vt(this,r),_t(o))},e.restart=function(r,o){return this.play().totalTime(r?-this._delay:0,_t(o))},e.play=function(r,o){return r!=null&&this.seek(r,o),this.reversed(!1).paused(!1)},e.reverse=function(r,o){return r!=null&&this.seek(r||this.totalDuration(),o),this.reversed(!0).paused(!1)},e.pause=function(r,o){return r!=null&&this.seek(r,o),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Y:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Y,this},e.isActive=function(){var r=this.parent||this._dp,o=this._start,u;return!!(!r||this._ts&&this._initted&&r.isActive()&&(u=r.rawTime(!0))>=o&&u<this.endTime(!0)-Y)},e.eventCallback=function(r,o,u){var c=this.vars;return arguments.length>1?(o?(c[r]=o,u&&(c[r+"Params"]=u),r==="onUpdate"&&(this._onUpdate=o)):delete c[r],this):c[r]},e.then=function(r){var o=this;return new Promise(function(u){var c=st(r)?r:jo,h=function(){var p=o.then;o.then=null,st(c)&&(c=c(o))&&(c.then||c===o)&&(o.then=p),u(c),o.then=p};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?h():o._prom=h})},e.kill=function(){kn(this)},a}();Lt(Rn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Y,_prom:0,_ps:!1,_rts:1});var mt=function(a){So(e,a);function e(r,o){var u;return r===void 0&&(r={}),u=a.call(this,r)||this,u.labels={},u.smoothChildTiming=!!r.smoothChildTiming,u.autoRemoveChildren=!!r.autoRemoveChildren,u._sort=_t(r.sortChildren),Q&&jt(r.parent||Q,Yt(u),o),r.reversed&&u.reverse(),r.paused&&u.paused(!0),r.scrollTrigger&&$o(Yt(u),r.scrollTrigger),u}var n=e.prototype;return n.to=function(o,u,c){return Vn(0,arguments,this),this},n.from=function(o,u,c){return Vn(1,arguments,this),this},n.fromTo=function(o,u,c,h){return Vn(2,arguments,this),this},n.set=function(o,u,c){return u.duration=0,u.parent=this,Tn(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new rt(o,u,Vt(this,c),1),this},n.call=function(o,u,c){return jt(this,rt.delayedCall(0,o,u),c)},n.staggerTo=function(o,u,c,h,f,p,v){return c.duration=u,c.stagger=c.stagger||h,c.onComplete=p,c.onCompleteParams=v,c.parent=this,new rt(o,c,Vt(this,f)),this},n.staggerFrom=function(o,u,c,h,f,p,v){return c.runBackwards=1,Tn(c).immediateRender=_t(c.immediateRender),this.staggerTo(o,u,c,h,f,p,v)},n.staggerFromTo=function(o,u,c,h,f,p,v,g){return h.startAt=c,Tn(h).immediateRender=_t(h.immediateRender),this.staggerTo(o,u,h,f,p,v,g)},n.render=function(o,u,c){var h=this._time,f=this._dirty?this.totalDuration():this._tDur,p=this._dur,v=o<=0?0:ut(o),g=this._zTime<0!=o<0&&(this._initted||!p),w,m,C,_,y,E,P,k,V,S,T,L;if(this!==Q&&v>f&&o>=0&&(v=f),v!==this._tTime||c||g){if(h!==this._time&&p&&(v+=this._time-h,o+=this._time-h),w=v,V=this._start,k=this._ts,E=!k,g&&(p||(h=this._zTime),(o||!u)&&(this._zTime=o)),this._repeat){if(T=this._yoyo,y=p+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(y*100+o,u,c);if(w=ut(v%y),v===f?(_=this._repeat,w=p):(_=~~(v/y),_&&_===v/y&&(w=p,_--),w>p&&(w=p)),S=Je(this._tTime,y),!h&&this._tTime&&S!==_&&(S=_),T&&_&1&&(w=p-w,L=1),_!==S&&!this._lock){var O=T&&S&1,M=O===(T&&_&1);if(_<S&&(O=!O),h=O?0:p,this._lock=1,this.render(h||(L?0:ut(_*y)),u,!p)._lock=0,this._tTime=v,!u&&this.parent&&Ot(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),h&&h!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,f=this._tDur,M&&(this._lock=2,h=O?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;ia(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=Sh(this,ut(h),ut(w)),P&&(v-=w-(w=P._start))),this._tTime=v,this._time=w,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,h=0),!h&&w&&!u&&(Ot(this,"onStart"),this._tTime!==v))return this;if(w>=h&&o>=0)for(m=this._first;m;){if(C=m._next,(m._act||w>=m._start)&&m._ts&&P!==m){if(m.parent!==this)return this.render(o,u,c);if(m.render(m._ts>0?(w-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(w-m._start)*m._ts,u,c),w!==this._time||!this._ts&&!E){P=0,C&&(v+=this._zTime=-Y);break}}m=C}else{m=this._last;for(var N=o<0?o:w;m;){if(C=m._prev,(m._act||N<=m._end)&&m._ts&&P!==m){if(m.parent!==this)return this.render(o,u,c);if(m.render(m._ts>0?(N-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(N-m._start)*m._ts,u,c),w!==this._time||!this._ts&&!E){P=0,C&&(v+=this._zTime=N?-Y:Y);break}}m=C}}if(P&&!u&&(this.pause(),P.render(w>=h?0:-Y)._zTime=w>=h?1:-1,this._ts))return this._start=V,yi(this),this.render(o,u,c);this._onUpdate&&!u&&Ot(this,"onUpdate",!0),(v===f&&this._tTime>=this.totalDuration()||!v&&h)&&(V===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((o||!p)&&(v===f&&this._ts>0||!v&&this._ts<0)&&Gt(this,1),!u&&!(o<0&&!h)&&(v||h||!f)&&(Ot(this,v===f&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(o,u){var c=this;if(Zt(u)||(u=Vt(this,u,o)),!(o instanceof Rn)){if(ht(o))return o.forEach(function(h){return c.add(h,u)}),this;if(ot(o))return this.addLabel(o,u);if(st(o))o=rt.delayedCall(0,o);else return this}return this!==o?jt(this,o,u):this},n.getChildren=function(o,u,c,h){o===void 0&&(o=!0),u===void 0&&(u=!0),c===void 0&&(c=!0),h===void 0&&(h=-At);for(var f=[],p=this._first;p;)p._start>=h&&(p instanceof rt?u&&f.push(p):(c&&f.push(p),o&&f.push.apply(f,p.getChildren(!0,u,c)))),p=p._next;return f},n.getById=function(o){for(var u=this.getChildren(1,1,1),c=u.length;c--;)if(u[c].vars.id===o)return u[c]},n.remove=function(o){return ot(o)?this.removeLabel(o):st(o)?this.killTweensOf(o):(wi(this,o),o===this._recent&&(this._recent=this._last),Me(this))},n.totalTime=function(o,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ut(xt.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),a.prototype.totalTime.call(this,o,u),this._forcing=0,this):this._tTime},n.addLabel=function(o,u){return this.labels[o]=Vt(this,u),this},n.removeLabel=function(o){return delete this.labels[o],this},n.addPause=function(o,u,c){var h=rt.delayedCall(0,u||On,c);return h.data="isPause",this._hasPause=1,jt(this,h,Vt(this,o))},n.removePause=function(o){var u=this._first;for(o=Vt(this,o);u;)u._start===o&&u.data==="isPause"&&Gt(u),u=u._next},n.killTweensOf=function(o,u,c){for(var h=this.getTweensOf(o,c),f=h.length;f--;)le!==h[f]&&h[f].kill(o,u);return this},n.getTweensOf=function(o,u){for(var c=[],h=Mt(o),f=this._first,p=Zt(u),v;f;)f instanceof rt?wh(f._targets,h)&&(p?(!le||f._initted&&f._ts)&&f.globalTime(0)<=u&&f.globalTime(f.totalDuration())>u:!u||f.isActive())&&c.push(f):(v=f.getTweensOf(h,u)).length&&c.push.apply(c,v),f=f._next;return c},n.tweenTo=function(o,u){u=u||{};var c=this,h=Vt(c,o),f=u,p=f.startAt,v=f.onStart,g=f.onStartParams,w=f.immediateRender,m,C=rt.to(c,Lt({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:u.duration||Math.abs((h-(p&&"time"in p?p.time:c._time))/c.timeScale())||Y,onStart:function(){if(c.pause(),!m){var y=u.duration||Math.abs((h-(p&&"time"in p?p.time:c._time))/c.timeScale());C._dur!==y&&tn(C,y,0,1).render(C._time,!0,!0),m=1}v&&v.apply(C,g||[])}},u));return w?C.render(0):C},n.tweenFromTo=function(o,u,c){return this.tweenTo(u,Lt({startAt:{time:Vt(this,o)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(o){return o===void 0&&(o=this._time),oo(this,Vt(this,o))},n.previousLabel=function(o){return o===void 0&&(o=this._time),oo(this,Vt(this,o),1)},n.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Y)},n.shiftChildren=function(o,u,c){c===void 0&&(c=0);for(var h=this._first,f=this.labels,p;h;)h._start>=c&&(h._start+=o,h._end+=o),h=h._next;if(u)for(p in f)f[p]>=c&&(f[p]+=o);return Me(this)},n.invalidate=function(){var o=this._first;for(this._lock=0;o;)o.invalidate(),o=o._next;return a.prototype.invalidate.call(this)},n.clear=function(o){o===void 0&&(o=!0);for(var u=this._first,c;u;)c=u._next,this.remove(u),u=c;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Me(this)},n.totalDuration=function(o){var u=0,c=this,h=c._last,f=At,p,v,g;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-o:o));if(c._dirty){for(g=c.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),v=h._start,v>f&&c._sort&&h._ts&&!c._lock?(c._lock=1,jt(c,h,v-h._delay,1)._lock=0):f=v,v<0&&h._ts&&(u-=v,(!g&&!c._dp||g&&g.smoothChildTiming)&&(c._start+=v/c._ts,c._time-=v,c._tTime-=v),c.shiftChildren(-v,!1,-1/0),f=0),h._end>u&&h._ts&&(u=h._end),h=p;tn(c,c===Q&&c._time>u?c._time:u,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(o){if(Q._ts&&(Bo(Q,pi(o,Q)),No=xt.frame),xt.frame>=no){no+=Ct.autoSleep||120;var u=Q._first;if((!u||!u._ts)&&Ct.autoSleep&&xt._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||xt.sleep()}}},e}(Rn);Lt(mt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Hh=function(e,n,r,o,u,c,h){var f=new gt(this._pt,e,n,0,1,ha,null,u),p=0,v=0,g,w,m,C,_,y,E,P;for(f.b=r,f.e=o,r+="",o+="",(E=~o.indexOf("random("))&&(o=Ln(o)),c&&(P=[r,o],c(P,e,n),r=P[0],o=P[1]),w=r.match(sr)||[];g=sr.exec(o);)C=g[0],_=o.substring(p,g.index),m?m=(m+1)%5:_.substr(-5)==="rgba("&&(m=1),C!==w[v++]&&(y=parseFloat(w[v-1])||0,f._pt={_next:f._pt,p:_||v===1?_:",",s:y,c:C.charAt(1)==="="?Ge(y,C)-y:parseFloat(C)-y,m:m&&m<4?Math.round:0},p=sr.lastIndex);return f.c=p<o.length?o.substring(p,o.length):"",f.fp=h,(Oo.test(o)||E)&&(f.e=0),this._pt=f,f},Nr=function(e,n,r,o,u,c,h,f,p){st(o)&&(o=o(u||0,e,c));var v=e[n],g=r!=="get"?r:st(v)?p?e[n.indexOf("set")||!st(e["get"+n.substr(3)])?n:"get"+n.substr(3)](p):e[n]():v,w=st(v)?p?Xh:ua:Br,m;if(ot(o)&&(~o.indexOf("random(")&&(o=Ln(o)),o.charAt(1)==="="&&(m=Ge(g,o)+(ct(g)||0),(m||m===0)&&(o=m))),g!==o||Pr)return!isNaN(g*o)&&o!==""?(m=new gt(this._pt,e,n,+g||0,o-(g||0),typeof v=="boolean"?Qh:ca,0,w),p&&(m.fp=p),h&&m.modifier(h,this,e),this._pt=m):(!v&&!(n in e)&&Or(n,o),Hh.call(this,e,n,g,o,w,f||Ct.stringFilter,p))},qh=function(e,n,r,o,u){if(st(e)&&(e=An(e,u,n,r,o)),!Qt(e)||e.style&&e.nodeType||ht(e)||Ao(e))return ot(e)?An(e,u,n,r,o):e;var c={},h;for(h in e)c[h]=An(e[h],u,n,r,o);return c},oa=function(e,n,r,o,u,c){var h,f,p,v;if(yt[e]&&(h=new yt[e]).init(u,h.rawVars?n[e]:qh(n[e],o,u,c,r),r,o,c)!==!1&&(r._pt=f=new gt(r._pt,u,e,0,1,h.render,h,0,h.priority),r!==Ye))for(p=r._ptLookup[r._targets.indexOf(u)],v=h._props.length;v--;)p[h._props[v]]=f;return h},le,Pr,Fr=function a(e,n){var r=e.vars,o=r.ease,u=r.startAt,c=r.immediateRender,h=r.lazy,f=r.onUpdate,p=r.onUpdateParams,v=r.callbackScope,g=r.runBackwards,w=r.yoyoEase,m=r.keyframes,C=r.autoRevert,_=e._dur,y=e._startAt,E=e._targets,P=e.parent,k=P&&P.data==="nested"?P.parent._targets:E,V=e._overwrite==="auto"&&!Vr,S=e.timeline,T,L,O,M,N,G,J,tt,W,B,D,lt,zt;if(S&&(!m||!o)&&(o="none"),e._ease=Oe(o,Qe.ease),e._yEase=w?na(Oe(w===!0?o:w,Qe.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!S&&!!r.runBackwards,!S||m&&!r.stagger){if(tt=E[0]?Ae(E[0]).harness:0,lt=tt&&r[tt.prop],T=hi(r,Lr),y&&(Gt(y.render(-1,!0)),y._lazy=0),u)if(Gt(e._startAt=rt.set(E,Lt({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:_t(h),startAt:null,delay:0,onUpdate:f,onUpdateParams:p,callbackScope:v,stagger:0},u))),n<0&&!c&&!C&&e._startAt.render(-1,!0),c){if(n>0&&!C&&(e._startAt=0),_&&n<=0){n&&(e._zTime=n);return}}else C===!1&&(e._startAt=0);else if(g&&_){if(y)!C&&(e._startAt=0);else if(n&&(c=!1),O=Lt({overwrite:!1,data:"isFromStart",lazy:c&&_t(h),immediateRender:c,stagger:0,parent:P},T),lt&&(O[tt.prop]=lt),Gt(e._startAt=rt.set(E,O)),n<0&&e._startAt.render(-1,!0),e._zTime=n,!c)a(e._startAt,Y);else if(!n)return}for(e._pt=e._ptCache=0,h=_&&_t(h)||h&&!_,L=0;L<E.length;L++){if(N=E[L],J=N._gsap||Rr(E)[L]._gsap,e._ptLookup[L]=B={},wr[J.id]&&pe.length&&ci(),D=k===E?L:k.indexOf(N),tt&&(W=new tt).init(N,lt||T,e,D,k)!==!1&&(e._pt=M=new gt(e._pt,N,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function(Kt){B[Kt]=M}),W.priority&&(G=1)),!tt||lt)for(O in T)yt[O]&&(W=oa(O,T,e,D,N,k))?W.priority&&(G=1):B[O]=M=Nr.call(e,N,O,"get",T[O],D,k,0,r.stringFilter);e._op&&e._op[L]&&e.kill(N,e._op[L]),V&&e._pt&&(le=e,Q.killTweensOf(N,B,e.globalTime(n)),zt=!e.parent,le=0),e._pt&&h&&(wr[J.id]=1)}G&&pa(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!zt,m&&n<=0&&S.render(At,!0,!0)},Yh=function(e,n,r,o,u,c,h){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,v,g;if(!f)for(f=e._ptCache[n]=[],v=e._ptLookup,g=e._targets.length;g--;){if(p=v[g][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n;)p=p._next;if(!p)return Pr=1,e.vars[n]="+=0",Fr(e,h),Pr=0,1;f.push(p)}for(g=f.length;g--;)p=f[g],p.s=(o||o===0)&&!u?o:p.s+(o||0)+c*p.c,p.c=r-p.s,p.e&&(p.e=et(r)+ct(p.e)),p.b&&(p.b=p.s+ct(p.b))},Gh=function(e,n){var r=e[0]?Ae(e[0]).harness:0,o=r&&r.aliases,u,c,h,f;if(!o)return n;u=Le({},n);for(c in o)if(c in u)for(f=o[c].split(","),h=f.length;h--;)u[f[h]]=u[c];return u},Wh=function(e,n,r,o){var u=n.ease||o||"power1.inOut",c,h;if(ht(n))h=r[e]||(r[e]=[]),n.forEach(function(f,p){return h.push({t:p/(n.length-1)*100,v:f,e:u})});else for(c in n)h=r[c]||(r[c]=[]),c==="ease"||h.push({t:parseFloat(e),v:n[c],e:u})},An=function(e,n,r,o,u){return st(e)?e.call(n,r,o,u):ot(e)&&~e.indexOf("random(")?Ln(e):e},aa=Dr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",la={};bt(aa+",id,stagger,delay,duration,paused,scrollTrigger",function(a){return la[a]=1});var rt=function(a){So(e,a);function e(r,o,u,c){var h;typeof o=="number"&&(u.duration=o,o=u,u=null),h=a.call(this,c?o:Tn(o))||this;var f=h.vars,p=f.duration,v=f.delay,g=f.immediateRender,w=f.stagger,m=f.overwrite,C=f.keyframes,_=f.defaults,y=f.scrollTrigger,E=f.yoyoEase,P=o.parent||Q,k=(ht(r)||Ao(r)?Zt(r[0]):"length"in o)?[r]:Mt(r),V,S,T,L,O,M,N,G;if(h._targets=k.length?Rr(k):ui("GSAP target "+r+" not found. https://greensock.com",!Ct.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=m,C||w||ii(p)||ii(v)){if(o=h.vars,V=h.timeline=new mt({data:"nested",defaults:_||{}}),V.kill(),V.parent=V._dp=Yt(h),V._start=0,w||ii(p)||ii(v)){if(L=k.length,N=w&&Go(w),Qt(w))for(O in w)~aa.indexOf(O)&&(G||(G={}),G[O]=w[O]);for(S=0;S<L;S++)T=hi(o,la),T.stagger=0,E&&(T.yoyoEase=E),G&&Le(T,G),M=k[S],T.duration=+An(p,Yt(h),S,M,k),T.delay=(+An(v,Yt(h),S,M,k)||0)-h._delay,!w&&L===1&&T.delay&&(h._delay=v=T.delay,h._start+=v,T.delay=0),V.to(M,T,N?N(S,M,k):0),V._ease=U.none;V.duration()?p=v=0:h.timeline=0}else if(C){Tn(Lt(V.vars.defaults,{ease:"none"})),V._ease=Oe(C.ease||o.ease||"none");var J=0,tt,W,B;if(ht(C))C.forEach(function(D){return V.to(k,D,">")});else{T={};for(O in C)O==="ease"||O==="easeEach"||Wh(O,C[O],T,C.easeEach);for(O in T)for(tt=T[O].sort(function(D,lt){return D.t-lt.t}),J=0,S=0;S<tt.length;S++)W=tt[S],B={ease:W.e,duration:(W.t-(S?tt[S-1].t:0))/100*p},B[O]=W.v,V.to(k,B,J),J+=B.duration;V.duration()<p&&V.to({},{duration:p-V.duration()})}}p||h.duration(p=V.duration())}else h.timeline=0;return m===!0&&!Vr&&(le=Yt(h),Q.killTweensOf(k),le=0),jt(P,Yt(h),u),o.reversed&&h.reverse(),o.paused&&h.paused(!0),(g||!p&&!C&&h._start===ut(P._time)&&_t(g)&&Ph(Yt(h))&&P.data!=="nested")&&(h._tTime=-Y,h.render(Math.max(0,-v))),y&&$o(Yt(h),y),h}var n=e.prototype;return n.render=function(o,u,c){var h=this._time,f=this._tDur,p=this._dur,v=o>f-Y&&o>=0?f:o<Y?0:o,g,w,m,C,_,y,E,P,k;if(!p)kh(this,o,u,c);else if(v!==this._tTime||!o||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=o<0){if(g=v,P=this.timeline,this._repeat){if(C=p+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(C*100+o,u,c);if(g=ut(v%C),v===f?(m=this._repeat,g=p):(m=~~(v/C),m&&m===v/C&&(g=p,m--),g>p&&(g=p)),y=this._yoyo&&m&1,y&&(k=this._yEase,g=p-g),_=Je(this._tTime,C),g===h&&!c&&this._initted)return this._tTime=v,this;m!==_&&(P&&this._yEase&&ia(P,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=c=1,this.render(ut(C*m),!0).invalidate()._lock=0))}if(!this._initted){if(Ho(this,o<0?o:g,c,u))return this._tTime=0,this;if(h!==this._time)return this;if(p!==this._dur)return this.render(o,u,c)}if(this._tTime=v,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(g/p),this._from&&(this.ratio=E=1-E),g&&!h&&!u&&(Ot(this,"onStart"),this._tTime!==v))return this;for(w=this._pt;w;)w.r(E,w.d),w=w._next;P&&P.render(o<0?o:!g&&y?-Y:P._dur*P._ease(g/this._dur),u,c)||this._startAt&&(this._zTime=o),this._onUpdate&&!u&&(o<0&&this._startAt&&this._startAt.render(o,!0,c),Ot(this,"onUpdate")),this._repeat&&m!==_&&this.vars.onRepeat&&!u&&this.parent&&Ot(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(o<0&&this._startAt&&!this._onUpdate&&this._startAt.render(o,!0,!0),(o||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Gt(this,1),!u&&!(o<0&&!h)&&(v||h)&&(Ot(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),a.prototype.invalidate.call(this)},n.resetTo=function(o,u,c,h){Dn||xt.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||Fr(this,f),p=this._ease(f/this._dur),Yh(this,o,u,c,h,p,f)?this.resetTo(o,u,c,h):(Ir(this,0),this.parent||zo(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(o,u){if(u===void 0&&(u="all"),!o&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?kn(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(o,u,le&&le.vars.overwrite!==!0)._first||kn(this),this.parent&&c!==this.timeline.totalDuration()&&tn(this,this._dur*this.timeline._tDur/c,0,1),this}var h=this._targets,f=o?Mt(o):h,p=this._ptLookup,v=this._pt,g,w,m,C,_,y,E;if((!u||u==="all")&&xh(h,f))return u==="all"&&(this._pt=0),kn(this);for(g=this._op=this._op||[],u!=="all"&&(ot(u)&&(_={},bt(u,function(P){return _[P]=1}),u=_),u=Gh(h,u)),E=h.length;E--;)if(~f.indexOf(h[E])){w=p[E],u==="all"?(g[E]=u,C=w,m={}):(m=g[E]=g[E]||{},C=u);for(_ in C)y=w&&w[_],y&&((!("kill"in y.d)||y.d.kill(_)===!0)&&wi(this,y,"_pt"),delete w[_]),m!=="all"&&(m[_]=1)}return this._initted&&!this._pt&&v&&kn(this),this},e.to=function(o,u){return new e(o,u,arguments[2])},e.from=function(o,u){return Vn(1,arguments)},e.delayedCall=function(o,u,c,h){return new e(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:u,onReverseComplete:u,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:h})},e.fromTo=function(o,u,c){return Vn(2,arguments)},e.set=function(o,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new e(o,u)},e.killTweensOf=function(o,u,c){return Q.killTweensOf(o,u,c)},e}(Rn);Lt(rt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});bt("staggerTo,staggerFrom,staggerFromTo",function(a){rt[a]=function(){var e=new mt,n=xr.call(arguments,0);return n.splice(a==="staggerFromTo"?5:4,0,0),e[a].apply(e,n)}});var Br=function(e,n,r){return e[n]=r},ua=function(e,n,r){return e[n](r)},Xh=function(e,n,r,o){return e[n](o.fp,r)},Zh=function(e,n,r){return e.setAttribute(n,r)},Ur=function(e,n){return st(e[n])?ua:Ar(e[n])&&e.setAttribute?Zh:Br},ca=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Qh=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},ha=function(e,n){var r=n._pt,o="";if(!e&&n.b)o=n.b;else if(e===1&&n.e)o=n.e;else{for(;r;)o=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+o,r=r._next;o+=n.c}n.set(n.t,n.p,o,n)},jr=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Jh=function(e,n,r,o){for(var u=this._pt,c;u;)c=u._next,u.p===o&&u.modifier(e,n,r),u=c},tp=function(e){for(var n=this._pt,r,o;n;)o=n._next,n.p===e&&!n.op||n.op===e?wi(this,n,"_pt"):n.dep||(r=1),n=o;return!r},ep=function(e,n,r,o){o.mSet(e,n,o.m.call(o.tween,r,o.mt),o)},pa=function(e){for(var n=e._pt,r,o,u,c;n;){for(r=n._next,o=u;o&&o.pr>n.pr;)o=o._next;(n._prev=o?o._prev:c)?n._prev._next=n:u=n,(n._next=o)?o._prev=n:c=n,n=r}e._pt=u},gt=function(){function a(n,r,o,u,c,h,f,p,v){this.t=r,this.s=u,this.c=c,this.p=o,this.r=h||ca,this.d=f||this,this.set=p||Br,this.pr=v||0,this._next=n,n&&(n._prev=this)}var e=a.prototype;return e.modifier=function(r,o,u){this.mSet=this.mSet||this.set,this.set=ep,this.m=r,this.mt=u,this.tween=o},a}();bt(Dr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(a){return Lr[a]=1});Pt.TweenMax=Pt.TweenLite=rt;Pt.TimelineLite=Pt.TimelineMax=mt;Q=new mt({sortChildren:!1,defaults:Qe,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ct.stringFilter=ea;var di={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(o){return Fh(o)})},timeline:function(e){return new mt(e)},getTweensOf:function(e,n){return Q.getTweensOf(e,n)},getProperty:function(e,n,r,o){ot(e)&&(e=Mt(e)[0]);var u=Ae(e||{}).get,c=r?jo:Uo;return r==="native"&&(r=""),e&&(n?c((yt[n]&&yt[n].get||u)(e,n,r,o)):function(h,f,p){return c((yt[h]&&yt[h].get||u)(e,h,f,p))})},quickSetter:function(e,n,r){if(e=Mt(e),e.length>1){var o=e.map(function(v){return Rt.quickSetter(v,n,r)}),u=o.length;return function(v){for(var g=u;g--;)o[g](v)}}e=e[0]||{};var c=yt[n],h=Ae(e),f=h.harness&&(h.harness.aliases||{})[n]||n,p=c?function(v){var g=new c;Ye._pt=0,g.init(e,r?v+r:v,Ye,0,[e]),g.render(1,g),Ye._pt&&jr(1,Ye)}:h.set(e,f);return c?p:function(v){return p(e,f,r?v+r:v,h,1)}},quickTo:function(e,n,r){var o,u=Rt.to(e,Le((o={},o[n]="+=0.1",o.paused=!0,o),r||{})),c=function(f,p,v){return u.resetTo(n,f,p,v)};return c.tween=u,c},isTweening:function(e){return Q.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Oe(e.ease,Qe.ease)),io(Qe,e||{})},config:function(e){return io(Ct,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,o=e.plugins,u=e.defaults,c=e.extendTimeline;(o||"").split(",").forEach(function(h){return h&&!yt[h]&&!Pt[h]&&ui(n+" effect requires "+h+" plugin.")}),or[n]=function(h,f,p){return r(Mt(h),Lt(f||{},u),p)},c&&(mt.prototype[n]=function(h,f,p){return this.add(or[n](h,Qt(f)?f:(p=f)&&{},this),p)})},registerEase:function(e,n){U[e]=Oe(n)},parseEase:function(e,n){return arguments.length?Oe(e,n):U},getById:function(e){return Q.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new mt(e),o,u;for(r.smoothChildTiming=_t(e.smoothChildTiming),Q.remove(r),r._dp=0,r._time=r._tTime=Q._time,o=Q._first;o;)u=o._next,(n||!(!o._dur&&o instanceof rt&&o.vars.onComplete===o._targets[0]))&&jt(r,o,o._start-o._delay),o=u;return jt(Q,r,0),r},utils:{wrap:Rh,wrapYoyo:Ih,distribute:Go,random:Xo,snap:Wo,normalize:Dh,getUnit:ct,clamp:Vh,splitColor:Jo,toArray:Mt,selector:Mh,mapRange:Qo,pipe:Oh,unitize:Lh,interpolate:Nh,shuffle:Yo},install:Ro,effects:or,ticker:xt,updateRoot:mt.updateRoot,plugins:yt,globalTimeline:Q,core:{PropTween:gt,globals:Io,Tween:rt,Timeline:mt,Animation:Rn,getCache:Ae,_removeLinkedListItem:wi,suppressOverwrites:function(e){return Vr=e}}};bt("to,from,fromTo,delayedCall,set,killTweensOf",function(a){return di[a]=rt[a]});xt.add(mt.updateRoot);Ye=di.to({},{duration:0});var np=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},ip=function(e,n){var r=e._targets,o,u,c;for(o in n)for(u=r.length;u--;)c=e._ptLookup[u][o],c&&(c=c.d)&&(c._pt&&(c=np(c,o)),c&&c.modifier&&c.modifier(n[o],e,r[u],o))},cr=function(e,n){return{name:e,rawVars:1,init:function(o,u,c){c._onInit=function(h){var f,p;if(ot(u)&&(f={},bt(u,function(v){return f[v]=1}),u=f),n){f={};for(p in u)f[p]=n(u[p]);u=f}ip(h,u)}}}},Rt=di.registerPlugin({name:"attr",init:function(e,n,r,o,u){var c,h;for(c in n)h=this.add(e,"setAttribute",(e.getAttribute(c)||0)+"",n[c],o,u,0,0,c),h&&(h.op=c),this._props.push(c)}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r])}},cr("roundProps",Cr),cr("modifiers"),cr("snap",Wo))||di;rt.version=mt.version=Rt.version="3.10.4";Do=1;Vo()&&en();U.Power0;U.Power1;U.Power2;U.Power3;U.Power4;U.Linear;U.Quad;U.Cubic;U.Quart;U.Quint;U.Strong;U.Elastic;U.Back;U.SteppedEase;U.Bounce;U.Sine;U.Expo;U.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lo,ue,We,zr,Ve,uo,rp=function(){return typeof window!="undefined"},fe={},Se=180/Math.PI,Xe=Math.PI/180,He=Math.atan2,co=1e8,da=/([A-Z])/g,sp=/(left|right|width|margin|padding|x)/i,op=/[\s,\(]\S/,ce={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},fa=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},ap=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},lp=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},up=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},va=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},ma=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},cp=function(e,n,r){return e.style[n]=r},hp=function(e,n,r){return e.style.setProperty(n,r)},pp=function(e,n,r){return e._gsap[n]=r},dp=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},fp=function(e,n,r,o,u){var c=e._gsap;c.scaleX=c.scaleY=r,c.renderTransform(u,c)},vp=function(e,n,r,o,u){var c=e._gsap;c[n]=r,c.renderTransform(u,c)},at="transform",ve=at+"Origin",_a,Er=function(e,n){var r=ue.createElementNS?ue.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ue.createElement(e);return r.style?r:ue.createElement(e)},Wt=function a(e,n,r){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(da,"-$1").toLowerCase())||o.getPropertyValue(n)||!r&&a(e,nn(n)||n,1)||""},ho="O,Moz,ms,Ms,Webkit".split(","),nn=function(e,n,r){var o=n||Ve,u=o.style,c=5;if(e in u&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(ho[c]+e in u););return c<0?null:(c===3?"ms":c>=0?ho[c]:"")+e},kr=function(){rp()&&window.document&&(lo=window,ue=lo.document,We=ue.documentElement,Ve=Er("div")||{style:{}},Er("div"),at=nn(at),ve=at+"Origin",Ve.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_a=!!nn("perspective"),zr=1)},hr=function a(e){var n=Er("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,u=this.style.cssText,c;if(We.appendChild(n),n.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=a}catch{}else this._gsapBBox&&(c=this._gsapBBox());return r&&(o?r.insertBefore(this,o):r.appendChild(this)),We.removeChild(n),this.style.cssText=u,c},po=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},ba=function(e){var n;try{n=e.getBBox()}catch{n=hr.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===hr||(n=hr.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+po(e,["x","cx","x1"])||0,y:+po(e,["y","cy","y1"])||0,width:0,height:0}:n},ga=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ba(e))},In=function(e,n){if(n){var r=e.style;n in fe&&n!==ve&&(n=at),r.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(n.replace(da,"-$1").toLowerCase())):r.removeAttribute(n)}},he=function(e,n,r,o,u,c){var h=new gt(e._pt,n,r,0,1,c?ma:va);return e._pt=h,h.b=o,h.e=u,e._props.push(r),h},fo={deg:1,rad:1,turn:1},me=function a(e,n,r,o){var u=parseFloat(r)||0,c=(r+"").trim().substr((u+"").length)||"px",h=Ve.style,f=sp.test(n),p=e.tagName.toLowerCase()==="svg",v=(p?"client":"offset")+(f?"Width":"Height"),g=100,w=o==="px",m=o==="%",C,_,y,E;return o===c||!u||fo[o]||fo[c]?u:(c!=="px"&&!w&&(u=a(e,n,r,"px")),E=e.getCTM&&ga(e),(m||c==="%")&&(fe[n]||~n.indexOf("adius"))?(C=E?e.getBBox()[f?"width":"height"]:e[v],et(m?u/C*g:u/100*C)):(h[f?"width":"height"]=g+(w?c:o),_=~n.indexOf("adius")||o==="em"&&e.appendChild&&!p?e:e.parentNode,E&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===ue||!_.appendChild)&&(_=ue.body),y=_._gsap,y&&m&&y.width&&f&&y.time===xt.time?et(u/y.width*g):((m||c==="%")&&(h.position=Wt(e,"position")),_===e&&(h.position="static"),_.appendChild(Ve),C=Ve[v],_.removeChild(Ve),h.position="absolute",f&&m&&(y=Ae(_),y.time=xt.time,y.width=_[v]),et(w?C*u/g:C&&u?g/C*u:0))))},Te=function(e,n,r,o){var u;return zr||kr(),n in ce&&n!=="transform"&&(n=ce[n],~n.indexOf(",")&&(n=n.split(",")[0])),fe[n]&&n!=="transform"?(u=Fn(e,o),u=n!=="transformOrigin"?u[n]:u.svg?u.origin:vi(Wt(e,ve))+" "+u.zOrigin+"px"):(u=e.style[n],(!u||u==="auto"||o||~(u+"").indexOf("calc("))&&(u=fi[n]&&fi[n](e,n,r)||Wt(e,n)||Fo(e,n)||(n==="opacity"?1:0))),r&&!~(u+"").trim().indexOf(" ")?me(e,n,u,r)+r:u},mp=function(e,n,r,o){if(!r||r==="none"){var u=nn(n,e,1),c=u&&Wt(e,u,1);c&&c!==r?(n=u,r=c):n==="borderColor"&&(r=Wt(e,"borderTopColor"))}var h=new gt(this._pt,e.style,n,0,1,ha),f=0,p=0,v,g,w,m,C,_,y,E,P,k,V,S;if(h.b=r,h.e=o,r+="",o+="",o==="auto"&&(e.style[n]=o,o=Wt(e,n)||o,e.style[n]=r),v=[r,o],ea(v),r=v[0],o=v[1],w=r.match(qe)||[],S=o.match(qe)||[],S.length){for(;g=qe.exec(o);)y=g[0],P=o.substring(f,g.index),C?C=(C+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(C=1),y!==(_=w[p++]||"")&&(m=parseFloat(_)||0,V=_.substr((m+"").length),y.charAt(1)==="="&&(y=Ge(m,y)+V),E=parseFloat(y),k=y.substr((E+"").length),f=qe.lastIndex-k.length,k||(k=k||Ct.units[n]||V,f===o.length&&(o+=k,h.e+=k)),V!==k&&(m=me(e,n,_,k)||0),h._pt={_next:h._pt,p:P||p===1?P:",",s:m,c:E-m,m:C&&C<4||n==="zIndex"?Math.round:0});h.c=f<o.length?o.substring(f,o.length):""}else h.r=n==="display"&&o==="none"?ma:va;return Oo.test(o)&&(h.e=0),this._pt=h,h},vo={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_p=function(e){var n=e.split(" "),r=n[0],o=n[1]||"50%";return(r==="top"||r==="bottom"||o==="left"||o==="right")&&(e=r,r=o,o=e),n[0]=vo[r]||r,n[1]=vo[o]||o,n.join(" ")},bp=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,o=r.style,u=n.u,c=r._gsap,h,f,p;if(u==="all"||u===!0)o.cssText="",f=1;else for(u=u.split(","),p=u.length;--p>-1;)h=u[p],fe[h]&&(f=1,h=h==="transformOrigin"?ve:at),In(r,h);f&&(In(r,at),c&&(c.svg&&r.removeAttribute("transform"),Fn(r,1),c.uncache=1))}},fi={clearProps:function(e,n,r,o,u){if(u.data!=="isFromStart"){var c=e._pt=new gt(e._pt,n,r,0,0,bp);return c.u=o,c.pr=-10,c.tween=u,e._props.push(r),1}}},Nn=[1,0,0,1,0,0],wa={},ya=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},mo=function(e){var n=Wt(e,at);return ya(n)?Nn:n.substr(7).match(Mo).map(et)},Kr=function(e,n){var r=e._gsap||Ae(e),o=e.style,u=mo(e),c,h,f,p;return r.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,u=[f.a,f.b,f.c,f.d,f.e,f.f],u.join(",")==="1,0,0,1,0,0"?Nn:u):(u===Nn&&!e.offsetParent&&e!==We&&!r.svg&&(f=o.display,o.display="block",c=e.parentNode,(!c||!e.offsetParent)&&(p=1,h=e.nextSibling,We.appendChild(e)),u=mo(e),f?o.display=f:In(e,"display"),p&&(h?c.insertBefore(e,h):c?c.appendChild(e):We.removeChild(e))),n&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Sr=function(e,n,r,o,u,c){var h=e._gsap,f=u||Kr(e,!0),p=h.xOrigin||0,v=h.yOrigin||0,g=h.xOffset||0,w=h.yOffset||0,m=f[0],C=f[1],_=f[2],y=f[3],E=f[4],P=f[5],k=n.split(" "),V=parseFloat(k[0])||0,S=parseFloat(k[1])||0,T,L,O,M;r?f!==Nn&&(L=m*y-C*_)&&(O=V*(y/L)+S*(-_/L)+(_*P-y*E)/L,M=V*(-C/L)+S*(m/L)-(m*P-C*E)/L,V=O,S=M):(T=ba(e),V=T.x+(~k[0].indexOf("%")?V/100*T.width:V),S=T.y+(~(k[1]||k[0]).indexOf("%")?S/100*T.height:S)),o||o!==!1&&h.smooth?(E=V-p,P=S-v,h.xOffset=g+(E*m+P*_)-E,h.yOffset=w+(E*C+P*y)-P):h.xOffset=h.yOffset=0,h.xOrigin=V,h.yOrigin=S,h.smooth=!!o,h.origin=n,h.originIsAbsolute=!!r,e.style[ve]="0px 0px",c&&(he(c,h,"xOrigin",p,V),he(c,h,"yOrigin",v,S),he(c,h,"xOffset",g,h.xOffset),he(c,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",V+" "+S)},Fn=function(e,n){var r=e._gsap||new sa(e);if("x"in r&&!n&&!r.uncache)return r;var o=e.style,u=r.scaleX<0,c="px",h="deg",f=Wt(e,ve)||"0",p,v,g,w,m,C,_,y,E,P,k,V,S,T,L,O,M,N,G,J,tt,W,B,D,lt,zt,Kt,dt,It,$,H,$t;return p=v=g=C=_=y=E=P=k=0,w=m=1,r.svg=!!(e.getCTM&&ga(e)),T=Kr(e,r.svg),r.svg&&(D=(!r.uncache||f==="0px 0px")&&!n&&e.getAttribute("data-svg-origin"),Sr(e,D||f,!!D||r.originIsAbsolute,r.smooth!==!1,T)),V=r.xOrigin||0,S=r.yOrigin||0,T!==Nn&&(N=T[0],G=T[1],J=T[2],tt=T[3],p=W=T[4],v=B=T[5],T.length===6?(w=Math.sqrt(N*N+G*G),m=Math.sqrt(tt*tt+J*J),C=N||G?He(G,N)*Se:0,E=J||tt?He(J,tt)*Se+C:0,E&&(m*=Math.abs(Math.cos(E*Xe))),r.svg&&(p-=V-(V*N+S*J),v-=S-(V*G+S*tt))):($t=T[6],$=T[7],Kt=T[8],dt=T[9],It=T[10],H=T[11],p=T[12],v=T[13],g=T[14],L=He($t,It),_=L*Se,L&&(O=Math.cos(-L),M=Math.sin(-L),D=W*O+Kt*M,lt=B*O+dt*M,zt=$t*O+It*M,Kt=W*-M+Kt*O,dt=B*-M+dt*O,It=$t*-M+It*O,H=$*-M+H*O,W=D,B=lt,$t=zt),L=He(-J,It),y=L*Se,L&&(O=Math.cos(-L),M=Math.sin(-L),D=N*O-Kt*M,lt=G*O-dt*M,zt=J*O-It*M,H=tt*M+H*O,N=D,G=lt,J=zt),L=He(G,N),C=L*Se,L&&(O=Math.cos(L),M=Math.sin(L),D=N*O+G*M,lt=W*O+B*M,G=G*O-N*M,B=B*O-W*M,N=D,W=lt),_&&Math.abs(_)+Math.abs(C)>359.9&&(_=C=0,y=180-y),w=et(Math.sqrt(N*N+G*G+J*J)),m=et(Math.sqrt(B*B+$t*$t)),L=He(W,B),E=Math.abs(L)>2e-4?L*Se:0,k=H?1/(H<0?-H:H):0),r.svg&&(D=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!ya(Wt(e,at)),D&&e.setAttribute("transform",D))),Math.abs(E)>90&&Math.abs(E)<270&&(u?(w*=-1,E+=C<=0?180:-180,C+=C<=0?180:-180):(m*=-1,E+=E<=0?180:-180)),n=n||r.uncache,r.x=p-((r.xPercent=p&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+c,r.y=v-((r.yPercent=v&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+c,r.z=g+c,r.scaleX=et(w),r.scaleY=et(m),r.rotation=et(C)+h,r.rotationX=et(_)+h,r.rotationY=et(y)+h,r.skewX=E+h,r.skewY=P+h,r.transformPerspective=k+c,(r.zOrigin=parseFloat(f.split(" ")[2])||0)&&(o[ve]=vi(f)),r.xOffset=r.yOffset=0,r.force3D=Ct.force3D,r.renderTransform=r.svg?wp:_a?xa:gp,r.uncache=0,r},vi=function(e){return(e=e.split(" "))[0]+" "+e[1]},pr=function(e,n,r){var o=ct(n);return et(parseFloat(n)+parseFloat(me(e,"x",r+"px",o)))+o},gp=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,xa(e,n)},Ee="0deg",En="0px",ke=") ",xa=function(e,n){var r=n||this,o=r.xPercent,u=r.yPercent,c=r.x,h=r.y,f=r.z,p=r.rotation,v=r.rotationY,g=r.rotationX,w=r.skewX,m=r.skewY,C=r.scaleX,_=r.scaleY,y=r.transformPerspective,E=r.force3D,P=r.target,k=r.zOrigin,V="",S=E==="auto"&&e&&e!==1||E===!0;if(k&&(g!==Ee||v!==Ee)){var T=parseFloat(v)*Xe,L=Math.sin(T),O=Math.cos(T),M;T=parseFloat(g)*Xe,M=Math.cos(T),c=pr(P,c,L*M*-k),h=pr(P,h,-Math.sin(T)*-k),f=pr(P,f,O*M*-k+k)}y!==En&&(V+="perspective("+y+ke),(o||u)&&(V+="translate("+o+"%, "+u+"%) "),(S||c!==En||h!==En||f!==En)&&(V+=f!==En||S?"translate3d("+c+", "+h+", "+f+") ":"translate("+c+", "+h+ke),p!==Ee&&(V+="rotate("+p+ke),v!==Ee&&(V+="rotateY("+v+ke),g!==Ee&&(V+="rotateX("+g+ke),(w!==Ee||m!==Ee)&&(V+="skew("+w+", "+m+ke),(C!==1||_!==1)&&(V+="scale("+C+", "+_+ke),P.style[at]=V||"translate(0, 0)"},wp=function(e,n){var r=n||this,o=r.xPercent,u=r.yPercent,c=r.x,h=r.y,f=r.rotation,p=r.skewX,v=r.skewY,g=r.scaleX,w=r.scaleY,m=r.target,C=r.xOrigin,_=r.yOrigin,y=r.xOffset,E=r.yOffset,P=r.forceCSS,k=parseFloat(c),V=parseFloat(h),S,T,L,O,M;f=parseFloat(f),p=parseFloat(p),v=parseFloat(v),v&&(v=parseFloat(v),p+=v,f+=v),f||p?(f*=Xe,p*=Xe,S=Math.cos(f)*g,T=Math.sin(f)*g,L=Math.sin(f-p)*-w,O=Math.cos(f-p)*w,p&&(v*=Xe,M=Math.tan(p-v),M=Math.sqrt(1+M*M),L*=M,O*=M,v&&(M=Math.tan(v),M=Math.sqrt(1+M*M),S*=M,T*=M)),S=et(S),T=et(T),L=et(L),O=et(O)):(S=g,O=w,T=L=0),(k&&!~(c+"").indexOf("px")||V&&!~(h+"").indexOf("px"))&&(k=me(m,"x",c,"px"),V=me(m,"y",h,"px")),(C||_||y||E)&&(k=et(k+C-(C*S+_*L)+y),V=et(V+_-(C*T+_*O)+E)),(o||u)&&(M=m.getBBox(),k=et(k+o/100*M.width),V=et(V+u/100*M.height)),M="matrix("+S+","+T+","+L+","+O+","+k+","+V+")",m.setAttribute("transform",M),P&&(m.style[at]=M)},yp=function(e,n,r,o,u){var c=360,h=ot(u),f=parseFloat(u)*(h&&~u.indexOf("rad")?Se:1),p=f-o,v=o+p+"deg",g,w;return h&&(g=u.split("_")[1],g==="short"&&(p%=c,p!==p%(c/2)&&(p+=p<0?c:-c)),g==="cw"&&p<0?p=(p+c*co)%c-~~(p/c)*c:g==="ccw"&&p>0&&(p=(p-c*co)%c-~~(p/c)*c)),e._pt=w=new gt(e._pt,n,r,o,p,ap),w.e=v,w.u="deg",e._props.push(r),w},_o=function(e,n){for(var r in n)e[r]=n[r];return e},xp=function(e,n,r){var o=_o({},r._gsap),u="perspective,force3D,transformOrigin,svgOrigin",c=r.style,h,f,p,v,g,w,m,C;o.svg?(p=r.getAttribute("transform"),r.setAttribute("transform",""),c[at]=n,h=Fn(r,1),In(r,at),r.setAttribute("transform",p)):(p=getComputedStyle(r)[at],c[at]=n,h=Fn(r,1),c[at]=p);for(f in fe)p=o[f],v=h[f],p!==v&&u.indexOf(f)<0&&(m=ct(p),C=ct(v),g=m!==C?me(r,f,p,C):parseFloat(p),w=parseFloat(v),e._pt=new gt(e._pt,h,f,g,w-g,fa),e._pt.u=C||0,e._props.push(f));_o(h,o)};bt("padding,margin,Width,Radius",function(a,e){var n="Top",r="Right",o="Bottom",u="Left",c=(e<3?[n,r,o,u]:[n+u,n+r,o+r,o+u]).map(function(h){return e<2?a+h:"border"+h+a});fi[e>1?"border"+a:a]=function(h,f,p,v,g){var w,m;if(arguments.length<4)return w=c.map(function(C){return Te(h,C,p)}),m=w.join(" "),m.split(w[0]).length===5?w[0]:m;w=(v+"").split(" "),m={},c.forEach(function(C,_){return m[C]=w[_]=w[_]||w[(_-1)/2|0]}),h.init(f,m,g)}});var Ca={name:"css",register:kr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,o,u){var c=this._props,h=e.style,f=r.vars.startAt,p,v,g,w,m,C,_,y,E,P,k,V,S,T,L;zr||kr();for(_ in n)if(_!=="autoRound"&&(v=n[_],!(yt[_]&&oa(_,n,r,o,e,u)))){if(m=typeof v,C=fi[_],m==="function"&&(v=v.call(r,o,e,u),m=typeof v),m==="string"&&~v.indexOf("random(")&&(v=Ln(v)),C)C(this,e,_,v,r)&&(L=1);else if(_.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(_)+"").trim(),v+="",de.lastIndex=0,de.test(p)||(y=ct(p),E=ct(v)),E?y!==E&&(p=me(e,_,p,E)+E):y&&(v+=y),this.add(h,"setProperty",p,v,o,u,0,0,_),c.push(_);else if(m!=="undefined"){if(f&&_ in f?(p=typeof f[_]=="function"?f[_].call(r,o,e,u):f[_],ot(p)&&~p.indexOf("random(")&&(p=Ln(p)),ct(p+"")||(p+=Ct.units[_]||ct(Te(e,_))||""),(p+"").charAt(1)==="="&&(p=Te(e,_))):p=Te(e,_),w=parseFloat(p),P=m==="string"&&v.charAt(1)==="="&&v.substr(0,2),P&&(v=v.substr(2)),g=parseFloat(v),_ in ce&&(_==="autoAlpha"&&(w===1&&Te(e,"visibility")==="hidden"&&g&&(w=0),he(this,h,"visibility",w?"inherit":"hidden",g?"inherit":"hidden",!g)),_!=="scale"&&_!=="transform"&&(_=ce[_],~_.indexOf(",")&&(_=_.split(",")[0]))),k=_ in fe,k){if(V||(S=e._gsap,S.renderTransform&&!n.parseTransform||Fn(e,n.parseTransform),T=n.smoothOrigin!==!1&&S.smooth,V=this._pt=new gt(this._pt,h,at,0,1,S.renderTransform,S,0,-1),V.dep=1),_==="scale")this._pt=new gt(this._pt,S,"scaleY",S.scaleY,(P?Ge(S.scaleY,P+g):g)-S.scaleY||0),c.push("scaleY",_),_+="X";else if(_==="transformOrigin"){v=_p(v),S.svg?Sr(e,v,0,T,0,this):(E=parseFloat(v.split(" ")[2])||0,E!==S.zOrigin&&he(this,S,"zOrigin",S.zOrigin,E),he(this,h,_,vi(p),vi(v)));continue}else if(_==="svgOrigin"){Sr(e,v,1,T,0,this);continue}else if(_ in wa){yp(this,S,_,w,P?Ge(w,P+v):v);continue}else if(_==="smoothOrigin"){he(this,S,"smooth",S.smooth,v);continue}else if(_==="force3D"){S[_]=v;continue}else if(_==="transform"){xp(this,v,e);continue}}else _ in h||(_=nn(_)||_);if(k||(g||g===0)&&(w||w===0)&&!op.test(v)&&_ in h)y=(p+"").substr((w+"").length),g||(g=0),E=ct(v)||(_ in Ct.units?Ct.units[_]:y),y!==E&&(w=me(e,_,p,E)),this._pt=new gt(this._pt,k?S:h,_,w,(P?Ge(w,P+g):g)-w,!k&&(E==="px"||_==="zIndex")&&n.autoRound!==!1?up:fa),this._pt.u=E||0,y!==E&&E!=="%"&&(this._pt.b=p,this._pt.r=lp);else if(_ in h)mp.call(this,e,_,p,P?P+v:v);else if(_ in e)this.add(e,_,p||e[_],P?P+v:v,o,u);else{Or(_,v);continue}c.push(_)}}L&&pa(this)},get:Te,aliases:ce,getSetter:function(e,n,r){var o=ce[n];return o&&o.indexOf(",")<0&&(n=o),n in fe&&n!==ve&&(e._gsap.x||Te(e,"x"))?r&&uo===r?n==="scale"?dp:pp:(uo=r||{})&&(n==="scale"?fp:vp):e.style&&!Ar(e.style[n])?cp:~n.indexOf("-")?hp:Ur(e,n)},core:{_removeProperty:In,_getMatrix:Kr}};Rt.utils.checkPrefix=nn;(function(a,e,n,r){var o=bt(a+","+e+","+n,function(u){fe[u]=1});bt(e,function(u){Ct.units[u]="deg",wa[u]=1}),ce[o[13]]=a+","+e,bt(r,function(u){var c=u.split(":");ce[c[1]]=o[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");bt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(a){Ct.units[a]="px"});Rt.registerPlugin(Ca);var Cp=Rt.registerPlugin(Ca)||Rt;Cp.core.Tween;var Pa=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ea={exports:{}};(function(a,e){(function(n,r){a.exports=r()})(Pa,function(){var n=function(){function r(m){return c.appendChild(m.dom),m}function o(m){for(var C=0;C<c.children.length;C++)c.children[C].style.display=C===m?"block":"none";u=m}var u=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(m){m.preventDefault(),o(++u%c.children.length)},!1);var h=(performance||Date).now(),f=h,p=0,v=r(new n.Panel("FPS","#0ff","#002")),g=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=r(new n.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:c,addPanel:r,showPanel:o,begin:function(){h=(performance||Date).now()},end:function(){p++;var m=(performance||Date).now();if(g.update(m-h,200),m>f+1e3&&(v.update(1e3*p/(m-f),100),f=m,p=0,w)){var C=performance.memory;w.update(C.usedJSHeapSize/1048576,C.jsHeapSizeLimit/1048576)}return m},update:function(){h=this.end()},domElement:c,setMode:o}};return n.Panel=function(r,o,u){var c=1/0,h=0,f=Math.round,p=f(window.devicePixelRatio||1),v=80*p,g=48*p,w=3*p,m=2*p,C=3*p,_=15*p,y=74*p,E=30*p,P=document.createElement("canvas");P.width=v,P.height=g,P.style.cssText="width:80px;height:48px";var k=P.getContext("2d");return k.font="bold "+9*p+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=u,k.fillRect(0,0,v,g),k.fillStyle=o,k.fillText(r,w,m),k.fillRect(C,_,y,E),k.fillStyle=u,k.globalAlpha=.9,k.fillRect(C,_,y,E),{dom:P,update:function(V,S){c=Math.min(c,V),h=Math.max(h,V),k.fillStyle=u,k.globalAlpha=1,k.fillRect(0,0,v,_),k.fillStyle=o,k.fillText(f(V)+" "+r+" ("+f(c)+"-"+f(h)+")",w,m),k.drawImage(P,C+p,_,y-p,E,C,_,y-p,E),k.fillRect(C+y-p,_,p,E),k.fillStyle=u,k.globalAlpha=.9,k.fillRect(C+y-p,_,p,f((1-V/S)*E))}}},n})})(Ea);var Rd=Ea.exports,bo={exports:{}};/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */(function(a,e){(function(n,r){r(e)})(Pa,function(n){class r{constructor(t){const[i,l]=t.split("-"),d=i.split(".");this.major=parseInt(d[0],10),this.minor=parseInt(d[1],10),this.patch=parseInt(d[2],10),this.prerelease=l!=null?l:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class o{constructor(t){this.controller_=t}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class u{constructor(t){this.target=t}}class c extends u{constructor(t,i,l,d){super(t),this.value=i,this.presetKey=l,this.last=d!=null?d:!0}}class h extends u{constructor(t,i,l){super(t),this.value=i,this.presetKey=l}}class f extends u{constructor(t,i){super(t),this.expanded=i}}function p(s){return s}function v(s){return s==null}function g(s,t){if(s.length!==t.length)return!1;for(let i=0;i<s.length;i++)if(s[i]!==t[i])return!1;return!0}const w={alreadydisposed:()=>"View has been already disposed",invalidparams:s=>`Invalid parameters for '${s.name}'`,nomatchingcontroller:s=>`No matching controller for '${s.key}'`,nomatchingview:s=>`No matching view for '${JSON.stringify(s.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:s=>`Property '${s.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class m{constructor(t){var i;this.message=(i=w[t.type](t.context))!==null&&i!==void 0?i:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}static alreadyDisposed(){return new m({type:"alreadydisposed"})}static notBindable(){return new m({type:"notbindable"})}static propertyNotFound(t){return new m({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new m({type:"shouldneverhappen"})}}class C{constructor(t,i,l){this.obj_=t,this.key_=i,this.presetKey_=l!=null?l:i}static isBindable(t){return!(t===null||typeof t!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,i){const l=this.read();if(!C.isBindable(l))throw m.notBindable();if(!(t in l))throw m.propertyNotFound(t);l[t]=i}}class _ extends o{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,i){const l=i.bind(this);return this.controller_.valueController.emitter.on(t,()=>{l(new u(this))}),this}}class y{constructor(){this.observers_={}}on(t,i){let l=this.observers_[t];return l||(l=this.observers_[t]=[]),l.push({handler:i}),this}off(t,i){const l=this.observers_[t];return l&&(this.observers_[t]=l.filter(d=>d.handler!==i)),this}emit(t,i){const l=this.observers_[t];!l||l.forEach(d=>{d.handler(i)})}}const E="tp";function P(s){return(i,l)=>[E,"-",s,"v",i?`_${i}`:"",l?`-${l}`:""].join("")}function k(s,t){return i=>t(s(i))}function V(s){return s.rawValue}function S(s,t){s.emitter.on("change",k(V,t)),t(s.rawValue)}function T(s,t,i){S(s.value(t),i)}function L(s,t,i){i?s.classList.add(t):s.classList.remove(t)}function O(s,t){return i=>{L(s,t,i)}}function M(s,t){S(s,i=>{t.textContent=i!=null?i:""})}const N=P("btn");class G{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(N()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("button");l.classList.add(N("b")),i.viewProps.bindDisabled(l),this.element.appendChild(l),this.buttonElement=l;const d=t.createElement("div");d.classList.add(N("t")),M(i.props.value("title"),d),this.buttonElement.appendChild(d)}}class J{constructor(t,i){this.emitter=new y,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new G(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class tt{constructor(t,i){var l;this.constraint_=i==null?void 0:i.constraint,this.equals_=(l=i==null?void 0:i.equals)!==null&&l!==void 0?l:(d,b)=>d===b,this.emitter=new y,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const l=i!=null?i:{forceEmit:!1,last:!0},d=this.constraint_?this.constraint_.constrain(t):t;!!this.equals_(this.rawValue_,d)&&!l.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=d,this.emitter.emit("change",{options:l,rawValue:d,sender:this}))}}class W{constructor(t){this.emitter=new y,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const l=i!=null?i:{forceEmit:!1,last:!0};this.value_===t&&!l.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:l,rawValue:this.value_,sender:this}))}}function B(s,t){const i=t==null?void 0:t.constraint,l=t==null?void 0:t.equals;return!i&&!l?new W(s):new tt(s,t)}class D{constructor(t){this.emitter=new y,this.valMap_=t;for(const i in this.valMap_)this.valMap_[i].emitter.on("change",()=>{this.emitter.emit("change",{key:i,sender:this})})}static createCore(t){return Object.keys(t).reduce((l,d)=>Object.assign(l,{[d]:B(t[d])}),{})}static fromObject(t){const i=this.createCore(t);return new D(i)}get(t){return this.valMap_[t].rawValue}set(t,i){this.valMap_[t].rawValue=i}value(t){return this.valMap_[t]}}function lt(s,t){const l=Object.keys(t).reduce((d,b)=>{if(d===void 0)return;const A=t[b](s[b]);return A.succeeded?Object.assign(Object.assign({},d),{[b]:A.value}):void 0},{});return l}function zt(s,t){return s.reduce((i,l)=>{if(i===void 0)return;const d=t(l);if(!(!d.succeeded||d.value===void 0))return[...i,d.value]},[])}function Kt(s){return s===null?!1:typeof s=="object"}function dt(s){return t=>i=>{if(!t&&i===void 0)return{succeeded:!1,value:void 0};if(t&&i===void 0)return{succeeded:!0,value:void 0};const l=s(i);return l!==void 0?{succeeded:!0,value:l}:{succeeded:!1,value:void 0}}}function It(s){return{custom:t=>dt(t)(s),boolean:dt(t=>typeof t=="boolean"?t:void 0)(s),number:dt(t=>typeof t=="number"?t:void 0)(s),string:dt(t=>typeof t=="string"?t:void 0)(s),function:dt(t=>typeof t=="function"?t:void 0)(s),constant:t=>dt(i=>i===t?t:void 0)(s),raw:dt(t=>t)(s),object:t=>dt(i=>{if(!!Kt(i))return lt(i,t)})(s),array:t=>dt(i=>{if(!!Array.isArray(i))return zt(i,t)})(s)}}const $={optional:It(!0),required:It(!1)};function H(s,t){const i=$.required.object(t)(s);return i.succeeded?i.value:void 0}function $t(s){return s&&s.parentElement&&s.parentElement.removeChild(s),null}function Za(){return["veryfirst","first","last","verylast"]}const ts=P(""),es={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class on{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const i=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Za().forEach(l=>{i.classList.remove(ts(void 0,es[l]))}),this.blade.get("positions").forEach(l=>{i.classList.add(ts(void 0,es[l]))})}),this.viewProps.handleDispose(()=>{$t(i)})}get parent(){return this.parent_}}const Nt="http://www.w3.org/2000/svg";function jn(s){s.offsetHeight}function Qa(s,t){const i=s.style.transition;s.style.transition="none",t(),s.style.transition=i}function Ci(s){return s.ontouchstart!==void 0}function Ja(){return new Function("return this")()}function tl(){return Ja().document}function el(s){const t=s.ownerDocument.defaultView;return t&&"document"in t?s.getContext("2d"):null}const nl={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function zn(s,t){const i=s.createElementNS(Nt,"svg");return i.innerHTML=nl[t],i}function ns(s,t,i){s.insertBefore(t,s.children[i])}function is(s){s.parentElement&&s.parentElement.removeChild(s)}function rs(s){for(;s.children.length>0;)s.removeChild(s.children[0])}function il(s){for(;s.childNodes.length>0;)s.removeChild(s.childNodes[0])}function ss(s){return s.relatedTarget?s.relatedTarget:"explicitOriginalTarget"in s?s.explicitOriginalTarget:null}const an=P("lbl");function rl(s,t){const i=s.createDocumentFragment();return t.split(`
`).map(d=>s.createTextNode(d)).forEach((d,b)=>{b>0&&i.appendChild(s.createElement("br")),i.appendChild(d)}),i}class os{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(an()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("div");l.classList.add(an("l")),T(i.props,"label",b=>{v(b)?this.element.classList.add(an(void 0,"nol")):(this.element.classList.remove(an(void 0,"nol")),il(l),l.appendChild(rl(t,b)))}),this.element.appendChild(l),this.labelElement=l;const d=t.createElement("div");d.classList.add(an("v")),this.element.appendChild(d),this.valueElement=d}}class Kn extends on{constructor(t,i){const l=i.valueController.viewProps;super(Object.assign(Object.assign({},i),{view:new os(t,{props:i.props,viewProps:l}),viewProps:l})),this.props=i.props,this.valueController=i.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const sl={id:"button",type:"blade",accept(s){const t=$,i=H(s,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return i?{params:i}:null},controller(s){return new Kn(s.document,{blade:s.blade,props:D.fromObject({label:s.params.label}),valueController:new J(s.document,{props:D.fromObject({title:s.params.title}),viewProps:s.viewProps})})},api(s){return!(s.controller instanceof Kn)||!(s.controller.valueController instanceof J)?null:new _(s.controller)}};class Re extends on{constructor(t){super(t),this.value=t.value}}function ln(){return new D({positions:B([],{equals:g})})}class un extends D{constructor(t){super(t)}static create(t){const i={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},l=D.createCore(i);return new un(l)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!v(t)?`${t}px`:"auto"}bindExpandedClass(t,i){const l=()=>{this.styleExpanded?t.classList.add(i):t.classList.remove(i)};T(this,"expanded",l),T(this,"temporaryExpanded",l)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function ol(s,t){let i=0;return Qa(t,()=>{s.set("expandedHeight",null),s.set("temporaryExpanded",!0),jn(t),i=t.clientHeight,s.set("temporaryExpanded",null),jn(t)}),i}function as(s,t){t.style.height=s.styleHeight}function Pi(s,t){s.value("expanded").emitter.on("beforechange",()=>{s.set("completed",!1),v(s.get("expandedHeight"))&&s.set("expandedHeight",ol(s,t)),s.set("shouldFixHeight",!0),jn(t)}),s.emitter.on("change",()=>{as(s,t)}),as(s,t),t.addEventListener("transitionend",i=>{i.propertyName==="height"&&s.cleanUpTransition()})}class Ei extends o{constructor(t,i){super(t),this.rackApi_=i}}function al(s,t){return s.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function ll(s,t){return s.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function ul(s,t){const i=t||{};return s.addBlade(Object.assign(Object.assign({},i),{view:"separator"}))}function cl(s,t){return s.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class ki{constructor(t){this.emitter=new y,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const i of this.allItems())if(t(i))return i;return null}includes(t){return this.cache_.has(t)}add(t,i){if(this.includes(t))throw m.shouldNeverHappen();const l=i!==void 0?i:this.items_.length;this.items_.splice(l,0,t),this.cache_.add(t);const d=this.extract_(t);d&&(d.emitter.on("add",this.onSubListAdd_),d.emitter.on("remove",this.onSubListRemove_),d.allItems().forEach(b=>{this.cache_.add(b)})),this.emitter.emit("add",{index:l,item:t,root:this,target:this})}remove(t){const i=this.items_.indexOf(t);if(i<0)return;this.items_.splice(i,1),this.cache_.delete(t);const l=this.extract_(t);l&&(l.emitter.off("add",this.onSubListAdd_),l.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:i,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class Si extends o{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new y,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const i=t.sender.target.read();this.emitter_.emit("change",{event:new c(this,i,this.controller_.binding.target.presetKey,t.options.last)})}}class Ft extends Kn{constructor(t,i){super(t,i),this.binding=i.binding}}class Ti extends o{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new y,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const i=t.sender.target.read();this.emitter_.emit("update",{event:new h(this,i,this.controller_.binding.target.presetKey)})}}class te extends Kn{constructor(t,i){super(t,i),this.binding=i.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function hl(s){return s instanceof $n?s.apiSet_:s instanceof Ei?s.rackApi_.apiSet_:null}function cn(s,t){const i=s.find(l=>l.controller_===t);if(!i)throw m.shouldNeverHappen();return i}function ls(s,t,i){if(!C.isBindable(s))throw m.notBindable();return new C(s,t,i)}class $n extends o{constructor(t,i){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new y,this.apiSet_=new ki(hl),this.pool_=i;const l=this.controller_.rack;l.emitter.on("add",this.onRackAdd_),l.emitter.on("remove",this.onRackRemove_),l.emitter.on("inputchange",this.onRackInputChange_),l.emitter.on("monitorupdate",this.onRackMonitorUpdate_),l.children.forEach(d=>{this.setUpApi_(d)})}get children(){return this.controller_.rack.children.map(t=>cn(this.apiSet_,t))}addInput(t,i,l){const d=l||{},b=this.controller_.view.element.ownerDocument,x=this.pool_.createInput(b,ls(t,i,d.presetKey),d),A=new Si(x);return this.add(A,d.index)}addMonitor(t,i,l){const d=l||{},b=this.controller_.view.element.ownerDocument,x=this.pool_.createMonitor(b,ls(t,i),d),A=new Ti(x);return this.add(A,d.index)}addFolder(t){return ll(this,t)}addButton(t){return al(this,t)}addSeparator(t){return ul(this,t)}addTab(t){return cl(this,t)}add(t,i){this.controller_.rack.add(t.controller_,i);const l=this.apiSet_.find(d=>d.controller_===t.controller_);return l&&this.apiSet_.remove(l),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const i=this.controller_.view.element.ownerDocument,l=this.pool_.createBlade(i,t),d=this.pool_.createBladeApi(l);return this.add(d,t.index)}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}setUpApi_(t){this.apiSet_.find(l=>l.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const i=cn(this.apiSet_,t.bladeController);this.apiSet_.remove(i)}}onRackInputChange_(t){const i=t.bladeController;if(i instanceof Ft){const l=cn(this.apiSet_,i),d=i.binding;this.emitter_.emit("change",{event:new c(l,d.target.read(),d.target.presetKey,t.options.last)})}else if(i instanceof Re){const l=cn(this.apiSet_,i);this.emitter_.emit("change",{event:new c(l,i.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof te))throw m.shouldNeverHappen();const i=cn(this.apiSet_,t.bladeController),l=t.bladeController.binding;this.emitter_.emit("update",{event:new h(i,l.target.read(),l.target.presetKey)})}}class Vi extends Ei{constructor(t,i){super(t,new $n(t.rackController,i)),this.emitter_=new y,this.controller_.foldable.value("expanded").emitter.on("change",l=>{this.emitter_.emit("fold",{event:new f(this,l.sender.rawValue)})}),this.rackApi_.on("change",l=>{this.emitter_.emit("change",{event:l})}),this.rackApi_.on("update",l=>{this.emitter_.emit("update",{event:l})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,i,l){return this.rackApi_.addInput(t,i,l)}addMonitor(t,i,l){return this.rackApi_.addMonitor(t,i,l)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){return this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}}class Ai extends on{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class pl{constructor(t,i){const l=P(i.viewName);this.element=t.createElement("div"),this.element.classList.add(l()),i.viewProps.bindClassModifiers(this.element)}}function dl(s,t){for(let i=0;i<s.length;i++){const l=s[i];if(l instanceof Ft&&l.binding===t)return l}return null}function fl(s,t){for(let i=0;i<s.length;i++){const l=s[i];if(l instanceof te&&l.binding===t)return l}return null}function vl(s,t){for(let i=0;i<s.length;i++){const l=s[i];if(l instanceof Re&&l.value===t)return l}return null}function Mi(s){return s instanceof hn?s.rack:s instanceof Ai?s.rackController.rack:null}function ml(s){const t=Mi(s);return t?t.bcSet_:null}class _l{constructor(t){var i;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new y,this.blade_=t!=null?t:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new ki(ml),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,i){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,i)}remove(t){t.parent_=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(i=>i instanceof t)}onSetAdd_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:i,sender:this}),!i)return;const l=t.item;if(l.viewProps.emitter.on("change",this.onChildViewPropsChange_),l.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),l.viewProps.handleDispose(this.onChildDispose_),l instanceof Ft)l.binding.emitter.on("change",this.onChildInputChange_);else if(l instanceof te)l.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(l instanceof Re)l.value.emitter.on("change",this.onChildValueChange_);else{const d=Mi(l);if(d){const b=d.emitter;b.on("layout",this.onDescendantLayout_),b.on("inputchange",this.onDescendantInputChange_),b.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:i,sender:this}),!i)return;const l=t.item;if(l instanceof Ft)l.binding.emitter.off("change",this.onChildInputChange_);else if(l instanceof te)l.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(l instanceof Re)l.value.emitter.off("change",this.onChildValueChange_);else{const d=Mi(l);if(d){const b=d.emitter;b.off("layout",this.onDescendantLayout_),b.off("inputchange",this.onDescendantInputChange_),b.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(d=>!d.viewProps.get("hidden")),i=t[0],l=t[t.length-1];this.bcSet_.items.forEach(d=>{const b=[];d===i&&(b.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&b.push("veryfirst")),d===l&&(b.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&b.push("verylast")),d.blade.set("positions",b)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(i=>i.viewProps.get("disposed")).forEach(i=>{this.bcSet_.remove(i)})}onChildInputChange_(t){const i=dl(this.find(Ft),t.sender);if(!i)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:i,options:t.options,sender:this})}onChildMonitorUpdate_(t){const i=fl(this.find(te),t.sender);if(!i)throw m.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:i,sender:this})}onChildValueChange_(t){const i=vl(this.find(Re),t.sender);if(!i)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:i,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class hn extends on{constructor(t,i){super(Object.assign(Object.assign({},i),{view:new pl(t,{viewName:"brk",viewProps:i.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const l=new _l(i.root?void 0:i.blade);l.emitter.on("add",this.onRackAdd_),l.emitter.on("remove",this.onRackRemove_),this.rack=l,this.viewProps.handleDispose(()=>{for(let d=this.rack.children.length-1;d>=0;d--)this.rack.children[d].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.isRoot||ns(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.isRoot||is(t.bladeController.view.element)}}const us=P("cnt");class bl{constructor(t,i){this.className_=P(i.viewName||"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),us()),i.viewProps.bindClassModifiers(this.element),this.foldable_=i.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),T(this.foldable_,"completed",O(this.element,this.className_(void 0,"cpl")));const l=t.createElement("button");l.classList.add(this.className_("b")),T(i.props,"title",A=>{v(A)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),i.viewProps.bindDisabled(l),this.element.appendChild(l),this.buttonElement=l;const d=t.createElement("div");d.classList.add(this.className_("t")),M(i.props.value("title"),d),this.buttonElement.appendChild(d),this.titleElement=d;const b=t.createElement("div");b.classList.add(this.className_("m")),this.buttonElement.appendChild(b);const x=i.containerElement;x.classList.add(this.className_("c")),this.element.appendChild(x),this.containerElement=x}}class Oi extends Ai{constructor(t,i){var l;const d=un.create((l=i.expanded)!==null&&l!==void 0?l:!0),b=new hn(t,{blade:i.blade,root:i.root,viewProps:i.viewProps});super(Object.assign(Object.assign({},i),{rackController:b,view:new bl(t,{containerElement:b.view.element,foldable:d,props:i.props,viewName:i.root?"rot":void 0,viewProps:i.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=i.props,this.foldable=d,Pi(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const gl={id:"folder",type:"blade",accept(s){const t=$,i=H(s,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return i?{params:i}:null},controller(s){return new Oi(s.document,{blade:s.blade,expanded:s.params.expanded,props:D.fromObject({title:s.params.title}),viewProps:s.viewProps})},api(s){return s.controller instanceof Oi?new Vi(s.controller,s.pool):null}};class Ie extends Re{constructor(t,i){const l=i.valueController.viewProps;super(Object.assign(Object.assign({},i),{value:i.valueController.value,view:new os(t,{props:i.props,viewProps:l}),viewProps:l})),this.props=i.props,this.valueController=i.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class cs extends o{}const hs=P("spr");class wl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(hs()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("hr");l.classList.add(hs("r")),this.element.appendChild(l)}}class ps extends on{constructor(t,i){super(Object.assign(Object.assign({},i),{view:new wl(t,{viewProps:i.viewProps})}))}}const yl={id:"separator",type:"blade",accept(s){const i=H(s,{view:$.required.constant("separator")});return i?{params:i}:null},controller(s){return new ps(s.document,{blade:s.blade,viewProps:s.viewProps})},api(s){return s.controller instanceof ps?new cs(s.controller):null}},xl=P("");function ds(s,t){return O(s,xl(void 0,t))}class ee extends D{constructor(t){super(t)}static create(t){var i,l;const d=t!=null?t:{},b={disabled:(i=d.disabled)!==null&&i!==void 0?i:!1,disposed:!1,hidden:(l=d.hidden)!==null&&l!==void 0?l:!1},x=D.createCore(b);return new ee(x)}bindClassModifiers(t){T(this,"disabled",ds(t,"disabled")),T(this,"hidden",ds(t,"hidden"))}bindDisabled(t){T(this,"disabled",i=>{t.disabled=i})}bindTabIndex(t){T(this,"disabled",i=>{t.tabIndex=i?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",i=>{i&&t()})}}const pn=P("tbi");class Cl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(pn()),i.viewProps.bindClassModifiers(this.element),T(i.props,"selected",b=>{b?this.element.classList.add(pn(void 0,"sel")):this.element.classList.remove(pn(void 0,"sel"))});const l=t.createElement("button");l.classList.add(pn("b")),i.viewProps.bindDisabled(l),this.element.appendChild(l),this.buttonElement=l;const d=t.createElement("div");d.classList.add(pn("t")),M(i.props.value("title"),d),this.buttonElement.appendChild(d),this.titleElement=d}}class Pl{constructor(t,i){this.emitter=new y,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new Cl(t,{props:i.props,viewProps:i.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class fs{constructor(t,i){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Pl(t,{props:i.itemProps,viewProps:ee.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new hn(t,{blade:ln(),viewProps:ee.create()}),this.props=i.props,T(this.props,"selected",l=>{this.itemController.props.set("selected",l),this.contentController.viewProps.set("hidden",!l)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class vs{constructor(t,i){this.controller_=t,this.rackApi_=i}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addInput(t,i,l){return this.rackApi_.addInput(t,i,l)}addMonitor(t,i,l){return this.rackApi_.addMonitor(t,i,l)}addBlade(t){return this.rackApi_.addBlade(t)}}class ms extends Ei{constructor(t,i){super(t,new $n(t.rackController,i)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new y,this.pageApiMap_=new Map,this.rackApi_.on("change",l=>{this.emitter_.emit("change",{event:l})}),this.rackApi_.on("update",l=>{this.emitter_.emit("update",{event:l})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(l=>{this.setUpPageApi_(l)})}get pages(){return this.controller_.pageSet.items.map(t=>{const i=this.pageApiMap_.get(t);if(!i)throw m.shouldNeverHappen();return i})}addPage(t){const i=this.controller_.view.element.ownerDocument,l=new fs(i,{itemProps:D.fromObject({selected:!1,title:t.title}),props:D.fromObject({selected:!1})});this.controller_.add(l,t.index);const d=this.pageApiMap_.get(l);if(!d)throw m.shouldNeverHappen();return d}removePage(t){this.controller_.remove(t)}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}setUpPageApi_(t){const i=this.rackApi_.apiSet_.find(d=>d.controller_===t.contentController);if(!i)throw m.shouldNeverHappen();const l=new vs(t,i);this.pageApiMap_.set(t,l)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw m.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}const Hn=P("tab");class El{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Hn(),us()),i.viewProps.bindClassModifiers(this.element),S(i.empty,O(this.element,Hn(void 0,"nop")));const l=t.createElement("div");l.classList.add(Hn("i")),this.element.appendChild(l),this.itemsElement=l;const d=i.contentsElement;d.classList.add(Hn("c")),this.element.appendChild(d),this.contentsElement=d}}class _s extends Ai{constructor(t,i){const l=new hn(t,{blade:i.blade,viewProps:i.viewProps}),d=B(!0);super({blade:i.blade,rackController:l,view:new El(t,{contentsElement:l.view.element,empty:d,viewProps:i.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new ki(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=d,this.applyPages_()}get pageSet(){return this.pageSet_}add(t,i){this.pageSet_.add(t,i!=null?i:this.pageSet_.items.length)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(t){const i=t.item;ns(this.view.itemsElement,i.itemController.view.element,t.index),this.rackController.rack.add(i.contentController,t.index),i.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(t){const i=t.item;is(i.itemController.view.element),this.rackController.rack.remove(i.contentController),i.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const t=this.pageSet_.items.findIndex(i=>i.props.get("selected"));t<0?this.pageSet_.items.forEach((i,l)=>{i.props.set("selected",l===0)}):this.pageSet_.items.forEach((i,l)=>{i.props.set("selected",l===t)})}onPageSelectedChange_(t){if(t.rawValue){const i=this.pageSet_.items.findIndex(l=>l.props.value("selected")===t.sender);this.pageSet_.items.forEach((l,d)=>{l.props.set("selected",d===i)})}else this.keepSelection_()}}const bs={id:"tab",type:"blade",accept(s){const t=$,i=H(s,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!i||i.pages.length===0?null:{params:i}},controller(s){const t=new _s(s.document,{blade:s.blade,viewProps:s.viewProps});return s.params.pages.forEach(i=>{const l=new fs(s.document,{itemProps:D.fromObject({selected:!1,title:i.title}),props:D.fromObject({selected:!1})});t.add(l)}),t},api(s){return s.controller instanceof _s?new ms(s.controller,s.pool):null}};function kl(s,t){const i=s.accept(t.params);if(!i)return null;const l=$.optional.boolean(t.params.disabled).value,d=$.optional.boolean(t.params.hidden).value;return s.controller({blade:ln(),document:t.document,params:Object.assign(Object.assign({},i.params),{disabled:l,hidden:d}),viewProps:ee.create({disabled:l,hidden:d})})}class Sl{constructor(){this.disabled=!1,this.emitter=new y}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Tl{constructor(t,i){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new y,this.interval_=i,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class ge{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((i,l)=>l.constrain(i),t)}}function Bt(s,t){if(s instanceof t)return s;if(s instanceof ge){const i=s.constraints.reduce((l,d)=>l||(d instanceof t?d:null),null);if(i)return i}return null}class dn{constructor(t){this.options=t}constrain(t){const i=this.options;return i.length===0||i.filter(d=>d.value===t).length>0?t:i[0].value}}class wt{constructor(t){this.maxValue=t.max,this.minValue=t.min}constrain(t){let i=t;return v(this.minValue)||(i=Math.max(i,this.minValue)),v(this.maxValue)||(i=Math.min(i,this.maxValue)),i}}class we{constructor(t){this.step=t}constrain(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}const Li=P("lst");class Vl{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.props_=i.props,this.element=t.createElement("div"),this.element.classList.add(Li()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("select");l.classList.add(Li("s")),T(this.props_,"options",b=>{rs(l),b.forEach((x,A)=>{const R=t.createElement("option");R.dataset.index=String(A),R.textContent=x.text,R.value=String(x.value),l.appendChild(R)})}),i.viewProps.bindDisabled(l),this.element.appendChild(l),this.selectElement=l;const d=t.createElement("div");d.classList.add(Li("m")),d.appendChild(zn(t,"dropdown")),this.element.appendChild(d),i.value.emitter.on("change",this.onValueChange_),this.value_=i.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class fn{constructor(t,i){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new Vl(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const l=t.currentTarget.selectedOptions.item(0);if(!l)return;const d=Number(l.dataset.index);this.value.rawValue=this.props.get("options")[d].value}}const gs=P("pop");class Al{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(gs()),i.viewProps.bindClassModifiers(this.element),S(i.shows,O(this.element,gs(void 0,"v")))}}class ws{constructor(t,i){this.shows=B(!1),this.viewProps=i.viewProps,this.view=new Al(t,{shows:this.shows,viewProps:this.viewProps})}}const ys=P("txt");class Ml{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(ys()),i.viewProps.bindClassModifiers(this.element),this.props_=i.props,this.props_.emitter.on("change",this.onChange_);const l=t.createElement("input");l.classList.add(ys("i")),l.type="text",i.viewProps.bindDisabled(l),this.element.appendChild(l),this.inputElement=l,i.value.emitter.on("change",this.onChange_),this.value_=i.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class qn{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new Ml(t,{props:i.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const l=t.currentTarget.value,d=this.parser_(l);v(d)||(this.value.rawValue=d),this.view.refresh()}}function Ol(s){return String(s)}function xs(s){return s==="false"?!1:!!s}function Cs(s){return Ol(s)}class Ll{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Dl={"**":(s,t)=>Math.pow(s,t),"*":(s,t)=>s*t,"/":(s,t)=>s/t,"%":(s,t)=>s%t,"+":(s,t)=>s+t,"-":(s,t)=>s-t,"<<":(s,t)=>s<<t,">>":(s,t)=>s>>t,">>>":(s,t)=>s>>>t,"&":(s,t)=>s&t,"^":(s,t)=>s^t,"|":(s,t)=>s|t};class Rl{constructor(t,i,l){this.left=i,this.operator=t,this.right=l}evaluate(){const t=Dl[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Il={"+":s=>s,"-":s=>-s,"~":s=>~s};class Nl{constructor(t,i){this.operator=t,this.expression=i}evaluate(){const t=Il[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Di(s){return(t,i)=>{for(let l=0;l<s.length;l++){const d=s[l](t,i);if(d!=="")return d}return""}}function vn(s,t){var i;const l=s.substr(t).match(/^\s+/);return(i=l&&l[0])!==null&&i!==void 0?i:""}function Fl(s,t){const i=s.substr(t,1);return i.match(/^[1-9]$/)?i:""}function mn(s,t){var i;const l=s.substr(t).match(/^[0-9]+/);return(i=l&&l[0])!==null&&i!==void 0?i:""}function Bl(s,t){const i=mn(s,t);if(i!=="")return i;const l=s.substr(t,1);if(t+=1,l!=="-"&&l!=="+")return"";const d=mn(s,t);return d===""?"":l+d}function Ri(s,t){const i=s.substr(t,1);if(t+=1,i.toLowerCase()!=="e")return"";const l=Bl(s,t);return l===""?"":i+l}function Ps(s,t){const i=s.substr(t,1);if(i==="0")return i;const l=Fl(s,t);return t+=l.length,l===""?"":l+mn(s,t)}function Ul(s,t){const i=Ps(s,t);if(t+=i.length,i==="")return"";const l=s.substr(t,1);if(t+=l.length,l!==".")return"";const d=mn(s,t);return t+=d.length,i+l+d+Ri(s,t)}function jl(s,t){const i=s.substr(t,1);if(t+=i.length,i!==".")return"";const l=mn(s,t);return t+=l.length,l===""?"":i+l+Ri(s,t)}function zl(s,t){const i=Ps(s,t);return t+=i.length,i===""?"":i+Ri(s,t)}const Kl=Di([Ul,jl,zl]);function $l(s,t){var i;const l=s.substr(t).match(/^[01]+/);return(i=l&&l[0])!==null&&i!==void 0?i:""}function Hl(s,t){const i=s.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0b")return"";const l=$l(s,t);return l===""?"":i+l}function ql(s,t){var i;const l=s.substr(t).match(/^[0-7]+/);return(i=l&&l[0])!==null&&i!==void 0?i:""}function Yl(s,t){const i=s.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0o")return"";const l=ql(s,t);return l===""?"":i+l}function Gl(s,t){var i;const l=s.substr(t).match(/^[0-9a-f]+/i);return(i=l&&l[0])!==null&&i!==void 0?i:""}function Wl(s,t){const i=s.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0x")return"";const l=Gl(s,t);return l===""?"":i+l}const Xl=Di([Hl,Yl,Wl]),Zl=Di([Xl,Kl]);function Ql(s,t){const i=Zl(s,t);return t+=i.length,i===""?null:{evaluable:new Ll(i),cursor:t}}function Jl(s,t){const i=s.substr(t,1);if(t+=i.length,i!=="(")return null;const l=ks(s,t);if(!l)return null;t=l.cursor,t+=vn(s,t).length;const d=s.substr(t,1);return t+=d.length,d!==")"?null:{evaluable:l.evaluable,cursor:t}}function tu(s,t){return Ql(s,t)||Jl(s,t)}function Es(s,t){const i=tu(s,t);if(i)return i;const l=s.substr(t,1);if(t+=l.length,l!=="+"&&l!=="-"&&l!=="~")return null;const d=Es(s,t);return d?(t=d.cursor,{cursor:t,evaluable:new Nl(l,d.evaluable)}):null}function eu(s,t,i){i+=vn(t,i).length;const l=s.filter(d=>t.startsWith(d,i))[0];return l?(i+=l.length,i+=vn(t,i).length,{cursor:i,operator:l}):null}function nu(s,t){return(i,l)=>{const d=s(i,l);if(!d)return null;l=d.cursor;let b=d.evaluable;for(;;){const x=eu(t,i,l);if(!x)break;l=x.cursor;const A=s(i,l);if(!A)return null;l=A.cursor,b=new Rl(x.operator,b,A.evaluable)}return b?{cursor:l,evaluable:b}:null}}const iu=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((s,t)=>nu(s,t),Es);function ks(s,t){return t+=vn(s,t).length,iu(s,t)}function ru(s){const t=ks(s,0);return!t||t.cursor+vn(s,t.cursor).length!==s.length?null:t.evaluable}function Ht(s){var t;const i=ru(s);return(t=i==null?void 0:i.evaluate())!==null&&t!==void 0?t:null}function Ss(s){if(typeof s=="number")return s;if(typeof s=="string"){const t=Ht(s);if(!v(t))return t}return 0}function su(s){return String(s)}function ft(s){return t=>t.toFixed(Math.max(Math.min(s,20),0))}const ou=ft(0);function Yn(s){return ou(s)+"%"}function Ts(s){return String(s)}function Ii(s){return s}function Vs(s,t){for(;s.length<t;)s.push(void 0)}function au(s){const t=[];return Vs(t,s),B(t)}function lu(s){const t=s.indexOf(void 0);return t<0?s:s.slice(0,t)}function uu(s,t){const i=[...lu(s),t];return i.length>s.length?i.splice(0,i.length-s.length):Vs(i,s.length),i}function _n({primary:s,secondary:t,forward:i,backward:l}){let d=!1;function b(x){d||(d=!0,x(),d=!1)}s.emitter.on("change",x=>{b(()=>{t.setRawValue(i(s,t),x.options)})}),t.emitter.on("change",x=>{b(()=>{s.setRawValue(l(s,t),x.options)}),b(()=>{t.setRawValue(i(s,t),x.options)})}),b(()=>{t.setRawValue(i(s,t),{forceEmit:!1,last:!0})})}function vt(s,t){const i=s*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+i:t.downKey?-i:0}function bn(s){return{altKey:s.altKey,downKey:s.key==="ArrowDown",shiftKey:s.shiftKey,upKey:s.key==="ArrowUp"}}function qt(s){return{altKey:s.altKey,downKey:s.key==="ArrowLeft",shiftKey:s.shiftKey,upKey:s.key==="ArrowRight"}}function cu(s){return s==="ArrowUp"||s==="ArrowDown"}function As(s){return cu(s)||s==="ArrowLeft"||s==="ArrowRight"}function Ni(s,t){const i=t.ownerDocument.defaultView,l=t.getBoundingClientRect();return{x:s.pageX-((i&&i.scrollX||0)+l.left),y:s.pageY-((i&&i.scrollY||0)+l.top)}}class ye{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new y,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const i=this.elem_.getBoundingClientRect();return{bounds:{width:i.width,height:i.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var i;t.preventDefault(),(i=t.currentTarget)===null||i===void 0||i.focus();const l=this.elem_.ownerDocument;l.addEventListener("mousemove",this.onDocumentMouseMove_),l.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Ni(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Ni(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const i=this.elem_.ownerDocument;i.removeEventListener("mousemove",this.onDocumentMouseMove_),i.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Ni(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const i=t.targetTouches.item(0),l=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-l.left,y:i.clientY-l.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchMove_(t){const i=t.targetTouches.item(0),l=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-l.left,y:i.clientY-l.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchEnd_(t){var i;const l=(i=t.targetTouches.item(0))!==null&&i!==void 0?i:this.lastTouch_,d=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(l?{x:l.clientX-d.left,y:l.clientY-d.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function Z(s,t,i,l,d){const b=(s-t)/(i-t);return l+b*(d-l)}function Ms(s){return String(s.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function X(s,t,i){return Math.min(Math.max(s,t),i)}function Fi(s,t){return(s%t+t)%t}const St=P("txt");class hu{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(St(),St(void 0,"num")),i.arrayPosition&&this.element.classList.add(St(void 0,i.arrayPosition)),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("input");l.classList.add(St("i")),l.type="text",i.viewProps.bindDisabled(l),this.element.appendChild(l),this.inputElement=l,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=i.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(St()),this.inputElement.classList.add(St("i"));const d=t.createElement("div");d.classList.add(St("k")),this.element.appendChild(d),this.knobElement=d;const b=t.createElementNS(Nt,"svg");b.classList.add(St("g")),this.knobElement.appendChild(b);const x=t.createElementNS(Nt,"path");x.classList.add(St("gb")),b.appendChild(x),this.guideBodyElem_=x;const A=t.createElementNS(Nt,"path");A.classList.add(St("gh")),b.appendChild(A),this.guideHeadElem_=A;const R=t.createElement("div");R.classList.add(P("tt")()),this.knobElement.appendChild(R),this.tooltipElem_=R,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(St(void 0,"drg"));return}this.element.classList.add(St(void 0,"drg"));const i=t.rawValue/this.props_.get("draggingScale"),l=i+(i>0?-1:i<0?1:0),d=X(-l,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${l+d},0 L${l},4 L${l+d},8`,`M ${i},-1 L${i},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${i},4`);const b=this.props_.get("formatter");this.tooltipElem_.textContent=b(this.value.rawValue),this.tooltipElem_.style.left=`${i}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class gn{constructor(t,i){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=i.baseStep,this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.dragging_=B(null),this.view=new hu(t,{arrayPosition:i.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const l=new ye(this.view.knobElement);l.emitter.on("down",this.onPointerDown_),l.emitter.on("move",this.onPointerMove_),l.emitter.on("up",this.onPointerUp_)}onInputChange_(t){const l=t.currentTarget.value,d=this.parser_(l);v(d)||(this.value.rawValue=d),this.view.refresh()}onInputKeyDown_(t){const i=vt(this.baseStep_,bn(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onInputKeyUp_(t){vt(this.baseStep_,bn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const i=t.point.x-t.bounds.width/2;return this.originRawValue_+i*this.props.get("draggingScale")}onPointerMove_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Bi=P("sld");class pu{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Bi()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("div");l.classList.add(Bi("t")),i.viewProps.bindTabIndex(l),this.element.appendChild(l),this.trackElement=l;const d=t.createElement("div");d.classList.add(Bi("k")),this.trackElement.appendChild(d),this.knobElement=d,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.update_()}update_(){const t=X(Z(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class du{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=i.baseStep,this.value=i.value,this.viewProps=i.viewProps,this.props=i.props,this.view=new pu(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ye(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){!t.point||this.value.setRawValue(Z(X(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),i)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=vt(this.baseStep_,qt(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onKeyUp_(t){vt(this.baseStep_,qt(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ui=P("sldtxt");class fu{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Ui());const l=t.createElement("div");l.classList.add(Ui("s")),this.sliderView_=i.sliderView,l.appendChild(this.sliderView_.element),this.element.appendChild(l);const d=t.createElement("div");d.classList.add(Ui("t")),this.textView_=i.textView,d.appendChild(this.textView_.element),this.element.appendChild(d)}}class ji{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.sliderC_=new du(t,{baseStep:i.baseStep,props:i.sliderProps,value:i.value,viewProps:this.viewProps}),this.textC_=new gn(t,{baseStep:i.baseStep,parser:i.parser,props:i.textProps,value:i.value,viewProps:i.viewProps}),this.view=new fu(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function wn(s,t){s.write(t)}function Gn(s){const t=$;if(Array.isArray(s))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(s).value;if(typeof s=="object")return t.required.raw(s).value}function Os(s){if(s==="inline"||s==="popup")return s}function ne(s){const t=$;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(s).value}function Ls(s){if(Array.isArray(s))return s;const t=[];return Object.keys(s).forEach(i=>{t.push({text:i,value:s[i]})}),t}function zi(s){return v(s)?null:new dn(Ls(s))}function Ki(s){const t=s?Bt(s,dn):null;return t?t.options:null}function vu(s){const t=s?Bt(s,we):null;return t?t.step:null}function Wn(s,t){const i=s&&Bt(s,we);return i?Ms(i.step):Math.max(Ms(t),2)}function Ne(s){const t=vu(s);return t!=null?t:1}function Fe(s,t){var i;const l=s&&Bt(s,we),d=Math.abs((i=l==null?void 0:l.step)!==null&&i!==void 0?i:t);return d===0?.1:Math.pow(10,Math.floor(Math.log10(d))-1)}const Xn=P("ckb");class mu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Xn()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("label");l.classList.add(Xn("l")),this.element.appendChild(l);const d=t.createElement("input");d.classList.add(Xn("i")),d.type="checkbox",l.appendChild(d),this.inputElement=d,i.viewProps.bindDisabled(this.inputElement);const b=t.createElement("div");b.classList.add(Xn("w")),l.appendChild(b);const x=zn(t,"check");b.appendChild(x),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class _u{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new mu(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const i=t.currentTarget;this.value.rawValue=i.checked}}function bu(s){const t=[],i=zi(s.options);return i&&t.push(i),new ge(t)}const gu={id:"input-bool",type:"input",accept:(s,t)=>{if(typeof s!="boolean")return null;const l=H(t,{options:$.optional.custom(Gn)});return l?{initialValue:s,params:l}:null},binding:{reader:s=>xs,constraint:s=>bu(s.params),writer:s=>wn},controller:s=>{var t;const i=s.document,l=s.value,d=s.constraint;return d&&Bt(d,dn)?new fn(i,{props:D.fromObject({options:(t=Ki(d))!==null&&t!==void 0?t:[]}),value:l,viewProps:s.viewProps}):new _u(i,{value:l,viewProps:s.viewProps})}},xe=P("col");class wu{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(xe()),i.foldable.bindExpandedClass(this.element,xe(void 0,"expanded")),T(i.foldable,"completed",O(this.element,xe(void 0,"cpl")));const l=t.createElement("div");l.classList.add(xe("h")),this.element.appendChild(l);const d=t.createElement("div");d.classList.add(xe("s")),l.appendChild(d),this.swatchElement=d;const b=t.createElement("div");if(b.classList.add(xe("t")),l.appendChild(b),this.textElement=b,i.pickerLayout==="inline"){const x=t.createElement("div");x.classList.add(xe("p")),this.element.appendChild(x),this.pickerElement=x}else this.pickerElement=null}}function yu(s,t,i){const l=X(s/255,0,1),d=X(t/255,0,1),b=X(i/255,0,1),x=Math.max(l,d,b),A=Math.min(l,d,b),R=x-A;let I=0,j=0;const z=(A+x)/2;return R!==0&&(j=R/(1-Math.abs(x+A-1)),l===x?I=(d-b)/R:d===x?I=2+(b-l)/R:I=4+(l-d)/R,I=I/6+(I<0?1:0)),[I*360,j*100,z*100]}function xu(s,t,i){const l=(s%360+360)%360,d=X(t/100,0,1),b=X(i/100,0,1),x=(1-Math.abs(2*b-1))*d,A=x*(1-Math.abs(l/60%2-1)),R=b-x/2;let I,j,z;return l>=0&&l<60?[I,j,z]=[x,A,0]:l>=60&&l<120?[I,j,z]=[A,x,0]:l>=120&&l<180?[I,j,z]=[0,x,A]:l>=180&&l<240?[I,j,z]=[0,A,x]:l>=240&&l<300?[I,j,z]=[A,0,x]:[I,j,z]=[x,0,A],[(I+R)*255,(j+R)*255,(z+R)*255]}function Cu(s,t,i){const l=X(s/255,0,1),d=X(t/255,0,1),b=X(i/255,0,1),x=Math.max(l,d,b),A=Math.min(l,d,b),R=x-A;let I;R===0?I=0:x===l?I=60*(((d-b)/R%6+6)%6):x===d?I=60*((b-l)/R+2):I=60*((l-d)/R+4);const j=x===0?0:R/x,z=x;return[I,j*100,z*100]}function Ds(s,t,i){const l=Fi(s,360),d=X(t/100,0,1),b=X(i/100,0,1),x=b*d,A=x*(1-Math.abs(l/60%2-1)),R=b-x;let I,j,z;return l>=0&&l<60?[I,j,z]=[x,A,0]:l>=60&&l<120?[I,j,z]=[A,x,0]:l>=120&&l<180?[I,j,z]=[0,x,A]:l>=180&&l<240?[I,j,z]=[0,A,x]:l>=240&&l<300?[I,j,z]=[A,0,x]:[I,j,z]=[x,0,A],[(I+R)*255,(j+R)*255,(z+R)*255]}function Pu(s,t,i){const l=i+t*(100-Math.abs(2*i-100))/200;return[s,l!==0?t*(100-Math.abs(2*i-100))/l:0,i+t*(100-Math.abs(2*i-100))/(2*100)]}function Eu(s,t,i){const l=100-Math.abs(i*(200-t)/100-100);return[s,l!==0?t*i/l:0,i*(200-t)/(2*100)]}function Be(s){return[s[0],s[1],s[2]]}function Rs(s,t){return[s[0],s[1],s[2],t]}const ku={hsl:{hsl:(s,t,i)=>[s,t,i],hsv:Pu,rgb:xu},hsv:{hsl:Eu,hsv:(s,t,i)=>[s,t,i],rgb:Ds},rgb:{hsl:yu,hsv:Cu,rgb:(s,t,i)=>[s,t,i]}};function Su(s,t,i){return ku[t][i](...s)}const Tu={hsl:s=>{var t;return[Fi(s[0],360),X(s[1],0,100),X(s[2],0,100),X((t=s[3])!==null&&t!==void 0?t:1,0,1)]},hsv:s=>{var t;return[Fi(s[0],360),X(s[1],0,100),X(s[2],0,100),X((t=s[3])!==null&&t!==void 0?t:1,0,1)]},rgb:s=>{var t;return[X(s[0],0,255),X(s[1],0,255),X(s[2],0,255),X((t=s[3])!==null&&t!==void 0?t:1,0,1)]}};function Zn(s,t){return typeof s!="object"||v(s)?!1:t in s&&typeof s[t]=="number"}class F{constructor(t,i){this.mode_=i,this.comps_=Tu[i](t)}static black(){return new F([0,0,0],"rgb")}static fromObject(t){const i="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new F(i,"rgb")}static toRgbaObject(t){return t.toRgbaObject()}static isRgbColorObject(t){return Zn(t,"r")&&Zn(t,"g")&&Zn(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&Zn(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,i){if(t.mode_!==i.mode_)return!1;const l=t.comps_,d=i.comps_;for(let b=0;b<l.length;b++)if(l[b]!==d[b])return!1;return!0}get mode(){return this.mode_}getComponents(t){return Rs(Su(Be(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const ie=P("colp");class Vu{constructor(t,i){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(ie());const l=t.createElement("div");l.classList.add(ie("hsv"));const d=t.createElement("div");d.classList.add(ie("sv")),this.svPaletteView_=i.svPaletteView,d.appendChild(this.svPaletteView_.element),l.appendChild(d);const b=t.createElement("div");b.classList.add(ie("h")),this.hPaletteView_=i.hPaletteView,b.appendChild(this.hPaletteView_.element),l.appendChild(b),this.element.appendChild(l);const x=t.createElement("div");if(x.classList.add(ie("rgb")),this.textView_=i.textView,x.appendChild(this.textView_.element),this.element.appendChild(x),i.alphaViews){this.alphaViews_={palette:i.alphaViews.palette,text:i.alphaViews.text};const A=t.createElement("div");A.classList.add(ie("a"));const R=t.createElement("div");R.classList.add(ie("ap")),R.appendChild(this.alphaViews_.palette.element),A.appendChild(R);const I=t.createElement("div");I.classList.add(ie("at")),I.appendChild(this.alphaViews_.text.element),A.appendChild(I),this.element.appendChild(A)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(i=>i.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function $i(s){const t=$;return H(s,{alpha:t.optional.boolean,expanded:t.optional.boolean,picker:t.optional.custom(Os)})}function Ce(s){return s?.1:1}function Tt(s,t){const i=s.match(/^(.+)%$/);return Math.min(i?parseFloat(i[1])*.01*t:parseFloat(s),t)}const Au={deg:s=>s,grad:s=>s*360/400,rad:s=>s*360/(2*Math.PI),turn:s=>s*360};function Is(s){const t=s.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(s);const i=parseFloat(t[1]),l=t[2];return Au[l](i)}const Hi={"func.rgb":s=>{const t=s.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Tt(t[1],255),Tt(t[2],255),Tt(t[3],255)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:new F(i,"rgb")},"func.rgba":s=>{const t=s.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Tt(t[1],255),Tt(t[2],255),Tt(t[3],255),Tt(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:new F(i,"rgb")},"func.hsl":s=>{const t=s.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Is(t[1]),Tt(t[2],100),Tt(t[3],100)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:new F(i,"hsl")},"func.hsla":s=>{const t=s.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Is(t[1]),Tt(t[2],100),Tt(t[3],100),Tt(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:new F(i,"hsl")},"hex.rgb":s=>{const t=s.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new F([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)],"rgb");const i=s.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?new F([parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)],"rgb"):null},"hex.rgba":s=>{const t=s.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new F([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Z(parseInt(t[4]+t[4],16),0,255,0,1)],"rgb");const i=s.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?new F([parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),Z(parseInt(i[4],16),0,255,0,1)],"rgb"):null}};function Qn(s){return Object.keys(Hi).reduce((i,l)=>i||(Hi[l](s)?l:null),null)}const Jn=s=>{const t=Qn(s);return t?Hi[t](s):null};function Mu(s){return s==="func.hsla"||s==="func.rgba"||s==="hex.rgba"}function Ou(s){if(typeof s=="string"){const t=Jn(s);if(t)return t}return F.black()}function Ns(s){const t=X(Math.floor(s),0,255).toString(16);return t.length===1?`0${t}`:t}function qi(s,t="#"){const i=Be(s.getComponents("rgb")).map(Ns).join("");return`${t}${i}`}function ti(s,t="#"){const i=s.getComponents("rgb"),l=[i[0],i[1],i[2],i[3]*255].map(Ns).join("");return`${t}${l}`}function Fs(s){const t=ft(0);return`rgb(${Be(s.getComponents("rgb")).map(l=>t(l)).join(", ")})`}function ei(s){const t=ft(2),i=ft(0);return`rgba(${s.getComponents("rgb").map((d,b)=>(b===3?t:i)(d)).join(", ")})`}function Lu(s){const t=[ft(0),Yn,Yn];return`hsl(${Be(s.getComponents("hsl")).map((l,d)=>t[d](l)).join(", ")})`}function Du(s){const t=[ft(0),Yn,Yn,ft(2)];return`hsla(${s.getComponents("hsl").map((l,d)=>t[d](l)).join(", ")})`}const Ru={"func.hsl":Lu,"func.hsla":Du,"func.rgb":Fs,"func.rgba":ei,"hex.rgb":qi,"hex.rgba":ti};function Bs(s){return Ru[s]}const yn=P("apl");class Iu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(yn()),i.viewProps.bindTabIndex(this.element);const l=t.createElement("div");l.classList.add(yn("b")),this.element.appendChild(l);const d=t.createElement("div");d.classList.add(yn("c")),l.appendChild(d),this.colorElem_=d;const b=t.createElement("div");b.classList.add(yn("m")),this.element.appendChild(b),this.markerElem_=b;const x=t.createElement("div");x.classList.add(yn("p")),this.markerElem_.appendChild(x),this.previewElem_=x,this.update_()}update_(){const t=this.value.rawValue,i=t.getComponents("rgb"),l=new F([i[0],i[1],i[2],0],"rgb"),d=new F([i[0],i[1],i[2],255],"rgb"),b=["to right",ei(l),ei(d)];this.colorElem_.style.background=`linear-gradient(${b.join(",")})`,this.previewElem_.style.backgroundColor=ei(t);const x=Z(i[3],0,1,0,100);this.markerElem_.style.left=`${x}%`}onValueChange_(){this.update_()}}class Nu{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Iu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ye(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const l=t.point.x/t.bounds.width,d=this.value.rawValue,[b,x,A]=d.getComponents("hsv");this.value.setRawValue(new F([b,x,A,l],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=vt(Ce(!0),qt(t));if(i===0)return;const l=this.value.rawValue,[d,b,x,A]=l.getComponents("hsv");this.value.setRawValue(new F([d,b,x,A+i],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){vt(Ce(!0),qt(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ue=P("coltxt");function Fu(s){const t=s.createElement("select"),i=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(i.reduce((l,d)=>{const b=s.createElement("option");return b.textContent=d.text,b.value=d.value,l.appendChild(b),l},s.createDocumentFragment())),t}class Bu{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Ue());const l=t.createElement("div");l.classList.add(Ue("m")),this.modeElem_=Fu(t),this.modeElem_.classList.add(Ue("ms")),l.appendChild(this.modeSelectElement);const d=t.createElement("div");d.classList.add(Ue("mm")),d.appendChild(zn(t,"dropdown")),l.appendChild(d),this.element.appendChild(l);const b=t.createElement("div");b.classList.add(Ue("w")),this.element.appendChild(b),this.textsElem_=b,this.textViews_=i.textViews,this.applyTextViews_(),S(i.colorMode,x=>{this.modeElem_.value=x})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){rs(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(i=>{const l=t.createElement("div");l.classList.add(Ue("c")),l.appendChild(i.element),this.textsElem_.appendChild(l)})}}const Uu=ft(0),ju={rgb:()=>new wt({min:0,max:255}),hsl:s=>s===0?new wt({min:0,max:360}):new wt({min:0,max:100}),hsv:s=>s===0?new wt({min:0,max:360}):new wt({min:0,max:100})};function Yi(s,t,i){return new gn(s,{arrayPosition:i===0?"fst":i===3-1?"lst":"mid",baseStep:Ce(!1),parser:t.parser,props:D.fromObject({draggingScale:1,formatter:Uu}),value:B(0,{constraint:ju[t.colorMode](i)}),viewProps:t.viewProps})}class zu{constructor(t,i){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=i.parser,this.value=i.value,this.viewProps=i.viewProps,this.colorMode=B(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Bu(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const i={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},l=[Yi(t,i,0),Yi(t,i,1),Yi(t,i,2)];return l.forEach((d,b)=>{_n({primary:this.value,secondary:d.value,forward:x=>x.rawValue.getComponents(this.colorMode.rawValue)[b],backward:(x,A)=>{const R=this.colorMode.rawValue,I=x.rawValue.getComponents(R);return I[b]=A.rawValue,new F(Rs(Be(I),I[3]),R)}})}),l}onModeSelectChange_(t){const i=t.currentTarget;this.colorMode.rawValue=i.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Gi=P("hpl");class Ku{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Gi()),i.viewProps.bindTabIndex(this.element);const l=t.createElement("div");l.classList.add(Gi("c")),this.element.appendChild(l);const d=t.createElement("div");d.classList.add(Gi("m")),this.element.appendChild(d),this.markerElem_=d,this.update_()}update_(){const t=this.value.rawValue,[i]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Fs(new F([i,100,100],"hsv"));const l=Z(i,0,360,0,100);this.markerElem_.style.left=`${l}%`}onValueChange_(){this.update_()}}class $u{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Ku(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ye(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const l=Z(X(t.point.x,0,t.bounds.width),0,t.bounds.width,0,359),d=this.value.rawValue,[,b,x,A]=d.getComponents("hsv");this.value.setRawValue(new F([l,b,x,A],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=vt(Ce(!1),qt(t));if(i===0)return;const l=this.value.rawValue,[d,b,x,A]=l.getComponents("hsv");this.value.setRawValue(new F([d+i,b,x,A],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){vt(Ce(!1),qt(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Wi=P("svp"),Us=64;class Hu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Wi()),i.viewProps.bindTabIndex(this.element);const l=t.createElement("canvas");l.height=Us,l.width=Us,l.classList.add(Wi("c")),this.element.appendChild(l),this.canvasElement=l;const d=t.createElement("div");d.classList.add(Wi("m")),this.element.appendChild(d),this.markerElem_=d,this.update_()}update_(){const t=el(this.canvasElement);if(!t)return;const l=this.value.rawValue.getComponents("hsv"),d=this.canvasElement.width,b=this.canvasElement.height,x=t.getImageData(0,0,d,b),A=x.data;for(let j=0;j<b;j++)for(let z=0;z<d;z++){const Pe=Z(z,0,d,0,100),Cn=Z(j,0,b,100,0),Pn=Ds(l[0],Pe,Cn),$e=(j*d+z)*4;A[$e]=Pn[0],A[$e+1]=Pn[1],A[$e+2]=Pn[2],A[$e+3]=255}t.putImageData(x,0,0);const R=Z(l[1],0,100,0,100);this.markerElem_.style.left=`${R}%`;const I=Z(l[2],0,100,100,0);this.markerElem_.style.top=`${I}%`}onValueChange_(){this.update_()}}class qu{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Hu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ye(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const l=Z(t.point.x,0,t.bounds.width,0,100),d=Z(t.point.y,0,t.bounds.height,100,0),[b,,,x]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new F([b,l,d,x],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){As(t.key)&&t.preventDefault();const[i,l,d,b]=this.value.rawValue.getComponents("hsv"),x=Ce(!1),A=vt(x,qt(t)),R=vt(x,bn(t));A===0&&R===0||this.value.setRawValue(new F([i,l+A,d+R,b],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const i=Ce(!1),l=vt(i,qt(t)),d=vt(i,bn(t));l===0&&d===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Yu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.hPaletteC_=new $u(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new qu(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=i.supportsAlpha?{palette:new Nu(t,{value:this.value,viewProps:this.viewProps}),text:new gn(t,{parser:Ht,baseStep:.1,props:D.fromObject({draggingScale:.01,formatter:ft(2)}),value:B(0,{constraint:new wt({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&_n({primary:this.value,secondary:this.alphaIcs_.text.value,forward:l=>l.rawValue.getComponents()[3],backward:(l,d)=>{const b=l.rawValue.getComponents();return b[3]=d.rawValue,new F(b,l.rawValue.mode)}}),this.textC_=new zu(t,{parser:Ht,value:this.value,viewProps:this.viewProps}),this.view=new Vu(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:i.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Xi=P("colsw");class Gu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.element=t.createElement("div"),this.element.classList.add(Xi()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("div");l.classList.add(Xi("sw")),this.element.appendChild(l),this.swatchElem_=l;const d=t.createElement("button");d.classList.add(Xi("b")),i.viewProps.bindDisabled(d),this.element.appendChild(d),this.buttonElement=d,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=ti(t)}onValueChange_(){this.update_()}}class Wu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Gu(t,{value:this.value,viewProps:this.viewProps})}}class Zi{constructor(t,i){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=un.create(i.expanded),this.swatchC_=new Wu(t,{value:this.value,viewProps:this.viewProps});const l=this.swatchC_.view.buttonElement;l.addEventListener("blur",this.onButtonBlur_),l.addEventListener("click",this.onButtonClick_),this.textC_=new qn(t,{parser:i.parser,props:D.fromObject({formatter:i.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new wu(t,{foldable:this.foldable_,pickerLayout:i.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=i.pickerLayout==="popup"?new ws(t,{viewProps:this.viewProps}):null;const d=new Yu(t,{supportsAlpha:i.supportsAlpha,value:this.value,viewProps:this.viewProps});d.view.allFocusableElements.forEach(b=>{b.addEventListener("blur",this.onPopupChildBlur_),b.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=d,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(d.view.element),_n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:b=>b.rawValue,backward:(b,x)=>x.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Pi(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,l=t.relatedTarget;(!l||!i.contains(l))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,l=ss(t);l&&i.contains(l)||l&&l===this.swatchC_.view.buttonElement&&!Ci(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Xu(s){return F.isColorObject(s)?F.fromObject(s):F.black()}function Zu(s){return Be(s.getComponents("rgb")).reduce((t,i)=>t<<8|Math.floor(i)&255,0)}function Qu(s){return s.getComponents("rgb").reduce((t,i,l)=>{const d=Math.floor(l===3?i*255:i)&255;return t<<8|d},0)>>>0}function Ju(s){return new F([s>>16&255,s>>8&255,s&255],"rgb")}function tc(s){return new F([s>>24&255,s>>16&255,s>>8&255,Z(s&255,0,255,0,1)],"rgb")}function ec(s){return typeof s!="number"?F.black():Ju(s)}function nc(s){return typeof s!="number"?F.black():tc(s)}function ic(s){const t=Bs(s);return(i,l)=>{wn(i,t(l))}}function rc(s){const t=s?Qu:Zu;return(i,l)=>{wn(i,t(l))}}function sc(s,t){const i=t.toRgbaObject();s.writeProperty("r",i.r),s.writeProperty("g",i.g),s.writeProperty("b",i.b),s.writeProperty("a",i.a)}function oc(s,t){const i=t.toRgbaObject();s.writeProperty("r",i.r),s.writeProperty("g",i.g),s.writeProperty("b",i.b)}function ac(s){return s?sc:oc}function Qi(s){return"alpha"in s&&s.alpha===!0}function lc(s){return s?t=>ti(t,"0x"):t=>qi(t,"0x")}const uc={id:"input-color-number",type:"input",accept:(s,t)=>{if(typeof s!="number"||!("view"in t)||t.view!=="color")return null;const i=$i(t);return i?{initialValue:s,params:i}:null},binding:{reader:s=>Qi(s.params)?nc:ec,equals:F.equals,writer:s=>rc(Qi(s.params))},controller:s=>{const t=Qi(s.params),i="expanded"in s.params?s.params.expanded:void 0,l="picker"in s.params?s.params.picker:void 0;return new Zi(s.document,{expanded:i!=null?i:!1,formatter:lc(t),parser:Jn,pickerLayout:l!=null?l:"popup",supportsAlpha:t,value:s.value,viewProps:s.viewProps})}};function cc(s){return F.isRgbaColorObject(s)}const hc={id:"input-color-object",type:"input",accept:(s,t)=>{if(!F.isColorObject(s))return null;const i=$i(t);return i?{initialValue:s,params:i}:null},binding:{reader:s=>Xu,equals:F.equals,writer:s=>ac(cc(s.initialValue))},controller:s=>{const t=F.isRgbaColorObject(s.initialValue),i="expanded"in s.params?s.params.expanded:void 0,l="picker"in s.params?s.params.picker:void 0,d=t?ti:qi;return new Zi(s.document,{expanded:i!=null?i:!1,formatter:d,parser:Jn,pickerLayout:l!=null?l:"popup",supportsAlpha:t,value:s.value,viewProps:s.viewProps})}},pc={id:"input-color-string",type:"input",accept:(s,t)=>{if(typeof s!="string"||"view"in t&&t.view==="text"||!Qn(s))return null;const l=$i(t);return l?{initialValue:s,params:l}:null},binding:{reader:s=>Ou,equals:F.equals,writer:s=>{const t=Qn(s.initialValue);if(!t)throw m.shouldNeverHappen();return ic(t)}},controller:s=>{const t=Qn(s.initialValue);if(!t)throw m.shouldNeverHappen();const i=Bs(t),l="expanded"in s.params?s.params.expanded:void 0,d="picker"in s.params?s.params.picker:void 0;return new Zi(s.document,{expanded:l!=null?l:!1,formatter:i,parser:Jn,pickerLayout:d!=null?d:"popup",supportsAlpha:Mu(t),value:s.value,viewProps:s.viewProps})}};class re{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const i=this.asm_.toComponents(t).map((l,d)=>{var b,x;return(x=(b=this.components[d])===null||b===void 0?void 0:b.constrain(l))!==null&&x!==void 0?x:l});return this.asm_.fromComponents(i)}}const js=P("pndtxt");class dc{constructor(t,i){this.textViews=i.textViews,this.element=t.createElement("div"),this.element.classList.add(js()),this.textViews.forEach(l=>{const d=t.createElement("div");d.classList.add(js("a")),d.appendChild(l.element),this.element.appendChild(d)})}}function fc(s,t,i){return new gn(s,{arrayPosition:i===0?"fst":i===t.axes.length-1?"lst":"mid",baseStep:t.axes[i].baseStep,parser:t.parser,props:t.axes[i].textProps,value:B(0,{constraint:t.axes[i].constraint}),viewProps:t.viewProps})}class Ji{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.acs_=i.axes.map((l,d)=>fc(t,i,d)),this.acs_.forEach((l,d)=>{_n({primary:this.value,secondary:l.value,forward:b=>i.assembly.toComponents(b.rawValue)[d],backward:(b,x)=>{const A=i.assembly.toComponents(b.rawValue);return A[d]=x.rawValue,i.assembly.fromComponents(A)}})}),this.view=new dc(t,{textViews:this.acs_.map(l=>l.view)})}}function vc(s){return"step"in s&&!v(s.step)?new we(s.step):null}function mc(s){return"max"in s&&!v(s.max)||"min"in s&&!v(s.min)?new wt({max:s.max,min:s.min}):null}function _c(s){const t=[],i=vc(s);i&&t.push(i);const l=mc(s);l&&t.push(l);const d=zi(s.options);return d&&t.push(d),new ge(t)}function bc(s){const t=s?Bt(s,wt):null;return t?[t.minValue,t.maxValue]:[void 0,void 0]}function gc(s){const[t,i]=bc(s);return[t!=null?t:0,i!=null?i:100]}const wc={id:"input-number",type:"input",accept:(s,t)=>{if(typeof s!="number")return null;const i=$,l=H(t,{format:i.optional.function,max:i.optional.number,min:i.optional.number,options:i.optional.custom(Gn),step:i.optional.number});return l?{initialValue:s,params:l}:null},binding:{reader:s=>Ss,constraint:s=>_c(s.params),writer:s=>wn},controller:s=>{var t,i;const l=s.value,d=s.constraint;if(d&&Bt(d,dn))return new fn(s.document,{props:D.fromObject({options:(t=Ki(d))!==null&&t!==void 0?t:[]}),value:l,viewProps:s.viewProps});const b=(i="format"in s.params?s.params.format:void 0)!==null&&i!==void 0?i:ft(Wn(d,l.rawValue));if(d&&Bt(d,wt)){const[x,A]=gc(d);return new ji(s.document,{baseStep:Ne(d),parser:Ht,sliderProps:D.fromObject({maxValue:A,minValue:x}),textProps:D.fromObject({draggingScale:Fe(d,l.rawValue),formatter:b}),value:l,viewProps:s.viewProps})}return new gn(s.document,{baseStep:Ne(d),parser:Ht,props:D.fromObject({draggingScale:Fe(d,l.rawValue),formatter:b}),value:l,viewProps:s.viewProps})}};class se{constructor(t=0,i=0){this.x=t,this.y=i}getComponents(){return[this.x,this.y]}static isObject(t){if(v(t))return!1;const i=t.x,l=t.y;return!(typeof i!="number"||typeof l!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y}toObject(){return{x:this.x,y:this.y}}}const zs={toComponents:s=>s.getComponents(),fromComponents:s=>new se(...s)},je=P("p2d");class yc{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(je()),i.viewProps.bindClassModifiers(this.element),S(i.expanded,O(this.element,je(void 0,"expanded")));const l=t.createElement("div");l.classList.add(je("h")),this.element.appendChild(l);const d=t.createElement("button");d.classList.add(je("b")),d.appendChild(zn(t,"p2dpad")),i.viewProps.bindDisabled(d),l.appendChild(d),this.buttonElement=d;const b=t.createElement("div");if(b.classList.add(je("t")),l.appendChild(b),this.textElement=b,i.pickerLayout==="inline"){const x=t.createElement("div");x.classList.add(je("p")),this.element.appendChild(x),this.pickerElement=x}else this.pickerElement=null}}const oe=P("p2dp");class xc{constructor(t,i){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=i.invertsY,this.maxValue_=i.maxValue,this.element=t.createElement("div"),this.element.classList.add(oe()),i.layout==="popup"&&this.element.classList.add(oe(void 0,"p"));const l=t.createElement("div");l.classList.add(oe("p")),i.viewProps.bindTabIndex(l),this.element.appendChild(l),this.padElement=l;const d=t.createElementNS(Nt,"svg");d.classList.add(oe("g")),this.padElement.appendChild(d),this.svgElem_=d;const b=t.createElementNS(Nt,"line");b.classList.add(oe("ax")),b.setAttributeNS(null,"x1","0"),b.setAttributeNS(null,"y1","50%"),b.setAttributeNS(null,"x2","100%"),b.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(b);const x=t.createElementNS(Nt,"line");x.classList.add(oe("ax")),x.setAttributeNS(null,"x1","50%"),x.setAttributeNS(null,"y1","0"),x.setAttributeNS(null,"x2","50%"),x.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(x);const A=t.createElementNS(Nt,"line");A.classList.add(oe("l")),A.setAttributeNS(null,"x1","50%"),A.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(A),this.lineElem_=A;const R=t.createElement("div");R.classList.add(oe("m")),this.padElement.appendChild(R),this.markerElem_=R,i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,i]=this.value.rawValue.getComponents(),l=this.maxValue_,d=Z(t,-l,+l,0,100),b=Z(i,-l,+l,0,100),x=this.invertsY_?100-b:b;this.lineElem_.setAttributeNS(null,"x2",`${d}%`),this.lineElem_.setAttributeNS(null,"y2",`${x}%`),this.markerElem_.style.left=`${d}%`,this.markerElem_.style.top=`${x}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Ks(s,t,i){return[vt(t[0],qt(s)),vt(t[1],bn(s))*(i?1:-1)]}class Cc{constructor(t,i){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.baseSteps_=i.baseSteps,this.maxValue_=i.maxValue,this.invertsY_=i.invertsY,this.view=new xc(t,{invertsY:this.invertsY_,layout:i.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ye(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const l=this.maxValue_,d=Z(t.point.x,0,t.bounds.width,-l,+l),b=Z(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-l,+l);this.value.setRawValue(new se(d,b),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){As(t.key)&&t.preventDefault();const[i,l]=Ks(t,this.baseSteps_,this.invertsY_);i===0&&l===0||this.value.setRawValue(new se(this.value.rawValue.x+i,this.value.rawValue.y+l),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[i,l]=Ks(t,this.baseSteps_,this.invertsY_);i===0&&l===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Pc{constructor(t,i){var l,d;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=un.create(i.expanded),this.popC_=i.pickerLayout==="popup"?new ws(t,{viewProps:this.viewProps}):null;const b=new Cc(t,{baseSteps:[i.axes[0].baseStep,i.axes[1].baseStep],invertsY:i.invertsY,layout:i.pickerLayout,maxValue:i.maxValue,value:this.value,viewProps:this.viewProps});b.view.allFocusableElements.forEach(x=>{x.addEventListener("blur",this.onPopupChildBlur_),x.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=b,this.textC_=new Ji(t,{assembly:zs,axes:i.axes,parser:i.parser,value:this.value,viewProps:this.viewProps}),this.view=new yc(t,{expanded:this.foldable_.value("expanded"),pickerLayout:i.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(l=this.view.buttonElement)===null||l===void 0||l.addEventListener("blur",this.onPadButtonBlur_),(d=this.view.buttonElement)===null||d===void 0||d.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),_n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:x=>x.rawValue,backward:(x,A)=>A.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Pi(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,l=t.relatedTarget;(!l||!i.contains(l))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,l=ss(t);l&&i.contains(l)||l&&l===this.view.buttonElement&&!Ci(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function Ec(s){return se.isObject(s)?new se(s.x,s.y):new se}function kc(s,t){s.writeProperty("x",t.x),s.writeProperty("y",t.y)}function $s(s){if(!s)return;const t=[];return v(s.step)||t.push(new we(s.step)),(!v(s.max)||!v(s.min))&&t.push(new wt({max:s.max,min:s.min})),new ge(t)}function Sc(s){return new re({assembly:zs,components:[$s("x"in s?s.x:void 0),$s("y"in s?s.y:void 0)]})}function Hs(s,t){const i=s&&Bt(s,wt);if(i)return Math.max(Math.abs(i.minValue||0),Math.abs(i.maxValue||0));const l=Ne(s);return Math.max(Math.abs(l)*10,Math.abs(t)*10)}function Tc(s,t){const i=t instanceof re?t.components[0]:void 0,l=t instanceof re?t.components[1]:void 0,d=Hs(i,s.x),b=Hs(l,s.y);return Math.max(d,b)}function qs(s,t){return{baseStep:Ne(t),constraint:t,textProps:D.fromObject({draggingScale:Fe(t,s),formatter:ft(Wn(t,s))})}}function Vc(s){if(!("y"in s))return!1;const t=s.y;return t&&"inverted"in t?!!t.inverted:!1}const Ac={id:"input-point2d",type:"input",accept:(s,t)=>{if(!se.isObject(s))return null;const i=$,l=H(t,{expanded:i.optional.boolean,picker:i.optional.custom(Os),x:i.optional.custom(ne),y:i.optional.object({inverted:i.optional.boolean,max:i.optional.number,min:i.optional.number,step:i.optional.number})});return l?{initialValue:s,params:l}:null},binding:{reader:s=>Ec,constraint:s=>Sc(s.params),equals:se.equals,writer:s=>kc},controller:s=>{const t=s.document,i=s.value,l=s.constraint;if(!(l instanceof re))throw m.shouldNeverHappen();const d="expanded"in s.params?s.params.expanded:void 0,b="picker"in s.params?s.params.picker:void 0;return new Pc(t,{axes:[qs(i.rawValue.x,l.components[0]),qs(i.rawValue.y,l.components[1])],expanded:d!=null?d:!1,invertsY:Vc(s.params),maxValue:Tc(i.rawValue,l),parser:Ht,pickerLayout:b!=null?b:"popup",value:i,viewProps:s.viewProps})}};class ze{constructor(t=0,i=0,l=0){this.x=t,this.y=i,this.z=l}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(v(t))return!1;const i=t.x,l=t.y,d=t.z;return!(typeof i!="number"||typeof l!="number"||typeof d!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Ys={toComponents:s=>s.getComponents(),fromComponents:s=>new ze(...s)};function Mc(s){return ze.isObject(s)?new ze(s.x,s.y,s.z):new ze}function Oc(s,t){s.writeProperty("x",t.x),s.writeProperty("y",t.y),s.writeProperty("z",t.z)}function tr(s){if(!s)return;const t=[];return v(s.step)||t.push(new we(s.step)),(!v(s.max)||!v(s.min))&&t.push(new wt({max:s.max,min:s.min})),new ge(t)}function Lc(s){return new re({assembly:Ys,components:[tr("x"in s?s.x:void 0),tr("y"in s?s.y:void 0),tr("z"in s?s.z:void 0)]})}function er(s,t){return{baseStep:Ne(t),constraint:t,textProps:D.fromObject({draggingScale:Fe(t,s),formatter:ft(Wn(t,s))})}}const Dc={id:"input-point3d",type:"input",accept:(s,t)=>{if(!ze.isObject(s))return null;const i=$,l=H(t,{x:i.optional.custom(ne),y:i.optional.custom(ne),z:i.optional.custom(ne)});return l?{initialValue:s,params:l}:null},binding:{reader:s=>Mc,constraint:s=>Lc(s.params),equals:ze.equals,writer:s=>Oc},controller:s=>{const t=s.value,i=s.constraint;if(!(i instanceof re))throw m.shouldNeverHappen();return new Ji(s.document,{assembly:Ys,axes:[er(t.rawValue.x,i.components[0]),er(t.rawValue.y,i.components[1]),er(t.rawValue.z,i.components[2])],parser:Ht,value:t,viewProps:s.viewProps})}};class Ke{constructor(t=0,i=0,l=0,d=0){this.x=t,this.y=i,this.z=l,this.w=d}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(v(t))return!1;const i=t.x,l=t.y,d=t.z,b=t.w;return!(typeof i!="number"||typeof l!="number"||typeof d!="number"||typeof b!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z&&t.w===i.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Gs={toComponents:s=>s.getComponents(),fromComponents:s=>new Ke(...s)};function Rc(s){return Ke.isObject(s)?new Ke(s.x,s.y,s.z,s.w):new Ke}function Ic(s,t){s.writeProperty("x",t.x),s.writeProperty("y",t.y),s.writeProperty("z",t.z),s.writeProperty("w",t.w)}function ni(s){if(!s)return;const t=[];return v(s.step)||t.push(new we(s.step)),(!v(s.max)||!v(s.min))&&t.push(new wt({max:s.max,min:s.min})),new ge(t)}function Nc(s){return new re({assembly:Gs,components:[ni("x"in s?s.x:void 0),ni("y"in s?s.y:void 0),ni("z"in s?s.z:void 0),ni("w"in s?s.w:void 0)]})}function Fc(s,t){return{baseStep:Ne(t),constraint:t,textProps:D.fromObject({draggingScale:Fe(t,s),formatter:ft(Wn(t,s))})}}const Bc={id:"input-point4d",type:"input",accept:(s,t)=>{if(!Ke.isObject(s))return null;const i=$,l=H(t,{x:i.optional.custom(ne),y:i.optional.custom(ne),z:i.optional.custom(ne),w:i.optional.custom(ne)});return l?{initialValue:s,params:l}:null},binding:{reader:s=>Rc,constraint:s=>Nc(s.params),equals:Ke.equals,writer:s=>Ic},controller:s=>{const t=s.value,i=s.constraint;if(!(i instanceof re))throw m.shouldNeverHappen();return new Ji(s.document,{assembly:Gs,axes:t.rawValue.getComponents().map((l,d)=>Fc(l,i.components[d])),parser:Ht,value:t,viewProps:s.viewProps})}};function Uc(s){const t=[],i=zi(s.options);return i&&t.push(i),new ge(t)}const jc={id:"input-string",type:"input",accept:(s,t)=>{if(typeof s!="string")return null;const l=H(t,{options:$.optional.custom(Gn)});return l?{initialValue:s,params:l}:null},binding:{reader:s=>Ts,constraint:s=>Uc(s.params),writer:s=>wn},controller:s=>{var t;const i=s.document,l=s.value,d=s.constraint;return d&&Bt(d,dn)?new fn(i,{props:D.fromObject({options:(t=Ki(d))!==null&&t!==void 0?t:[]}),value:l,viewProps:s.viewProps}):new qn(i,{parser:b=>b,props:D.fromObject({formatter:Ii}),value:l,viewProps:s.viewProps})}},xn={monitor:{defaultInterval:200,defaultLineCount:3}},Ws=P("mll");class zc{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(Ws()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("textarea");l.classList.add(Ws("i")),l.style.height=`calc(var(--bld-us) * ${i.lineCount})`,l.readOnly=!0,i.viewProps.bindDisabled(l),this.element.appendChild(l),this.textareaElem_=l,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.textareaElem_,i=t.scrollTop===t.scrollHeight-t.clientHeight,l=[];this.value.rawValue.forEach(d=>{d!==void 0&&l.push(this.formatter_(d))}),t.textContent=l.join(`
`),i&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class nr{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new zc(t,{formatter:i.formatter,lineCount:i.lineCount,value:this.value,viewProps:this.viewProps})}}const Xs=P("sgl");class Kc{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(Xs()),i.viewProps.bindClassModifiers(this.element);const l=t.createElement("input");l.classList.add(Xs("i")),l.readOnly=!0,l.type="text",i.viewProps.bindDisabled(l),this.element.appendChild(l),this.inputElement=l,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.value.rawValue,i=t[t.length-1];this.inputElement.value=i!==void 0?this.formatter_(i):""}onValueUpdate_(){this.update_()}}class ir{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Kc(t,{formatter:i.formatter,value:this.value,viewProps:this.viewProps})}}const $c={id:"monitor-bool",type:"monitor",accept:(s,t)=>{if(typeof s!="boolean")return null;const l=H(t,{lineCount:$.optional.number});return l?{initialValue:s,params:l}:null},binding:{reader:s=>xs},controller:s=>{var t;return s.value.rawValue.length===1?new ir(s.document,{formatter:Cs,value:s.value,viewProps:s.viewProps}):new nr(s.document,{formatter:Cs,lineCount:(t=s.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,value:s.value,viewProps:s.viewProps})}};class Hc{constructor(){this.emitter=new y,this.index_=-1}get index(){return this.index_}set index(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}const ae=P("grl");class qc{constructor(t,i){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(ae()),i.viewProps.bindClassModifiers(this.element),this.formatter_=i.formatter,this.minValue_=i.minValue,this.maxValue_=i.maxValue,this.cursor_=i.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const l=t.createElementNS(Nt,"svg");l.classList.add(ae("g")),l.style.height=`calc(var(--bld-us) * ${i.lineCount})`,this.element.appendChild(l),this.svgElem_=l;const d=t.createElementNS(Nt,"polyline");this.svgElem_.appendChild(d),this.lineElem_=d;const b=t.createElement("div");b.classList.add(ae("t"),P("tt")()),this.element.appendChild(b),this.tooltipElem_=b,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),i=this.value.rawValue.length-1,l=this.minValue_,d=this.maxValue_,b=[];this.value.rawValue.forEach((j,z)=>{if(j===void 0)return;const Pe=Z(z,0,i,0,t.width),Cn=Z(j,l,d,t.height,0);b.push([Pe,Cn].join(","))}),this.lineElem_.setAttributeNS(null,"points",b.join(" "));const x=this.tooltipElem_,A=this.value.rawValue[this.cursor_.index];if(A===void 0){x.classList.remove(ae("t","a"));return}const R=Z(this.cursor_.index,0,i,0,t.width),I=Z(A,l,d,t.height,0);x.style.left=`${R}px`,x.style.top=`${I}px`,x.textContent=`${this.formatter_(A)}`,x.classList.contains(ae("t","a"))||(x.classList.add(ae("t","a"),ae("t","in")),jn(x),x.classList.remove(ae("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Yc{constructor(t,i){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.cursor_=new Hc,this.view=new qc(t,{cursor:this.cursor_,formatter:i.formatter,lineCount:i.lineCount,maxValue:i.maxValue,minValue:i.minValue,value:this.value,viewProps:this.viewProps}),!Ci(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const l=new ye(this.view.element);l.emitter.on("down",this.onGraphPointerDown_),l.emitter.on("move",this.onGraphPointerMove_),l.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(t){const i=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Z(t.offsetX,0,i.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Z(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function rr(s){return"format"in s&&!v(s.format)?s.format:ft(2)}function Gc(s){var t;return s.value.rawValue.length===1?new ir(s.document,{formatter:rr(s.params),value:s.value,viewProps:s.viewProps}):new nr(s.document,{formatter:rr(s.params),lineCount:(t=s.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,value:s.value,viewProps:s.viewProps})}function Wc(s){var t,i,l;return new Yc(s.document,{formatter:rr(s.params),lineCount:(t=s.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,maxValue:(i="max"in s.params?s.params.max:null)!==null&&i!==void 0?i:100,minValue:(l="min"in s.params?s.params.min:null)!==null&&l!==void 0?l:0,value:s.value,viewProps:s.viewProps})}function Zs(s){return"view"in s&&s.view==="graph"}const Xc={id:"monitor-number",type:"monitor",accept:(s,t)=>{if(typeof s!="number")return null;const i=$,l=H(t,{format:i.optional.function,lineCount:i.optional.number,max:i.optional.number,min:i.optional.number,view:i.optional.string});return l?{initialValue:s,params:l}:null},binding:{defaultBufferSize:s=>Zs(s)?64:1,reader:s=>Ss},controller:s=>Zs(s.params)?Wc(s):Gc(s)},Zc={id:"monitor-string",type:"monitor",accept:(s,t)=>{if(typeof s!="string")return null;const i=$,l=H(t,{lineCount:i.optional.number,multiline:i.optional.boolean});return l?{initialValue:s,params:l}:null},binding:{reader:s=>Ts},controller:s=>{var t;const i=s.value;return i.rawValue.length>1||"multiline"in s.params&&s.params.multiline?new nr(s.document,{formatter:Ii,lineCount:(t=s.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,value:i,viewProps:s.viewProps}):new ir(s.document,{formatter:Ii,value:i,viewProps:s.viewProps})}};class Qc{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new y,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function Jc(s,t){const i=s.accept(t.target.read(),t.params);if(v(i))return null;const l=$,d={target:t.target,initialValue:i.initialValue,params:i.params},b=s.binding.reader(d),x=s.binding.constraint?s.binding.constraint(d):void 0,A=B(b(i.initialValue),{constraint:x,equals:s.binding.equals}),R=new Qc({reader:b,target:t.target,value:A,writer:s.binding.writer(d)}),I=l.optional.boolean(t.params.disabled).value,j=l.optional.boolean(t.params.hidden).value,z=s.controller({constraint:x,document:t.document,initialValue:i.initialValue,params:i.params,value:R.value,viewProps:ee.create({disabled:I,hidden:j})}),Pe=l.optional.string(t.params.label).value;return new Ft(t.document,{binding:R,blade:ln(),props:D.fromObject({label:Pe||t.target.key}),valueController:z})}class th{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new y,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const i=this.value.rawValue,l=this.reader_(t);this.value.rawValue=uu(i,l),this.emitter.emit("update",{rawValue:l,sender:this})}onTick_(t){this.read()}}function eh(s,t){return t===0?new Sl:new Tl(s,t!=null?t:xn.monitor.defaultInterval)}function nh(s,t){var i,l,d;const b=$,x=s.accept(t.target.read(),t.params);if(v(x))return null;const A={target:t.target,initialValue:x.initialValue,params:x.params},R=s.binding.reader(A),I=(l=(i=b.optional.number(t.params.bufferSize).value)!==null&&i!==void 0?i:s.binding.defaultBufferSize&&s.binding.defaultBufferSize(x.params))!==null&&l!==void 0?l:1,j=b.optional.number(t.params.interval).value,z=new th({reader:R,target:t.target,ticker:eh(t.document,j),value:au(I)}),Pe=b.optional.boolean(t.params.disabled).value,Cn=b.optional.boolean(t.params.hidden).value,Pn=s.controller({document:t.document,params:x.params,value:z.value,viewProps:ee.create({disabled:Pe,hidden:Cn})}),$e=(d=b.optional.string(t.params.label).value)!==null&&d!==void 0?d:t.target.key;return new te(t.document,{binding:z,blade:ln(),props:D.fromObject({label:$e}),valueController:Pn})}class ih{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,i,l){const d=i.read();if(v(d))throw new m({context:{key:i.key},type:"nomatchingcontroller"});const b=this.pluginsMap_.inputs.reduce((x,A)=>x||Jc(A,{document:t,target:i,params:l}),null);if(b)return b;throw new m({context:{key:i.key},type:"nomatchingcontroller"})}createMonitor(t,i,l){const d=this.pluginsMap_.monitors.reduce((b,x)=>b||nh(x,{document:t,params:l,target:i}),null);if(d)return d;throw new m({context:{key:i.key},type:"nomatchingcontroller"})}createBlade(t,i){const l=this.pluginsMap_.blades.reduce((d,b)=>d||kl(b,{document:t,params:i}),null);if(!l)throw new m({type:"nomatchingview",context:{params:i}});return l}createBladeApi(t){if(t instanceof Ft)return new Si(t);if(t instanceof te)return new Ti(t);if(t instanceof hn)return new $n(t,this);const i=this.pluginsMap_.blades.reduce((l,d)=>l||d.api({controller:t,pool:this}),null);if(!i)throw m.shouldNeverHappen();return i}}function rh(){const s=new ih;return[Ac,Dc,Bc,jc,wc,pc,hc,uc,gu,$c,Zc,Xc,sl,gl,yl,bs].forEach(t=>{s.register(t)}),s}class Qs extends o{constructor(t){super(t),this.emitter_=new y,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}}class Js extends o{constructor(t){super(t),this.emitter_=new y,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}}class to extends o{constructor(t){super(t),this.emitter_=new y,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const l=i.bind(this);return this.emitter_.on(t,d=>{l(d.event)}),this}}const sh=function(){return{id:"list",type:"blade",accept(s){const t=$,i=H(s,{options:t.required.custom(Gn),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return i?{params:i}:null},controller(s){const t=new fn(s.document,{props:D.fromObject({options:Ls(s.params.options)}),value:B(s.params.value),viewProps:s.viewProps});return new Ie(s.document,{blade:s.blade,props:D.fromObject({label:s.params.label}),valueController:t})},api(s){return!(s.controller instanceof Ie)||!(s.controller.valueController instanceof fn)?null:new Qs(s.controller)}}}();function oh(s){return s.reduce((t,i)=>Object.assign(t,{[i.presetKey]:i.read()}),{})}function ah(s,t){s.forEach(i=>{const l=t[i.presetKey];l!==void 0&&i.write(l)})}class lh extends Vi{constructor(t,i){super(t,i)}get element(){return this.controller_.view.element}importPreset(t){const i=this.controller_.rackController.rack.find(Ft).map(l=>l.binding.target);ah(i,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(Ft).map(i=>i.binding.target);return oh(t)}refresh(){this.controller_.rackController.rack.find(Ft).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(te).forEach(t=>{t.binding.read()})}}class uh extends Oi{constructor(t,i){super(t,{expanded:i.expanded,blade:i.blade,props:i.props,root:!0,viewProps:i.viewProps})}}const ch={id:"slider",type:"blade",accept(s){const t=$,i=H(s,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return i?{params:i}:null},controller(s){var t,i;const l=(t=s.params.value)!==null&&t!==void 0?t:0,d=new ji(s.document,{baseStep:1,parser:Ht,sliderProps:D.fromObject({maxValue:s.params.max,minValue:s.params.min}),textProps:D.fromObject({draggingScale:Fe(void 0,l),formatter:(i=s.params.format)!==null&&i!==void 0?i:su}),value:B(l),viewProps:s.viewProps});return new Ie(s.document,{blade:s.blade,props:D.fromObject({label:s.params.label}),valueController:d})},api(s){return!(s.controller instanceof Ie)||!(s.controller.valueController instanceof ji)?null:new Js(s.controller)}},hh=function(){return{id:"text",type:"blade",accept(s){const t=$,i=H(s,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return i?{params:i}:null},controller(s){var t;const i=new qn(s.document,{parser:s.params.parse,props:D.fromObject({formatter:(t=s.params.format)!==null&&t!==void 0?t:l=>String(l)}),value:B(s.params.value),viewProps:s.viewProps});return new Ie(s.document,{blade:s.blade,props:D.fromObject({label:s.params.label}),valueController:i})},api(s){return!(s.controller instanceof Ie)||!(s.controller.valueController instanceof qn)?null:new to(s.controller)}}}();function ph(s){const t=s.createElement("div");return t.classList.add(P("dfw")()),s.body&&s.body.appendChild(t),t}function eo(s,t,i){if(s.querySelector(`style[data-tp-style=${t}]`))return;const l=s.createElement("style");l.dataset.tpStyle=t,l.textContent=i,s.head.appendChild(l)}class dh extends lh{constructor(t){var i;const l=t||{},d=(i=l.document)!==null&&i!==void 0?i:tl(),b=rh(),x=new uh(d,{expanded:l.expanded,blade:ln(),props:D.fromObject({title:l.title}),viewProps:ee.create()});super(x,b),this.pool_=b,this.containerElem_=l.container||ph(d),this.containerElem_.appendChild(this.element),this.doc_=d,this.usesDefaultWrapper_=!l.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw m.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw m.alreadyDisposed();if(this.usesDefaultWrapper_){const i=t.parentElement;i&&i.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(l=>{this.pool_.register(l),this.embedPluginStyle_(l)})}embedPluginStyle_(t){t.css&&eo(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){eo(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[ch,sh,bs,hh]})}}const fh=new r("3.0.8");n.BladeApi=o,n.ButtonApi=_,n.FolderApi=Vi,n.InputBindingApi=Si,n.ListApi=Qs,n.MonitorBindingApi=Ti,n.Pane=dh,n.SeparatorApi=cs,n.SliderApi=Js,n.TabApi=ms,n.TabPageApi=vs,n.TextApi=to,n.TpChangeEvent=c,n.VERSION=fh,Object.defineProperty(n,"__esModule",{value:!0})})})(bo,bo.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tr=function(a,e){return Tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Tr(a,e)};function Jt(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tr(a,e);function n(){this.constructor=a}a.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Pp(a,e,n,r){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function h(v){try{p(r.next(v))}catch(g){c(g)}}function f(v){try{p(r.throw(v))}catch(g){c(g)}}function p(v){v.done?u(v.value):o(v.value).then(h,f)}p((r=r.apply(a,e||[])).next())})}function ka(a,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(v){return f([p,v])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){n.label=p[1];break}if(p[0]===6&&n.label<u[1]){n.label=u[1],u=p;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(p);break}u[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(a,n)}catch(v){p=[6,v],o=0}finally{r=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function rn(a){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&a[e],r=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&r>=a.length&&(a=void 0),{value:a&&a[r++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(a,e){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var r=n.call(a),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)u.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return u}function Dt(a,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,u;r<o;r++)(u||!(r in e))&&(u||(u=Array.prototype.slice.call(e,0,r)),u[r]=e[r]);return a.concat(u||Array.prototype.slice.call(e))}function Ze(a){return this instanceof Ze?(this.v=a,this):new Ze(a)}function Ep(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(a,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(w){r[w]&&(o[w]=function(m){return new Promise(function(C,_){u.push([w,m,C,_])>1||h(w,m)})})}function h(w,m){try{f(r[w](m))}catch(C){g(u[0][3],C)}}function f(w){w.value instanceof Ze?Promise.resolve(w.value.v).then(p,v):g(u[0][2],w)}function p(w){h("next",w)}function v(w){h("throw",w)}function g(w,m){w(m),u.shift(),u.length&&h(u[0][0],u[0][1])}}function kp(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],n;return e?e.call(a):(a=typeof rn=="function"?rn(a):a[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=a[u]&&function(c){return new Promise(function(h,f){c=a[u](c),o(h,f,c.done,c.value)})}}function o(u,c,h,f){Promise.resolve(f).then(function(p){u({value:p,done:h})},c)}}function K(a){return typeof a=="function"}function $r(a){var e=function(r){Error.call(r),r.stack=new Error().stack},n=a(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dr=$r(function(a){return function(n){a(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function mi(a,e){if(a){var n=a.indexOf(e);0<=n&&a.splice(n,1)}}var sn=function(){function a(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return a.prototype.unsubscribe=function(){var e,n,r,o,u;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var h=rn(c),f=h.next();!f.done;f=h.next()){var p=f.value;p.remove(this)}}catch(_){e={error:_}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}else c.remove(this);var v=this.initialTeardown;if(K(v))try{v()}catch(_){u=_ instanceof dr?_.errors:[_]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var w=rn(g),m=w.next();!m.done;m=w.next()){var C=m.value;try{go(C)}catch(_){u=u!=null?u:[],_ instanceof dr?u=Dt(Dt([],Et(u)),Et(_.errors)):u.push(_)}}}catch(_){r={error:_}}finally{try{m&&!m.done&&(o=w.return)&&o.call(w)}finally{if(r)throw r.error}}}if(u)throw new dr(u)}},a.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)go(e);else{if(e instanceof a){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},a.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},a.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},a.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&mi(n,e)},a.prototype.remove=function(e){var n=this._finalizers;n&&mi(n,e),e instanceof a&&e._removeParent(this)},a.EMPTY=function(){var e=new a;return e.closed=!0,e}(),a}(),Sa=sn.EMPTY;function Ta(a){return a instanceof sn||a&&"closed"in a&&K(a.remove)&&K(a.add)&&K(a.unsubscribe)}function go(a){K(a)?a():a.unsubscribe()}var xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_i={setTimeout:function(a,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=_i.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Dt([a,e],Et(n))):setTimeout.apply(void 0,Dt([a,e],Et(n)))},clearTimeout:function(a){var e=_i.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(a)},delegate:void 0};function Va(a){_i.setTimeout(function(){throw a})}function bi(){}var Sp=function(){return Hr("C",void 0,void 0)}();function Tp(a){return Hr("E",void 0,a)}function Vp(a){return Hr("N",a,void 0)}function Hr(a,e,n){return{kind:a,value:e,error:n}}var ri=null;function ai(a){if(xi.useDeprecatedSynchronousErrorHandling){var e=!ri;if(e&&(ri={errorThrown:!1,error:null}),a(),e){var n=ri,r=n.errorThrown,o=n.error;if(ri=null,r)throw o}}else a()}var qr=function(a){Jt(e,a);function e(n){var r=a.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Ta(n)&&n.add(r)):r.destination=Lp,r}return e.create=function(n,r,o){return new Bn(n,r,o)},e.prototype.next=function(n){this.isStopped?vr(Vp(n),this):this._next(n)},e.prototype.error=function(n){this.isStopped?vr(Tp(n),this):(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped?vr(Sp,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(sn),Ap=Function.prototype.bind;function fr(a,e){return Ap.call(a,e)}var Mp=function(){function a(e){this.partialObserver=e}return a.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){si(r)}},a.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){si(r)}else si(e)},a.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){si(n)}},a}(),Bn=function(a){Jt(e,a);function e(n,r,o){var u=a.call(this)||this,c;if(K(n)||!n)c={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:o!=null?o:void 0};else{var h;u&&xi.useDeprecatedNextContext?(h=Object.create(n),h.unsubscribe=function(){return u.unsubscribe()},c={next:n.next&&fr(n.next,h),error:n.error&&fr(n.error,h),complete:n.complete&&fr(n.complete,h)}):c=n}return u.destination=new Mp(c),u}return e}(qr);function si(a){Va(a)}function Op(a){throw a}function vr(a,e){var n=xi.onStoppedNotification;n&&_i.setTimeout(function(){return n(a,e)})}var Lp={closed:!0,next:bi,error:Op,complete:bi},Yr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function be(a){return a}function Dp(a){return a.length===0?be:a.length===1?a[0]:function(n){return a.reduce(function(r,o){return o(r)},n)}}var pt=function(){function a(e){e&&(this._subscribe=e)}return a.prototype.lift=function(e){var n=new a;return n.source=this,n.operator=e,n},a.prototype.subscribe=function(e,n,r){var o=this,u=Ip(e)?e:new Bn(e,n,r);return ai(function(){var c=o,h=c.operator,f=c.source;u.add(h?h.call(u,f):f?o._subscribe(u):o._trySubscribe(u))}),u},a.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},a.prototype.forEach=function(e,n){var r=this;return n=wo(n),new n(function(o,u){var c=new Bn({next:function(h){try{e(h)}catch(f){u(f),c.unsubscribe()}},error:u,complete:o});r.subscribe(c)})},a.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},a.prototype[Yr]=function(){return this},a.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Dp(e)(this)},a.prototype.toPromise=function(e){var n=this;return e=wo(e),new e(function(r,o){var u;n.subscribe(function(c){return u=c},function(c){return o(c)},function(){return r(u)})})},a.create=function(e){return new a(e)},a}();function wo(a){var e;return(e=a!=null?a:xi.Promise)!==null&&e!==void 0?e:Promise}function Rp(a){return a&&K(a.next)&&K(a.error)&&K(a.complete)}function Ip(a){return a&&a instanceof qr||Rp(a)&&Ta(a)}function Np(a){return K(a==null?void 0:a.lift)}function it(a){return function(e){if(Np(e))return e.lift(function(n){try{return a(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(a,e,n,r,o){return new Fp(a,e,n,r,o)}var Fp=function(a){Jt(e,a);function e(n,r,o,u,c,h){var f=a.call(this,n)||this;return f.onFinalize=c,f.shouldUnsubscribe=h,f._next=r?function(p){try{r(p)}catch(v){n.error(v)}}:a.prototype._next,f._error=u?function(p){try{u(p)}catch(v){n.error(v)}finally{this.unsubscribe()}}:a.prototype._error,f._complete=o?function(){try{o()}catch(p){n.error(p)}finally{this.unsubscribe()}}:a.prototype._complete,f}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;a.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(qr),Aa={now:function(){return(Aa.delegate||performance).now()},delegate:void 0},Mn={schedule:function(a){var e=requestAnimationFrame,n=cancelAnimationFrame,r=Mn.delegate;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);var o=e(function(u){n=void 0,a(u)});return new sn(function(){return n==null?void 0:n(o)})},requestAnimationFrame:function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var n=Mn.delegate;return((n==null?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Dt([],Et(a)))},cancelAnimationFrame:function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var n=Mn.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Dt([],Et(a)))},delegate:void 0};function Id(a){return a?Ma(a):Bp}function Ma(a){return new pt(function(e){var n=a||Aa,r=n.now(),o=0,u=function(){e.closed||(o=Mn.requestAnimationFrame(function(c){o=0;var h=n.now();e.next({timestamp:a?h:c,elapsed:h-r}),u()}))};return u(),function(){o&&Mn.cancelAnimationFrame(o)}})}var Bp=Ma(),Up=$r(function(a){return function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Gr=function(a){Jt(e,a);function e(){var n=a.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new yo(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Up},e.prototype.next=function(n){var r=this;ai(function(){var o,u;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var c=rn(r.currentObservers),h=c.next();!h.done;h=c.next()){var f=h.value;f.next(n)}}catch(p){o={error:p}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}}})},e.prototype.error=function(n){var r=this;ai(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},e.prototype.complete=function(){var n=this;ai(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),a.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,o=this,u=o.hasError,c=o.isStopped,h=o.observers;return u||c?Sa:(this.currentObservers=null,h.push(n),new sn(function(){r.currentObservers=null,mi(h,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,u=r.thrownError,c=r.isStopped;o?n.error(u):c&&n.complete()},e.prototype.asObservable=function(){var n=new pt;return n.source=this,n},e.create=function(n,r){return new yo(n,r)},e}(pt),yo=function(a){Jt(e,a);function e(n,r){var o=a.call(this)||this;return o.destination=n,o.source=r,o}return e.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},e.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Sa},e}(Gr),Wr={now:function(){return(Wr.delegate||Date).now()},delegate:void 0},jp=function(a){Jt(e,a);function e(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=Wr);var u=a.call(this)||this;return u._bufferSize=n,u._windowTime=r,u._timestampProvider=o,u._buffer=[],u._infiniteTimeWindow=!0,u._infiniteTimeWindow=r===1/0,u._bufferSize=Math.max(1,n),u._windowTime=Math.max(1,r),u}return e.prototype.next=function(n){var r=this,o=r.isStopped,u=r._buffer,c=r._infiniteTimeWindow,h=r._timestampProvider,f=r._windowTime;o||(u.push(n),!c&&u.push(h.now()+f)),this._trimBuffer(),a.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,u=o._infiniteTimeWindow,c=o._buffer,h=c.slice(),f=0;f<h.length&&!n.closed;f+=u?1:2)n.next(h[f]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,u=n._buffer,c=n._infiniteTimeWindow,h=(c?1:2)*r;if(r<1/0&&h<u.length&&u.splice(0,u.length-h),!c){for(var f=o.now(),p=0,v=1;v<u.length&&u[v]<=f;v+=2)p=v;p&&u.splice(0,p+1)}},e}(Gr),zp=function(a){Jt(e,a);function e(n,r){return a.call(this)||this}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),this},e}(sn),gi={setInterval:function(a,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=gi.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Dt([a,e],Et(n))):setInterval.apply(void 0,Dt([a,e],Et(n)))},clearInterval:function(a){var e=gi.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(a)},delegate:void 0},Kp=function(a){Jt(e,a);function e(n,r){var o=a.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return e.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var u=this.id,c=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(c,u,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(c,this.id,r),this},e.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),gi.setInterval(n.flush.bind(n,this),o)},e.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&gi.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var o=!1,u;try{this.work(n)}catch(c){o=!0,u=c||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),u},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,u=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,mi(u,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,a.prototype.unsubscribe.call(this)}},e}(zp),xo=function(){function a(e,n){n===void 0&&(n=a.now),this.schedulerActionCtor=e,this.now=n}return a.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},a.now=Wr.now,a}(),$p=function(a){Jt(e,a);function e(n,r){r===void 0&&(r=xo.now);var o=a.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},e}(xo),Oa=new $p(Kp),Hp=Oa,qp=new pt(function(a){return a.complete()});function La(a){return a&&K(a.schedule)}function Da(a){return a[a.length-1]}function Ra(a){return K(Da(a))?a.pop():void 0}function Xr(a){return La(Da(a))?a.pop():void 0}var Zr=function(a){return a&&typeof a.length=="number"&&typeof a!="function"};function Ia(a){return K(a==null?void 0:a.then)}function Na(a){return K(a[Yr])}function Fa(a){return Symbol.asyncIterator&&K(a==null?void 0:a[Symbol.asyncIterator])}function Ba(a){return new TypeError("You provided "+(a!==null&&typeof a=="object"?"an invalid object":"'"+a+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Yp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ua=Yp();function ja(a){return K(a==null?void 0:a[Ua])}function za(a){return Ep(this,arguments,function(){var n,r,o,u;return ka(this,function(c){switch(c.label){case 0:n=a.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Ze(n.read())];case 3:return r=c.sent(),o=r.value,u=r.done,u?[4,Ze(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Ze(o)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Ka(a){return K(a==null?void 0:a.getReader)}function kt(a){if(a instanceof pt)return a;if(a!=null){if(Na(a))return Gp(a);if(Zr(a))return Wp(a);if(Ia(a))return Xp(a);if(Fa(a))return $a(a);if(ja(a))return Zp(a);if(Ka(a))return Qp(a)}throw Ba(a)}function Gp(a){return new pt(function(e){var n=a[Yr]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wp(a){return new pt(function(e){for(var n=0;n<a.length&&!e.closed;n++)e.next(a[n]);e.complete()})}function Xp(a){return new pt(function(e){a.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Va)})}function Zp(a){return new pt(function(e){var n,r;try{for(var o=rn(a),u=o.next();!u.done;u=o.next()){var c=u.value;if(e.next(c),e.closed)return}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()})}function $a(a){return new pt(function(e){Jp(a,e).catch(function(n){return e.error(n)})})}function Qp(a){return $a(za(a))}function Jp(a,e){var n,r,o,u;return Pp(this,void 0,void 0,function(){var c,h;return ka(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=kp(a),f.label=1;case 1:return[4,n.next()];case 2:if(r=f.sent(),!!r.done)return[3,4];if(c=r.value,e.next(c),e.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=f.sent(),o={error:h},[3,11];case 6:return f.trys.push([6,,9,10]),r&&!r.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Xt(a,e,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var u=e.schedule(function(){n(),o?a.add(this.schedule(null,r)):this.unsubscribe()},r);if(a.add(u),!o)return u}function Ha(a,e){return e===void 0&&(e=0),it(function(n,r){n.subscribe(nt(r,function(o){return Xt(r,a,function(){return r.next(o)},e)},function(){return Xt(r,a,function(){return r.complete()},e)},function(o){return Xt(r,a,function(){return r.error(o)},e)}))})}function qa(a,e){return e===void 0&&(e=0),it(function(n,r){r.add(a.schedule(function(){return n.subscribe(r)},e))})}function td(a,e){return kt(a).pipe(qa(e),Ha(e))}function ed(a,e){return kt(a).pipe(qa(e),Ha(e))}function nd(a,e){return new pt(function(n){var r=0;return e.schedule(function(){r===a.length?n.complete():(n.next(a[r++]),n.closed||this.schedule())})})}function id(a,e){return new pt(function(n){var r;return Xt(n,e,function(){r=a[Ua](),Xt(n,e,function(){var o,u,c;try{o=r.next(),u=o.value,c=o.done}catch(h){n.error(h);return}c?n.complete():n.next(u)},0,!0)}),function(){return K(r==null?void 0:r.return)&&r.return()}})}function Ya(a,e){if(!a)throw new Error("Iterable cannot be null");return new pt(function(n){Xt(n,e,function(){var r=a[Symbol.asyncIterator]();Xt(n,e,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function rd(a,e){return Ya(za(a),e)}function sd(a,e){if(a!=null){if(Na(a))return td(a,e);if(Zr(a))return nd(a,e);if(Ia(a))return ed(a,e);if(Fa(a))return Ya(a,e);if(ja(a))return id(a,e);if(Ka(a))return rd(a,e)}throw Ba(a)}function Qr(a,e){return e?sd(a,e):kt(a)}var Ga=$r(function(a){return function(){a(this),this.name="EmptyError",this.message="no elements in sequence"}});function od(a){return a instanceof Date&&!isNaN(a)}function Wa(a,e){return it(function(n,r){var o=0;n.subscribe(nt(r,function(u){r.next(a.call(e,u,o++))}))})}var ad=Array.isArray;function ld(a,e){return ad(e)?a.apply(void 0,Dt([],Et(e))):a(e)}function Xa(a){return Wa(function(e){return ld(a,e)})}var ud=Array.isArray,cd=Object.getPrototypeOf,hd=Object.prototype,pd=Object.keys;function dd(a){if(a.length===1){var e=a[0];if(ud(e))return{args:e,keys:null};if(fd(e)){var n=pd(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:a,keys:null}}function fd(a){return a&&typeof a=="object"&&cd(a)===hd}function vd(a,e){return a.reduce(function(n,r,o){return n[r]=e[o],n},{})}function Nd(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var n=Xr(a),r=Ra(a),o=dd(a),u=o.args,c=o.keys;if(u.length===0)return Qr([],n);var h=new pt(md(u,n,c?function(f){return vd(c,f)}:be));return r?h.pipe(Xa(r)):h}function md(a,e,n){return n===void 0&&(n=be),function(r){Co(e,function(){for(var o=a.length,u=new Array(o),c=o,h=o,f=function(v){Co(e,function(){var g=Qr(a[v],e),w=!1;g.subscribe(nt(r,function(m){u[v]=m,w||(w=!0,h--),h||r.next(n(u.slice()))},function(){--c||r.complete()}))},r)},p=0;p<o;p++)f(p)},r)}}function Co(a,e,n){a?Xt(n,a,e):e()}function _d(a,e,n,r,o,u,c,h){var f=[],p=0,v=0,g=!1,w=function(){g&&!f.length&&!p&&e.complete()},m=function(_){return p<r?C(_):f.push(_)},C=function(_){u&&e.next(_),p++;var y=!1;kt(n(_,v++)).subscribe(nt(e,function(E){o==null||o(E),u?m(E):e.next(E)},function(){y=!0},void 0,function(){if(y)try{p--;for(var E=function(){var P=f.shift();c?Xt(e,c,function(){return C(P)}):C(P)};f.length&&p<r;)E();w()}catch(P){e.error(P)}}))};return a.subscribe(nt(e,m,function(){g=!0,w()})),function(){h==null||h()}}function Jr(a,e,n){return n===void 0&&(n=1/0),K(e)?Jr(function(r,o){return Wa(function(u,c){return e(r,u,o,c)})(kt(a(r,o)))},n):(typeof e=="number"&&(n=e),it(function(r,o){return _d(r,o,a,n)}))}function bd(a){return a===void 0&&(a=1/0),Jr(be,a)}function gd(){return bd(1)}function Po(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return gd()(Qr(a,Xr(a)))}var wd=["addListener","removeListener"],yd=["addEventListener","removeEventListener"],xd=["on","off"];function Eo(a,e,n,r){if(K(n)&&(r=n,n=void 0),r)return Eo(a,e,n).pipe(Xa(r));var o=Et(Ed(a)?yd.map(function(h){return function(f){return a[h](e,f,n)}}):Cd(a)?wd.map(ko(a,e)):Pd(a)?xd.map(ko(a,e)):[],2),u=o[0],c=o[1];if(!u&&Zr(a))return Jr(function(h){return Eo(h,e,n)})(kt(a));if(!u)throw new TypeError("Invalid event target");return new pt(function(h){var f=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return h.next(1<p.length?p:p[0])};return u(f),function(){return c(f)}})}function ko(a,e){return function(n){return function(r){return a[n](e,r)}}}function Cd(a){return K(a.addListener)&&K(a.removeListener)}function Pd(a){return K(a.on)&&K(a.off)}function Ed(a){return K(a.addEventListener)&&K(a.removeEventListener)}function kd(a,e,n){a===void 0&&(a=0),n===void 0&&(n=Hp);var r=-1;return e!=null&&(La(e)?n=e:r=e),new pt(function(o){var u=od(a)?+a-n.now():a;u<0&&(u=0);var c=0;return n.schedule(function(){o.closed||(o.next(c++),0<=r?this.schedule(void 0,r):o.complete())},u)})}function Sd(a,e){return it(function(n,r){var o=0;n.subscribe(nt(r,function(u){return a.call(e,u,o++)&&r.next(u)}))})}function Td(a){return it(function(e,n){var r=null,o=!1,u;r=e.subscribe(nt(n,void 0,void 0,function(c){u=kt(a(c,Td(a)(e))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function Vd(a,e,n,r,o){return function(u,c){var h=n,f=e,p=0;u.subscribe(nt(c,function(v){var g=p++;f=h?a(f,v,g):(h=!0,v),r&&c.next(f)},o&&function(){h&&c.next(f),c.complete()}))}}function Fd(a,e){return e===void 0&&(e=Oa),it(function(n,r){var o=null,u=null,c=null,h=function(){if(o){o.unsubscribe(),o=null;var p=u;u=null,r.next(p)}};function f(){var p=c+a,v=e.now();if(v<p){o=this.schedule(void 0,p-v),r.add(o);return}h()}n.subscribe(nt(r,function(p){u=p,c=e.now(),o||(o=e.schedule(f,a),r.add(o))},function(){h(),r.complete()},void 0,function(){u=o=null}))})}function Ad(a){return it(function(e,n){var r=!1;e.subscribe(nt(n,function(o){r=!0,n.next(o)},function(){r||n.next(a),n.complete()}))})}function Md(a){return a<=0?function(){return qp}:it(function(e,n){var r=0;e.subscribe(nt(n,function(o){++r<=a&&(n.next(o),a<=r&&n.complete())}))})}function Od(a){return a===void 0&&(a=Ld),it(function(e,n){var r=!1;e.subscribe(nt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(a())}))})}function Ld(){return new Ga}function Bd(a){return it(function(e,n){try{e.subscribe(n)}finally{n.add(a)}})}function Ud(a,e){var n=arguments.length>=2;return function(r){return r.pipe(a?Sd(function(o,u){return a(o,u,r)}):be,Md(1),n?Ad(e):Od(function(){return new Ga}))}}function jd(a){a===void 0&&(a=1/0);var e;a&&typeof a=="object"?e=a:e={count:a};var n=e.count,r=n===void 0?1/0:n,o=e.delay,u=e.resetOnSuccess,c=u===void 0?!1:u;return r<=0?be:it(function(h,f){var p=0,v,g=function(){var w=!1;v=h.subscribe(nt(f,function(m){c&&(p=0),f.next(m)},void 0,function(m){if(p++<r){var C=function(){v?(v.unsubscribe(),v=null,g()):w=!0};if(o!=null){var _=typeof o=="number"?kd(o):kt(o(m,p)),y=nt(f,function(){y.unsubscribe(),C()},function(){f.complete()});_.subscribe(y)}else C()}else f.error(m)})),w&&(v.unsubscribe(),v=null,g())};g()})}function zd(a,e){return it(Vd(a,e,arguments.length>=2,!0))}function Dd(a){a===void 0&&(a={});var e=a.connector,n=e===void 0?function(){return new Gr}:e,r=a.resetOnError,o=r===void 0?!0:r,u=a.resetOnComplete,c=u===void 0?!0:u,h=a.resetOnRefCountZero,f=h===void 0?!0:h;return function(p){var v,g,w,m=0,C=!1,_=!1,y=function(){g==null||g.unsubscribe(),g=void 0},E=function(){y(),v=w=void 0,C=_=!1},P=function(){var k=v;E(),k==null||k.unsubscribe()};return it(function(k,V){m++,!_&&!C&&y();var S=w=w!=null?w:n();V.add(function(){m--,m===0&&!_&&!C&&(g=mr(P,f))}),S.subscribe(V),!v&&m>0&&(v=new Bn({next:function(T){return S.next(T)},error:function(T){_=!0,y(),g=mr(E,o,T),S.error(T)},complete:function(){C=!0,y(),g=mr(E,c),S.complete()}}),kt(k).subscribe(v))})(p)}}function mr(a,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){a();return}if(e!==!1){var o=new Bn({next:function(){o.unsubscribe(),a()}});return kt(e.apply(void 0,Dt([],Et(n)))).subscribe(o)}}function Kd(a,e,n){var r,o,u,c,h=!1;return a&&typeof a=="object"?(r=a.bufferSize,c=r===void 0?1/0:r,o=a.windowTime,e=o===void 0?1/0:o,u=a.refCount,h=u===void 0?!1:u,n=a.scheduler):c=a!=null?a:1/0,Dd({connector:function(){return new jp(c,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function $d(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var n=Xr(a);return it(function(r,o){(n?Po(a,r,n):Po(a,r)).subscribe(o)})}function Hd(a,e){return it(function(n,r){var o=null,u=0,c=!1,h=function(){return c&&!o&&r.complete()};n.subscribe(nt(r,function(f){o==null||o.unsubscribe();var p=0,v=u++;kt(a(f,v)).subscribe(o=nt(r,function(g){return r.next(e?e(f,g,v,p++):g)},function(){o=null,h()}))},function(){c=!0,h()}))})}function qd(a){return it(function(e,n){kt(a).subscribe(nt(n,function(){return n.complete()},bi)),!n.closed&&e.subscribe(n)})}function Yd(a,e,n){var r=K(a)||e||n?{next:a,error:e,complete:n}:a;return r?it(function(o,u){var c;(c=r.subscribe)===null||c===void 0||c.call(r);var h=!0;o.subscribe(nt(u,function(f){var p;(p=r.next)===null||p===void 0||p.call(r,f),u.next(f)},function(){var f;h=!1,(f=r.complete)===null||f===void 0||f.call(r),u.complete()},function(f){var p;h=!1,(p=r.error)===null||p===void 0||p.call(r,f),u.error(f)},function(){var f,p;h&&((f=r.unsubscribe)===null||f===void 0||f.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):be}function Gd(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var n=Ra(a);return it(function(r,o){for(var u=a.length,c=new Array(u),h=a.map(function(){return!1}),f=!1,p=function(g){kt(a[g]).subscribe(nt(o,function(w){c[g]=w,!f&&!h[g]&&(h[g]=!0,(f=h.every(be))&&(h=null))},bi))},v=0;v<u;v++)p(v);r.subscribe(nt(o,function(g){if(f){var w=Dt([g],Et(c));o.next(n?n.apply(void 0,Dt([],Et(w))):w)}}))})}export{qp as E,Gr as S,Ud as a,Sd as b,Pa as c,Fd as d,zd as e,Eo as f,Id as g,Rd as h,Cp as i,Nd as j,Qr as k,qd as l,Yd as m,Bd as n,Td as o,Kd as p,kd as q,jd as r,$d as s,bo as t,Hd as u,Po as v,Gd as w};
