function qt(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function xo(l,e){l.prototype=Object.create(e.prototype),l.prototype.constructor=l,l.__proto__=e}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ct={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ze={duration:.5,overwrite:!1,delay:0},ki,Vt=1e8,Y=1/Vt,pi=Math.PI*2,uh=pi/4,ch=0,Co=Math.sqrt,hh=Math.cos,ph=Math.sin,it=function(e){return typeof e=="string"},rt=function(e){return typeof e=="function"},Wt=function(e){return typeof e=="number"},Si=function(e){return typeof e=="undefined"},Qt=function(e){return typeof e=="object"},_t=function(e){return e!==!1},Po=function(){return typeof window!="undefined"},nr=function(e){return rt(e)||it(e)},Eo=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ut=Array.isArray,di=/(?:-?\.?\d|\.)+/gi,ko=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,qe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ni=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,So=/[+-]=-?[.\d]+/,Vo=/[^,'"\[\]\s]+/gi,dh=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Z,Ft,fi,Vi,Pt={},ar={},Ao,To=function(e){return(ar=Oe(e,Pt))&&Lt},Ai=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},lr=function(e,n){return!n&&console.warn(e)},Mo=function(e,n){return e&&(Pt[e]=n)&&ar&&(ar[e]=n)||Pt},On=function(){return 0},Ti={},ce=[],vi={},Oo,yt={},ri={},Qs=30,sr=[],Mi="",Oi=function(e){var n=e[0],s,o;if(Qt(n)||rt(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(o=sr.length;o--&&!sr[o].targetTest(n););s=sr[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new ta(e[o],s)))||e.splice(o,1);return e},Ae=function(e){return e._gsap||Oi(At(e))[0]._gsap},Lo=function(e,n,s){return(s=e[n])&&rt(s)?e[n]():Si(s)&&e.getAttribute&&e.getAttribute(n)||s},bt=function(e,n){return(e=e.split(",")).forEach(n)||e},et=function(e){return Math.round(e*1e5)/1e5||0},at=function(e){return Math.round(e*1e7)/1e7||0},Ge=function(e,n){var s=n.charAt(0),o=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+o:s==="-"?e-o:s==="*"?e*o:e/o},fh=function(e,n){for(var s=n.length,o=0;e.indexOf(n[o])<0&&++o<s;);return o<s},ur=function(){var e=ce.length,n=ce.slice(0),s,o;for(vi={},ce.length=0,s=0;s<e;s++)o=n[s],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Do=function(e,n,s,o){ce.length&&ur(),e.render(n,s,o),ce.length&&ur()},Ro=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Vo).length<2?n:it(e)?e.trim():e},Io=function(e){return e},Mt=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},vh=function(e){return function(n,s){for(var o in s)o in n||o==="duration"&&e||o==="ease"||(n[o]=s[o])}},Oe=function(e,n){for(var s in n)e[s]=n[s];return e},Zs=function l(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Qt(n[s])?l(e[s]||(e[s]={}),n[s]):n[s]);return e},cr=function(e,n){var s={},o;for(o in e)o in n||(s[o]=e[o]);return s},Vn=function(e){var n=e.parent||Z,s=e.keyframes?vh(ut(e.keyframes)):Mt;if(_t(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},mh=function(e,n){for(var s=e.length,o=s===n.length;o&&s--&&e[s]===n[s];);return s<0},No=function(e,n,s,o,u){s===void 0&&(s="_first"),o===void 0&&(o="_last");var c=e[o],h;if(u)for(h=n[u];c&&c[u]>h;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[o]=n,n._prev=c,n.parent=n._dp=e,n},br=function(e,n,s,o){s===void 0&&(s="_first"),o===void 0&&(o="_last");var u=n._prev,c=n._next;u?u._next=c:e[s]===n&&(e[s]=c),c?c._prev=u:e[o]===n&&(e[o]=u),n._next=n._prev=n.parent=null},Yt=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Te=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},_h=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},bh=function l(e){return!e||e._ts&&l(e.parent)},Js=function(e){return e._repeat?Je(e._tTime,e=e.duration()+e._rDelay)*e:0},Je=function(e,n){var s=Math.floor(e/=n);return e&&s===e?s-1:s},hr=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},gr=function(e){return e._end=at(e._start+(e._tDur/Math.abs(e._ts||e._rts||Y)||0))},Li=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=at(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),gr(e),s._dirty||Te(s,e)),e},Bo=function(e,n){var s;if((n._time||n._initted&&!n._dur)&&(s=hr(e.rawTime(),n),(!n._dur||Fn(0,n.totalDuration(),s)-n._tTime>Y)&&n.render(s,!0)),Te(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-Y}},Ut=function(e,n,s,o){return n.parent&&Yt(n),n._start=at((Wt(s)?s:s||e!==Z?St(e,s,n):e._time)+n._delay),n._end=at(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),No(e,n,"_first","_last",e._sort?"_start":0),mi(n)||(e._recent=n),o||Bo(e,n),e},Fo=function(e,n){return(Pt.ScrollTrigger||Ai("scrollTrigger",n))&&Pt.ScrollTrigger.create(n,e)},Uo=function(e,n,s,o){if(Ri(e,n),!e._initted)return 1;if(!s&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Oo!==xt.frame)return ce.push(e),e._lazy=[n,o],1},gh=function l(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||l(n))},mi=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},wh=function(e,n,s,o){var u=e.ratio,c=n<0||!n&&(!e._start&&gh(e)&&!(!e._initted&&mi(e))||(e._ts<0||e._dp._ts<0)&&!mi(e))?0:1,h=e._rDelay,f=0,p,v,g;if(h&&e._repeat&&(f=Fn(0,e._tDur,n),v=Je(f,h),e._yoyo&&v&1&&(c=1-c),v!==Je(e._tTime,h)&&(u=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==u||o||e._zTime===Y||!n&&e._zTime){if(!e._initted&&Uo(e,n,o,s))return;for(g=e._zTime,e._zTime=n||(s?Y:0),s||(s=n&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=f,p=e._pt;p;)p.r(c,p.d),p=p._next;e._startAt&&n<0&&e._startAt.render(n,!0,!0),e._onUpdate&&!s&&Tt(e,"onUpdate"),f&&e._repeat&&!s&&e.parent&&Tt(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===c&&(c&&Yt(e,1),s||(Tt(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},yh=function(e,n,s){var o;if(s>n)for(o=e._first;o&&o._start<=s;){if(o.data==="isPause"&&o._start>n)return o;o=o._next}else for(o=e._last;o&&o._start>=s;){if(o.data==="isPause"&&o._start<n)return o;o=o._prev}},tn=function(e,n,s,o){var u=e._repeat,c=at(n)||0,h=e._tTime/e._tDur;return h&&!o&&(e._time*=c/e._dur),e._dur=c,e._tDur=u?u<0?1e10:at(c*(u+1)+e._rDelay*u):c,h>0&&!o?Li(e,e._tTime=e._tDur*h):e.parent&&gr(e),s||Te(e.parent,e),e},to=function(e){return e instanceof mt?Te(e):tn(e,e._dur)},xh={_start:0,endTime:On,totalDuration:On},St=function l(e,n,s){var o=e.labels,u=e._recent||xh,c=e.duration()>=Vt?u.endTime(!1):e._dur,h,f,p;return it(n)&&(isNaN(n)||n in o)?(f=n.charAt(0),p=n.substr(-1)==="%",h=n.indexOf("="),f==="<"||f===">"?(h>=0&&(n=n.replace(/=/,"")),(f==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(p?(h<0?u:s).totalDuration()/100:1)):h<0?(n in o||(o[n]=c),o[n]):(f=parseFloat(n.charAt(h-1)+n.substr(h+1)),p&&s&&(f=f/100*(ut(s)?s[0]:s).totalDuration()),h>1?l(e,n.substr(0,h-1),s)+f:c+f)):n==null?c:+n},An=function(e,n,s){var o=Wt(n[1]),u=(o?2:1)+(e<2?0:1),c=n[u],h,f;if(o&&(c.duration=n[1]),c.parent=s,e){for(h=c,f=s;f&&!("immediateRender"in h);)h=f.vars.defaults||{},f=_t(f.vars.inherit)&&f.parent;c.immediateRender=_t(h.immediateRender),e<2?c.runBackwards=1:c.startAt=n[u-1]}return new nt(n[0],c,n[u+1])},ve=function(e,n){return e||e===0?n(e):n},Fn=function(e,n,s){return s<e?e:s>n?n:s},lt=function(e,n){return!it(e)||!(n=dh.exec(e))?"":n[1]},Ch=function(e,n,s){return ve(s,function(o){return Fn(e,n,o)})},_i=[].slice,zo=function(e,n){return e&&Qt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Qt(e[0]))&&!e.nodeType&&e!==Ft},Ph=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(o){var u;return it(o)&&!n||zo(o,1)?(u=s).push.apply(u,At(o)):s.push(o)})||s},At=function(e,n,s){return it(e)&&!s&&(fi||!en())?_i.call((n||Vi).querySelectorAll(e),0):ut(e)?Ph(e,s):zo(e)?_i.call(e,0):e?[e]:[]},Eh=function(e){return e=At(e)[0]||lr("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return At(n,s.querySelectorAll?s:s===e?lr("Invalid scope")||Vi.createElement("div"):e)}},jo=function(e){return e.sort(function(){return .5-Math.random()})},Ko=function(e){if(rt(e))return e;var n=Qt(e)?e:{each:e},s=Me(n.ease),o=n.from||0,u=parseFloat(n.base)||0,c={},h=o>0&&o<1,f=isNaN(o)||h,p=n.axis,v=o,g=o;return it(o)?v=g={center:.5,edges:.5,end:1}[o]||0:!h&&f&&(v=o[0],g=o[1]),function(w,m,C){var b=(C||n).length,x=c[b],E,P,k,T,S,V,L,O,M;if(!x){if(M=n.grid==="auto"?0:(n.grid||[1,Vt])[1],!M){for(L=-Vt;L<(L=C[M++].getBoundingClientRect().left)&&M<b;);M--}for(x=c[b]=[],E=f?Math.min(M,b)*v-.5:o%M,P=M===Vt?0:f?b*g/M-.5:o/M|0,L=0,O=Vt,V=0;V<b;V++)k=V%M-E,T=P-(V/M|0),x[V]=S=p?Math.abs(p==="y"?T:k):Co(k*k+T*T),S>L&&(L=S),S<O&&(O=S);o==="random"&&jo(x),x.max=L-O,x.min=O,x.v=b=(parseFloat(n.amount)||parseFloat(n.each)*(M>b?b-1:p?p==="y"?b/M:M:Math.max(M,b/M))||0)*(o==="edges"?-1:1),x.b=b<0?u-b:u,x.u=lt(n.amount||n.each)||0,s=s&&b<0?Qo(s):s}return b=(x[w]-x.min)/x.max||0,at(x.b+(s?s(b):b)*x.v)+x.u}},bi=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var o=Math.round(parseFloat(s)/e)*e*n;return(o-o%1)/n+(Wt(s)?0:lt(s))}},$o=function(e,n){var s=ut(e),o,u;return!s&&Qt(e)&&(o=s=e.radius||Vt,e.values?(e=At(e.values),(u=!Wt(e[0]))&&(o*=o)):e=bi(e.increment)),ve(n,s?rt(e)?function(c){return u=e(c),Math.abs(u-c)<=o?u:c}:function(c){for(var h=parseFloat(u?c.x:c),f=parseFloat(u?c.y:0),p=Vt,v=0,g=e.length,w,m;g--;)u?(w=e[g].x-h,m=e[g].y-f,w=w*w+m*m):w=Math.abs(e[g]-h),w<p&&(p=w,v=g);return v=!o||p<=o?e[v]:c,u||v===c||Wt(c)?v:v+lt(c)}:bi(e))},Ho=function(e,n,s,o){return ve(ut(e)?!n:s===!0?!!(s=0):!o,function(){return ut(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(o=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*o)/o})},kh=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(o){return n.reduce(function(u,c){return c(u)},o)}},Sh=function(e,n){return function(s){return e(parseFloat(s))+(n||lt(s))}},Vh=function(e,n,s){return Yo(e,n,0,1,s)},qo=function(e,n,s){return ve(s,function(o){return e[~~n(o)]})},Ah=function l(e,n,s){var o=n-e;return ut(e)?qo(e,l(0,e.length),n):ve(s,function(u){return(o+(u-e)%o)%o+e})},Th=function l(e,n,s){var o=n-e,u=o*2;return ut(e)?qo(e,l(0,e.length-1),n):ve(s,function(c){return c=(u+(c-e)%u)%u||0,e+(c>o?u-c:c)})},Ln=function(e){for(var n=0,s="",o,u,c,h;~(o=e.indexOf("random(",n));)c=e.indexOf(")",o),h=e.charAt(o+7)==="[",u=e.substr(o+7,c-o-7).match(h?Vo:di),s+=e.substr(n,o-n)+Ho(h?u:+u[0],h?0:+u[1],+u[2]||1e-5),n=c+1;return s+e.substr(n,e.length-n)},Yo=function(e,n,s,o,u){var c=n-e,h=o-s;return ve(u,function(f){return s+((f-e)/c*h||0)})},Mh=function l(e,n,s,o){var u=isNaN(e+n)?0:function(m){return(1-m)*e+m*n};if(!u){var c=it(e),h={},f,p,v,g,w;if(s===!0&&(o=1)&&(s=null),c)e={p:e},n={p:n};else if(ut(e)&&!ut(n)){for(v=[],g=e.length,w=g-2,p=1;p<g;p++)v.push(l(e[p-1],e[p]));g--,u=function(C){C*=g;var b=Math.min(w,~~C);return v[b](C-b)},s=n}else o||(e=Oe(ut(e)?[]:{},e));if(!v){for(f in n)Di.call(h,e,f,"get",n[f]);u=function(C){return Bi(C,h)||(c?e.p:e)}}}return ve(s,u)},eo=function(e,n,s){var o=e.labels,u=Vt,c,h,f;for(c in o)h=o[c]-n,h<0==!!s&&h&&u>(h=Math.abs(h))&&(f=c,u=h);return f},Tt=function(e,n,s){var o=e.vars,u=o[n],c,h;if(!!u)return c=o[n+"Params"],h=o.callbackScope||e,s&&ce.length&&ur(),c?u.apply(h,c):u.call(h)},kn=function(e){return Yt(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&Tt(e,"onInterrupt"),e},Ye,Oh=function(e){e=!e.name&&e.default||e;var n=e.name,s=rt(e),o=n&&!s&&e.init?function(){this._props=[]}:e,u={init:On,render:Bi,add:Di,kill:Gh,modifier:Yh,rawVars:0},c={targetTest:0,get:0,getSetter:Ni,aliases:{},register:0};if(en(),e!==o){if(yt[n])return;Mt(o,Mt(cr(e,u),c)),Oe(o.prototype,Oe(u,cr(e,c))),yt[o.prop=n]=o,e.targetTest&&(sr.push(o),Ti[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Mo(n,o),e.register&&e.register(Lt,o,gt)},q=255,Sn={aqua:[0,q,q],lime:[0,q,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,q],navy:[0,0,128],white:[q,q,q],olive:[128,128,0],yellow:[q,q,0],orange:[q,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[q,0,0],pink:[q,192,203],cyan:[0,q,q],transparent:[q,q,q,0]},ii=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*q+.5|0},Go=function(e,n,s){var o=e?Wt(e)?[e>>16,e>>8&q,e&q]:0:Sn.black,u,c,h,f,p,v,g,w,m,C;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Sn[e])o=Sn[e];else if(e.charAt(0)==="#"){if(e.length<6&&(u=e.charAt(1),c=e.charAt(2),h=e.charAt(3),e="#"+u+u+c+c+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&q,o&q,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&q,e&q]}else if(e.substr(0,3)==="hsl"){if(o=C=e.match(di),!n)f=+o[0]%360/360,p=+o[1]/100,v=+o[2]/100,c=v<=.5?v*(p+1):v+p-v*p,u=v*2-c,o.length>3&&(o[3]*=1),o[0]=ii(f+1/3,u,c),o[1]=ii(f,u,c),o[2]=ii(f-1/3,u,c);else if(~e.indexOf("="))return o=e.match(ko),s&&o.length<4&&(o[3]=1),o}else o=e.match(di)||Sn.transparent;o=o.map(Number)}return n&&!C&&(u=o[0]/q,c=o[1]/q,h=o[2]/q,g=Math.max(u,c,h),w=Math.min(u,c,h),v=(g+w)/2,g===w?f=p=0:(m=g-w,p=v>.5?m/(2-g-w):m/(g+w),f=g===u?(c-h)/m+(c<h?6:0):g===c?(h-u)/m+2:(u-c)/m+4,f*=60),o[0]=~~(f+.5),o[1]=~~(p*100+.5),o[2]=~~(v*100+.5)),s&&o.length<4&&(o[3]=1),o},Xo=function(e){var n=[],s=[],o=-1;return e.split(he).forEach(function(u){var c=u.match(qe)||[];n.push.apply(n,c),s.push(o+=c.length+1)}),n.c=s,n},no=function(e,n,s){var o="",u=(e+o).match(he),c=n?"hsla(":"rgba(",h=0,f,p,v,g;if(!u)return e;if(u=u.map(function(w){return(w=Go(w,n,1))&&c+(n?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),s&&(v=Xo(e),f=s.c,f.join(o)!==v.c.join(o)))for(p=e.replace(he,"1").split(qe),g=p.length-1;h<g;h++)o+=p[h]+(~f.indexOf(h)?u.shift()||c+"0,0,0,0)":(v.length?v:u.length?u:s).shift());if(!p)for(p=e.split(he),g=p.length-1;h<g;h++)o+=p[h]+u[h];return o+p[g]},he=function(){var l="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Sn)l+="|"+e+"\\b";return new RegExp(l+")","gi")}(),Lh=/hsl[a]?\(/,Wo=function(e){var n=e.join(" "),s;if(he.lastIndex=0,he.test(n))return s=Lh.test(n),e[1]=no(e[1],s),e[0]=no(e[0],s,Xo(e[1])),!0},Dn,xt=function(){var l=Date.now,e=500,n=33,s=l(),o=s,u=1e3/240,c=u,h=[],f,p,v,g,w,m,C=function b(x){var E=l()-o,P=x===!0,k,T,S,V;if(E>e&&(s+=E-n),o+=E,S=o-s,k=S-c,(k>0||P)&&(V=++g.frame,w=S-g.time*1e3,g.time=S=S/1e3,c+=k+(k>=u?4:u-k),T=1),P||(f=p(b)),T)for(m=0;m<h.length;m++)h[m](S,w,V,x)};return g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(x){return w/(1e3/(x||60))},wake:function(){Ao&&(!fi&&Po()&&(Ft=fi=window,Vi=Ft.document||{},Pt.gsap=Lt,(Ft.gsapVersions||(Ft.gsapVersions=[])).push(Lt.version),To(ar||Ft.GreenSockGlobals||!Ft.gsap&&Ft||{}),v=Ft.requestAnimationFrame),f&&g.sleep(),p=v||function(x){return setTimeout(x,c-g.time*1e3+1|0)},Dn=1,C(2))},sleep:function(){(v?Ft.cancelAnimationFrame:clearTimeout)(f),Dn=0,p=On},lagSmoothing:function(x,E){e=x||1/Y,n=Math.min(E,e,0)},fps:function(x){u=1e3/(x||240),c=g.time*1e3+u},add:function(x,E,P){var k=E?function(T,S,V,L){x(T,S,V,L),g.remove(k)}:x;return g.remove(x),h[P?"unshift":"push"](k),en(),k},remove:function(x,E){~(E=h.indexOf(x))&&h.splice(E,1)&&m>=E&&m--},_listeners:h},g}(),en=function(){return!Dn&&xt.wake()},U={},Dh=/^[\d.\-M][\d.\-,\s]/,Rh=/["']/g,Ih=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),o=s[0],u=1,c=s.length,h,f,p;u<c;u++)f=s[u],h=u!==c-1?f.lastIndexOf(","):f.length,p=f.substr(0,h),n[o]=isNaN(p)?p.replace(Rh,"").trim():+p,o=f.substr(h+1).trim();return n},Nh=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),o=e.indexOf("(",n);return e.substring(n,~o&&o<s?e.indexOf(")",s+1):s)},Bh=function(e){var n=(e+"").split("("),s=U[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[Ih(n[1])]:Nh(e).split(",").map(Ro)):U._CE&&Dh.test(e)?U._CE("",e):s},Qo=function(e){return function(n){return 1-e(1-n)}},Zo=function l(e,n){for(var s=e._first,o;s;)s instanceof mt?l(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?l(s.timeline,n):(o=s._ease,s._ease=s._yEase,s._yEase=o,s._yoyo=n)),s=s._next},Me=function(e,n){return e&&(rt(e)?e:U[e]||Bh(e))||n},Le=function(e,n,s,o){s===void 0&&(s=function(f){return 1-n(1-f)}),o===void 0&&(o=function(f){return f<.5?n(f*2)/2:1-n((1-f)*2)/2});var u={easeIn:n,easeOut:s,easeInOut:o},c;return bt(e,function(h){U[h]=Pt[h]=u,U[c=h.toLowerCase()]=s;for(var f in u)U[c+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=U[h+"."+f]=u[f]}),u},Jo=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},si=function l(e,n,s){var o=n>=1?n:1,u=(s||(e?.3:.45))/(n<1?n:1),c=u/pi*(Math.asin(1/o)||0),h=function(v){return v===1?1:o*Math.pow(2,-10*v)*ph((v-c)*u)+1},f=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:Jo(h);return u=pi/u,f.config=function(p,v){return l(e,p,v)},f},oi=function l(e,n){n===void 0&&(n=1.70158);var s=function(c){return c?--c*c*((n+1)*c+n)+1:0},o=e==="out"?s:e==="in"?function(u){return 1-s(1-u)}:Jo(s);return o.config=function(u){return l(e,u)},o};bt("Linear,Quad,Cubic,Quart,Quint,Strong",function(l,e){var n=e<5?e+1:e;Le(l+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});U.Linear.easeNone=U.none=U.Linear.easeIn;Le("Elastic",si("in"),si("out"),si());(function(l,e){var n=1/e,s=2*n,o=2.5*n,u=function(h){return h<n?l*h*h:h<s?l*Math.pow(h-1.5/e,2)+.75:h<o?l*(h-=2.25/e)*h+.9375:l*Math.pow(h-2.625/e,2)+.984375};Le("Bounce",function(c){return 1-u(1-c)},u)})(7.5625,2.75);Le("Expo",function(l){return l?Math.pow(2,10*(l-1)):0});Le("Circ",function(l){return-(Co(1-l*l)-1)});Le("Sine",function(l){return l===1?1:-hh(l*uh)+1});Le("Back",oi("in"),oi("out"),oi());U.SteppedEase=U.steps=Pt.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,o=e+(n?0:1),u=n?1:0,c=1-Y;return function(h){return((o*Fn(0,c,h)|0)+u)*s}}};Ze.ease=U["quad.out"];bt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(l){return Mi+=l+","+l+"Params,"});var ta=function(e,n){this.id=ch++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Lo,this.set=n?n.getSetter:Ni},Rn=function(){function l(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,tn(this,+n.duration,1,1),this.data=n.data,Dn||xt.wake()}var e=l.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,tn(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,o){if(en(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(Li(this,s),!u._dp||u.parent||Bo(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Ut(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Y||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),Do(this,s,o)),this},e.time=function(s,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Js(this))%(this._dur+this._rDelay)||(s?this._dur:0),o):this._time},e.totalProgress=function(s,o){return arguments.length?this.totalTime(this.totalDuration()*s,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(s,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Js(this),o):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(s,o){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*u,o):this._repeat?Je(this._tTime,u)+1:1},e.timeScale=function(s){if(!arguments.length)return this._rts===-Y?0:this._rts;if(this._rts===s)return this;var o=this.parent&&this._ts?hr(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-Y?0:this._rts,this.totalTime(Fn(-this._delay,this._tDur,o),!0),gr(this),_h(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(en(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Y&&(this._tTime-=Y)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Ut(o,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(_t(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var o=this.parent||this._dp;return o?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?hr(o.rawTime(s),this):this._tTime:this._tTime},e.globalTime=function(s){for(var o=this,u=arguments.length?s:o.rawTime();o;)u=o._start+u/(o._ts||1),o=o._dp;return u},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,to(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var o=this._time;return this._rDelay=s,to(this),o?this.time(o):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,o){return this.totalTime(St(this,s),_t(o))},e.restart=function(s,o){return this.play().totalTime(s?-this._delay:0,_t(o))},e.play=function(s,o){return s!=null&&this.seek(s,o),this.reversed(!1).paused(!1)},e.reverse=function(s,o){return s!=null&&this.seek(s||this.totalDuration(),o),this.reversed(!0).paused(!1)},e.pause=function(s,o){return s!=null&&this.seek(s,o),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-Y:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Y,this},e.isActive=function(){var s=this.parent||this._dp,o=this._start,u;return!!(!s||this._ts&&this._initted&&s.isActive()&&(u=s.rawTime(!0))>=o&&u<this.endTime(!0)-Y)},e.eventCallback=function(s,o,u){var c=this.vars;return arguments.length>1?(o?(c[s]=o,u&&(c[s+"Params"]=u),s==="onUpdate"&&(this._onUpdate=o)):delete c[s],this):c[s]},e.then=function(s){var o=this;return new Promise(function(u){var c=rt(s)?s:Io,h=function(){var p=o.then;o.then=null,rt(c)&&(c=c(o))&&(c.then||c===o)&&(o.then=p),u(c),o.then=p};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?h():o._prom=h})},e.kill=function(){kn(this)},l}();Mt(Rn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Y,_prom:0,_ps:!1,_rts:1});var mt=function(l){xo(e,l);function e(s,o){var u;return s===void 0&&(s={}),u=l.call(this,s)||this,u.labels={},u.smoothChildTiming=!!s.smoothChildTiming,u.autoRemoveChildren=!!s.autoRemoveChildren,u._sort=_t(s.sortChildren),Z&&Ut(s.parent||Z,qt(u),o),s.reversed&&u.reverse(),s.paused&&u.paused(!0),s.scrollTrigger&&Fo(qt(u),s.scrollTrigger),u}var n=e.prototype;return n.to=function(o,u,c){return An(0,arguments,this),this},n.from=function(o,u,c){return An(1,arguments,this),this},n.fromTo=function(o,u,c,h){return An(2,arguments,this),this},n.set=function(o,u,c){return u.duration=0,u.parent=this,Vn(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new nt(o,u,St(this,c),1),this},n.call=function(o,u,c){return Ut(this,nt.delayedCall(0,o,u),c)},n.staggerTo=function(o,u,c,h,f,p,v){return c.duration=u,c.stagger=c.stagger||h,c.onComplete=p,c.onCompleteParams=v,c.parent=this,new nt(o,c,St(this,f)),this},n.staggerFrom=function(o,u,c,h,f,p,v){return c.runBackwards=1,Vn(c).immediateRender=_t(c.immediateRender),this.staggerTo(o,u,c,h,f,p,v)},n.staggerFromTo=function(o,u,c,h,f,p,v,g){return h.startAt=c,Vn(h).immediateRender=_t(h.immediateRender),this.staggerTo(o,u,h,f,p,v,g)},n.render=function(o,u,c){var h=this._time,f=this._dirty?this.totalDuration():this._tDur,p=this._dur,v=o<=0?0:at(o),g=this._zTime<0!=o<0&&(this._initted||!p),w,m,C,b,x,E,P,k,T,S,V,L;if(this!==Z&&v>f&&o>=0&&(v=f),v!==this._tTime||c||g){if(h!==this._time&&p&&(v+=this._time-h,o+=this._time-h),w=v,T=this._start,k=this._ts,E=!k,g&&(p||(h=this._zTime),(o||!u)&&(this._zTime=o)),this._repeat){if(V=this._yoyo,x=p+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(x*100+o,u,c);if(w=at(v%x),v===f?(b=this._repeat,w=p):(b=~~(v/x),b&&b===v/x&&(w=p,b--),w>p&&(w=p)),S=Je(this._tTime,x),!h&&this._tTime&&S!==b&&(S=b),V&&b&1&&(w=p-w,L=1),b!==S&&!this._lock){var O=V&&S&1,M=O===(V&&b&1);if(b<S&&(O=!O),h=O?0:p,this._lock=1,this.render(h||(L?0:at(b*x)),u,!p)._lock=0,this._tTime=v,!u&&this.parent&&Tt(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),h&&h!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,f=this._tDur,M&&(this._lock=2,h=O?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;Zo(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=yh(this,at(h),at(w)),P&&(v-=w-(w=P._start))),this._tTime=v,this._time=w,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,h=0),!h&&w&&!u&&(Tt(this,"onStart"),this._tTime!==v))return this;if(w>=h&&o>=0)for(m=this._first;m;){if(C=m._next,(m._act||w>=m._start)&&m._ts&&P!==m){if(m.parent!==this)return this.render(o,u,c);if(m.render(m._ts>0?(w-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(w-m._start)*m._ts,u,c),w!==this._time||!this._ts&&!E){P=0,C&&(v+=this._zTime=-Y);break}}m=C}else{m=this._last;for(var N=o<0?o:w;m;){if(C=m._prev,(m._act||N<=m._end)&&m._ts&&P!==m){if(m.parent!==this)return this.render(o,u,c);if(m.render(m._ts>0?(N-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(N-m._start)*m._ts,u,c),w!==this._time||!this._ts&&!E){P=0,C&&(v+=this._zTime=N?-Y:Y);break}}m=C}}if(P&&!u&&(this.pause(),P.render(w>=h?0:-Y)._zTime=w>=h?1:-1,this._ts))return this._start=T,gr(this),this.render(o,u,c);this._onUpdate&&!u&&Tt(this,"onUpdate",!0),(v===f&&this._tTime>=this.totalDuration()||!v&&h)&&(T===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((o||!p)&&(v===f&&this._ts>0||!v&&this._ts<0)&&Yt(this,1),!u&&!(o<0&&!h)&&(v||h||!f)&&(Tt(this,v===f&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(o,u){var c=this;if(Wt(u)||(u=St(this,u,o)),!(o instanceof Rn)){if(ut(o))return o.forEach(function(h){return c.add(h,u)}),this;if(it(o))return this.addLabel(o,u);if(rt(o))o=nt.delayedCall(0,o);else return this}return this!==o?Ut(this,o,u):this},n.getChildren=function(o,u,c,h){o===void 0&&(o=!0),u===void 0&&(u=!0),c===void 0&&(c=!0),h===void 0&&(h=-Vt);for(var f=[],p=this._first;p;)p._start>=h&&(p instanceof nt?u&&f.push(p):(c&&f.push(p),o&&f.push.apply(f,p.getChildren(!0,u,c)))),p=p._next;return f},n.getById=function(o){for(var u=this.getChildren(1,1,1),c=u.length;c--;)if(u[c].vars.id===o)return u[c]},n.remove=function(o){return it(o)?this.removeLabel(o):rt(o)?this.killTweensOf(o):(br(this,o),o===this._recent&&(this._recent=this._last),Te(this))},n.totalTime=function(o,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=at(xt.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),l.prototype.totalTime.call(this,o,u),this._forcing=0,this):this._tTime},n.addLabel=function(o,u){return this.labels[o]=St(this,u),this},n.removeLabel=function(o){return delete this.labels[o],this},n.addPause=function(o,u,c){var h=nt.delayedCall(0,u||On,c);return h.data="isPause",this._hasPause=1,Ut(this,h,St(this,o))},n.removePause=function(o){var u=this._first;for(o=St(this,o);u;)u._start===o&&u.data==="isPause"&&Yt(u),u=u._next},n.killTweensOf=function(o,u,c){for(var h=this.getTweensOf(o,c),f=h.length;f--;)oe!==h[f]&&h[f].kill(o,u);return this},n.getTweensOf=function(o,u){for(var c=[],h=At(o),f=this._first,p=Wt(u),v;f;)f instanceof nt?fh(f._targets,h)&&(p?(!oe||f._initted&&f._ts)&&f.globalTime(0)<=u&&f.globalTime(f.totalDuration())>u:!u||f.isActive())&&c.push(f):(v=f.getTweensOf(h,u)).length&&c.push.apply(c,v),f=f._next;return c},n.tweenTo=function(o,u){u=u||{};var c=this,h=St(c,o),f=u,p=f.startAt,v=f.onStart,g=f.onStartParams,w=f.immediateRender,m,C=nt.to(c,Mt({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:u.duration||Math.abs((h-(p&&"time"in p?p.time:c._time))/c.timeScale())||Y,onStart:function(){if(c.pause(),!m){var x=u.duration||Math.abs((h-(p&&"time"in p?p.time:c._time))/c.timeScale());C._dur!==x&&tn(C,x,0,1).render(C._time,!0,!0),m=1}v&&v.apply(C,g||[])}},u));return w?C.render(0):C},n.tweenFromTo=function(o,u,c){return this.tweenTo(u,Mt({startAt:{time:St(this,o)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(o){return o===void 0&&(o=this._time),eo(this,St(this,o))},n.previousLabel=function(o){return o===void 0&&(o=this._time),eo(this,St(this,o),1)},n.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Y)},n.shiftChildren=function(o,u,c){c===void 0&&(c=0);for(var h=this._first,f=this.labels,p;h;)h._start>=c&&(h._start+=o,h._end+=o),h=h._next;if(u)for(p in f)f[p]>=c&&(f[p]+=o);return Te(this)},n.invalidate=function(){var o=this._first;for(this._lock=0;o;)o.invalidate(),o=o._next;return l.prototype.invalidate.call(this)},n.clear=function(o){o===void 0&&(o=!0);for(var u=this._first,c;u;)c=u._next,this.remove(u),u=c;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Te(this)},n.totalDuration=function(o){var u=0,c=this,h=c._last,f=Vt,p,v,g;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-o:o));if(c._dirty){for(g=c.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),v=h._start,v>f&&c._sort&&h._ts&&!c._lock?(c._lock=1,Ut(c,h,v-h._delay,1)._lock=0):f=v,v<0&&h._ts&&(u-=v,(!g&&!c._dp||g&&g.smoothChildTiming)&&(c._start+=v/c._ts,c._time-=v,c._tTime-=v),c.shiftChildren(-v,!1,-1/0),f=0),h._end>u&&h._ts&&(u=h._end),h=p;tn(c,c===Z&&c._time>u?c._time:u,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(o){if(Z._ts&&(Do(Z,hr(o,Z)),Oo=xt.frame),xt.frame>=Qs){Qs+=Ct.autoSleep||120;var u=Z._first;if((!u||!u._ts)&&Ct.autoSleep&&xt._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||xt.sleep()}}},e}(Rn);Mt(mt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Fh=function(e,n,s,o,u,c,h){var f=new gt(this._pt,e,n,0,1,oa,null,u),p=0,v=0,g,w,m,C,b,x,E,P;for(f.b=s,f.e=o,s+="",o+="",(E=~o.indexOf("random("))&&(o=Ln(o)),c&&(P=[s,o],c(P,e,n),s=P[0],o=P[1]),w=s.match(ni)||[];g=ni.exec(o);)C=g[0],b=o.substring(p,g.index),m?m=(m+1)%5:b.substr(-5)==="rgba("&&(m=1),C!==w[v++]&&(x=parseFloat(w[v-1])||0,f._pt={_next:f._pt,p:b||v===1?b:",",s:x,c:C.charAt(1)==="="?Ge(x,C)-x:parseFloat(C)-x,m:m&&m<4?Math.round:0},p=ni.lastIndex);return f.c=p<o.length?o.substring(p,o.length):"",f.fp=h,(So.test(o)||E)&&(f.e=0),this._pt=f,f},Di=function(e,n,s,o,u,c,h,f,p){rt(o)&&(o=o(u||0,e,c));var v=e[n],g=s!=="get"?s:rt(v)?p?e[n.indexOf("set")||!rt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](p):e[n]():v,w=rt(v)?p?$h:ia:Ii,m;if(it(o)&&(~o.indexOf("random(")&&(o=Ln(o)),o.charAt(1)==="="&&(m=Ge(g,o)+(lt(g)||0),(m||m===0)&&(o=m))),g!==o||gi)return!isNaN(g*o)&&o!==""?(m=new gt(this._pt,e,n,+g||0,o-(g||0),typeof v=="boolean"?qh:sa,0,w),p&&(m.fp=p),h&&m.modifier(h,this,e),this._pt=m):(!v&&!(n in e)&&Ai(n,o),Fh.call(this,e,n,g,o,w,f||Ct.stringFilter,p))},Uh=function(e,n,s,o,u){if(rt(e)&&(e=Tn(e,u,n,s,o)),!Qt(e)||e.style&&e.nodeType||ut(e)||Eo(e))return it(e)?Tn(e,u,n,s,o):e;var c={},h;for(h in e)c[h]=Tn(e[h],u,n,s,o);return c},ea=function(e,n,s,o,u,c){var h,f,p,v;if(yt[e]&&(h=new yt[e]).init(u,h.rawVars?n[e]:Uh(n[e],o,u,c,s),s,o,c)!==!1&&(s._pt=f=new gt(s._pt,u,e,0,1,h.render,h,0,h.priority),s!==Ye))for(p=s._ptLookup[s._targets.indexOf(u)],v=h._props.length;v--;)p[h._props[v]]=f;return h},oe,gi,Ri=function l(e,n){var s=e.vars,o=s.ease,u=s.startAt,c=s.immediateRender,h=s.lazy,f=s.onUpdate,p=s.onUpdateParams,v=s.callbackScope,g=s.runBackwards,w=s.yoyoEase,m=s.keyframes,C=s.autoRevert,b=e._dur,x=e._startAt,E=e._targets,P=e.parent,k=P&&P.data==="nested"?P.parent._targets:E,T=e._overwrite==="auto"&&!ki,S=e.timeline,V,L,O,M,N,G,J,tt,X,F,D,ot,zt;if(S&&(!m||!o)&&(o="none"),e._ease=Me(o,Ze.ease),e._yEase=w?Qo(Me(w===!0?o:w,Ze.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!S&&!!s.runBackwards,!S||m&&!s.stagger){if(tt=E[0]?Ae(E[0]).harness:0,ot=tt&&s[tt.prop],V=cr(s,Ti),x&&(Yt(x.render(-1,!0)),x._lazy=0),u)if(Yt(e._startAt=nt.set(E,Mt({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:_t(h),startAt:null,delay:0,onUpdate:f,onUpdateParams:p,callbackScope:v,stagger:0},u))),n<0&&!c&&!C&&e._startAt.render(-1,!0),c){if(n>0&&!C&&(e._startAt=0),b&&n<=0){n&&(e._zTime=n);return}}else C===!1&&(e._startAt=0);else if(g&&b){if(x)!C&&(e._startAt=0);else if(n&&(c=!1),O=Mt({overwrite:!1,data:"isFromStart",lazy:c&&_t(h),immediateRender:c,stagger:0,parent:P},V),ot&&(O[tt.prop]=ot),Yt(e._startAt=nt.set(E,O)),n<0&&e._startAt.render(-1,!0),e._zTime=n,!c)l(e._startAt,Y);else if(!n)return}for(e._pt=e._ptCache=0,h=b&&_t(h)||h&&!b,L=0;L<E.length;L++){if(N=E[L],J=N._gsap||Oi(E)[L]._gsap,e._ptLookup[L]=F={},vi[J.id]&&ce.length&&ur(),D=k===E?L:k.indexOf(N),tt&&(X=new tt).init(N,ot||V,e,D,k)!==!1&&(e._pt=M=new gt(e._pt,N,X.name,0,1,X.render,X,0,X.priority),X._props.forEach(function(jt){F[jt]=M}),X.priority&&(G=1)),!tt||ot)for(O in V)yt[O]&&(X=ea(O,V,e,D,N,k))?X.priority&&(G=1):F[O]=M=Di.call(e,N,O,"get",V[O],D,k,0,s.stringFilter);e._op&&e._op[L]&&e.kill(N,e._op[L]),T&&e._pt&&(oe=e,Z.killTweensOf(N,F,e.globalTime(n)),zt=!e.parent,oe=0),e._pt&&h&&(vi[J.id]=1)}G&&aa(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!zt,m&&n<=0&&S.render(Vt,!0,!0)},zh=function(e,n,s,o,u,c,h){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,v,g;if(!f)for(f=e._ptCache[n]=[],v=e._ptLookup,g=e._targets.length;g--;){if(p=v[g][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n;)p=p._next;if(!p)return gi=1,e.vars[n]="+=0",Ri(e,h),gi=0,1;f.push(p)}for(g=f.length;g--;)p=f[g],p.s=(o||o===0)&&!u?o:p.s+(o||0)+c*p.c,p.c=s-p.s,p.e&&(p.e=et(s)+lt(p.e)),p.b&&(p.b=p.s+lt(p.b))},jh=function(e,n){var s=e[0]?Ae(e[0]).harness:0,o=s&&s.aliases,u,c,h,f;if(!o)return n;u=Oe({},n);for(c in o)if(c in u)for(f=o[c].split(","),h=f.length;h--;)u[f[h]]=u[c];return u},Kh=function(e,n,s,o){var u=n.ease||o||"power1.inOut",c,h;if(ut(n))h=s[e]||(s[e]=[]),n.forEach(function(f,p){return h.push({t:p/(n.length-1)*100,v:f,e:u})});else for(c in n)h=s[c]||(s[c]=[]),c==="ease"||h.push({t:parseFloat(e),v:n[c],e:u})},Tn=function(e,n,s,o,u){return rt(e)?e.call(n,s,o,u):it(e)&&~e.indexOf("random(")?Ln(e):e},na=Mi+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ra={};bt(na+",id,stagger,delay,duration,paused,scrollTrigger",function(l){return ra[l]=1});var nt=function(l){xo(e,l);function e(s,o,u,c){var h;typeof o=="number"&&(u.duration=o,o=u,u=null),h=l.call(this,c?o:Vn(o))||this;var f=h.vars,p=f.duration,v=f.delay,g=f.immediateRender,w=f.stagger,m=f.overwrite,C=f.keyframes,b=f.defaults,x=f.scrollTrigger,E=f.yoyoEase,P=o.parent||Z,k=(ut(s)||Eo(s)?Wt(s[0]):"length"in o)?[s]:At(s),T,S,V,L,O,M,N,G;if(h._targets=k.length?Oi(k):lr("GSAP target "+s+" not found. https://greensock.com",!Ct.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=m,C||w||nr(p)||nr(v)){if(o=h.vars,T=h.timeline=new mt({data:"nested",defaults:b||{}}),T.kill(),T.parent=T._dp=qt(h),T._start=0,w||nr(p)||nr(v)){if(L=k.length,N=w&&Ko(w),Qt(w))for(O in w)~na.indexOf(O)&&(G||(G={}),G[O]=w[O]);for(S=0;S<L;S++)V=cr(o,ra),V.stagger=0,E&&(V.yoyoEase=E),G&&Oe(V,G),M=k[S],V.duration=+Tn(p,qt(h),S,M,k),V.delay=(+Tn(v,qt(h),S,M,k)||0)-h._delay,!w&&L===1&&V.delay&&(h._delay=v=V.delay,h._start+=v,V.delay=0),T.to(M,V,N?N(S,M,k):0),T._ease=U.none;T.duration()?p=v=0:h.timeline=0}else if(C){Vn(Mt(T.vars.defaults,{ease:"none"})),T._ease=Me(C.ease||o.ease||"none");var J=0,tt,X,F;if(ut(C))C.forEach(function(D){return T.to(k,D,">")});else{V={};for(O in C)O==="ease"||O==="easeEach"||Kh(O,C[O],V,C.easeEach);for(O in V)for(tt=V[O].sort(function(D,ot){return D.t-ot.t}),J=0,S=0;S<tt.length;S++)X=tt[S],F={ease:X.e,duration:(X.t-(S?tt[S-1].t:0))/100*p},F[O]=X.v,T.to(k,F,J),J+=F.duration;T.duration()<p&&T.to({},{duration:p-T.duration()})}}p||h.duration(p=T.duration())}else h.timeline=0;return m===!0&&!ki&&(oe=qt(h),Z.killTweensOf(k),oe=0),Ut(P,qt(h),u),o.reversed&&h.reverse(),o.paused&&h.paused(!0),(g||!p&&!C&&h._start===at(P._time)&&_t(g)&&bh(qt(h))&&P.data!=="nested")&&(h._tTime=-Y,h.render(Math.max(0,-v))),x&&Fo(qt(h),x),h}var n=e.prototype;return n.render=function(o,u,c){var h=this._time,f=this._tDur,p=this._dur,v=o>f-Y&&o>=0?f:o<Y?0:o,g,w,m,C,b,x,E,P,k;if(!p)wh(this,o,u,c);else if(v!==this._tTime||!o||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=o<0){if(g=v,P=this.timeline,this._repeat){if(C=p+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(C*100+o,u,c);if(g=at(v%C),v===f?(m=this._repeat,g=p):(m=~~(v/C),m&&m===v/C&&(g=p,m--),g>p&&(g=p)),x=this._yoyo&&m&1,x&&(k=this._yEase,g=p-g),b=Je(this._tTime,C),g===h&&!c&&this._initted)return this._tTime=v,this;m!==b&&(P&&this._yEase&&Zo(P,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=c=1,this.render(at(C*m),!0).invalidate()._lock=0))}if(!this._initted){if(Uo(this,o<0?o:g,c,u))return this._tTime=0,this;if(h!==this._time)return this;if(p!==this._dur)return this.render(o,u,c)}if(this._tTime=v,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(g/p),this._from&&(this.ratio=E=1-E),g&&!h&&!u&&(Tt(this,"onStart"),this._tTime!==v))return this;for(w=this._pt;w;)w.r(E,w.d),w=w._next;P&&P.render(o<0?o:!g&&x?-Y:P._dur*P._ease(g/this._dur),u,c)||this._startAt&&(this._zTime=o),this._onUpdate&&!u&&(o<0&&this._startAt&&this._startAt.render(o,!0,c),Tt(this,"onUpdate")),this._repeat&&m!==b&&this.vars.onRepeat&&!u&&this.parent&&Tt(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(o<0&&this._startAt&&!this._onUpdate&&this._startAt.render(o,!0,!0),(o||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Yt(this,1),!u&&!(o<0&&!h)&&(v||h)&&(Tt(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),l.prototype.invalidate.call(this)},n.resetTo=function(o,u,c,h){Dn||xt.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||Ri(this,f),p=this._ease(f/this._dur),zh(this,o,u,c,h,p,f)?this.resetTo(o,u,c,h):(Li(this,0),this.parent||No(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(o,u){if(u===void 0&&(u="all"),!o&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?kn(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(o,u,oe&&oe.vars.overwrite!==!0)._first||kn(this),this.parent&&c!==this.timeline.totalDuration()&&tn(this,this._dur*this.timeline._tDur/c,0,1),this}var h=this._targets,f=o?At(o):h,p=this._ptLookup,v=this._pt,g,w,m,C,b,x,E;if((!u||u==="all")&&mh(h,f))return u==="all"&&(this._pt=0),kn(this);for(g=this._op=this._op||[],u!=="all"&&(it(u)&&(b={},bt(u,function(P){return b[P]=1}),u=b),u=jh(h,u)),E=h.length;E--;)if(~f.indexOf(h[E])){w=p[E],u==="all"?(g[E]=u,C=w,m={}):(m=g[E]=g[E]||{},C=u);for(b in C)x=w&&w[b],x&&((!("kill"in x.d)||x.d.kill(b)===!0)&&br(this,x,"_pt"),delete w[b]),m!=="all"&&(m[b]=1)}return this._initted&&!this._pt&&v&&kn(this),this},e.to=function(o,u){return new e(o,u,arguments[2])},e.from=function(o,u){return An(1,arguments)},e.delayedCall=function(o,u,c,h){return new e(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:u,onReverseComplete:u,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:h})},e.fromTo=function(o,u,c){return An(2,arguments)},e.set=function(o,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new e(o,u)},e.killTweensOf=function(o,u,c){return Z.killTweensOf(o,u,c)},e}(Rn);Mt(nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});bt("staggerTo,staggerFrom,staggerFromTo",function(l){nt[l]=function(){var e=new mt,n=_i.call(arguments,0);return n.splice(l==="staggerFromTo"?5:4,0,0),e[l].apply(e,n)}});var Ii=function(e,n,s){return e[n]=s},ia=function(e,n,s){return e[n](s)},$h=function(e,n,s,o){return e[n](o.fp,s)},Hh=function(e,n,s){return e.setAttribute(n,s)},Ni=function(e,n){return rt(e[n])?ia:Si(e[n])&&e.setAttribute?Hh:Ii},sa=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},qh=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},oa=function(e,n){var s=n._pt,o="";if(!e&&n.b)o=n.b;else if(e===1&&n.e)o=n.e;else{for(;s;)o=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+o,s=s._next;o+=n.c}n.set(n.t,n.p,o,n)},Bi=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},Yh=function(e,n,s,o){for(var u=this._pt,c;u;)c=u._next,u.p===o&&u.modifier(e,n,s),u=c},Gh=function(e){for(var n=this._pt,s,o;n;)o=n._next,n.p===e&&!n.op||n.op===e?br(this,n,"_pt"):n.dep||(s=1),n=o;return!s},Xh=function(e,n,s,o){o.mSet(e,n,o.m.call(o.tween,s,o.mt),o)},aa=function(e){for(var n=e._pt,s,o,u,c;n;){for(s=n._next,o=u;o&&o.pr>n.pr;)o=o._next;(n._prev=o?o._prev:c)?n._prev._next=n:u=n,(n._next=o)?o._prev=n:c=n,n=s}e._pt=u},gt=function(){function l(n,s,o,u,c,h,f,p,v){this.t=s,this.s=u,this.c=c,this.p=o,this.r=h||sa,this.d=f||this,this.set=p||Ii,this.pr=v||0,this._next=n,n&&(n._prev=this)}var e=l.prototype;return e.modifier=function(s,o,u){this.mSet=this.mSet||this.set,this.set=Xh,this.m=s,this.mt=u,this.tween=o},l}();bt(Mi+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(l){return Ti[l]=1});Pt.TweenMax=Pt.TweenLite=nt;Pt.TimelineLite=Pt.TimelineMax=mt;Z=new mt({sortChildren:!1,defaults:Ze,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ct.stringFilter=Wo;var pr={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(o){return Oh(o)})},timeline:function(e){return new mt(e)},getTweensOf:function(e,n){return Z.getTweensOf(e,n)},getProperty:function(e,n,s,o){it(e)&&(e=At(e)[0]);var u=Ae(e||{}).get,c=s?Io:Ro;return s==="native"&&(s=""),e&&(n?c((yt[n]&&yt[n].get||u)(e,n,s,o)):function(h,f,p){return c((yt[h]&&yt[h].get||u)(e,h,f,p))})},quickSetter:function(e,n,s){if(e=At(e),e.length>1){var o=e.map(function(v){return Lt.quickSetter(v,n,s)}),u=o.length;return function(v){for(var g=u;g--;)o[g](v)}}e=e[0]||{};var c=yt[n],h=Ae(e),f=h.harness&&(h.harness.aliases||{})[n]||n,p=c?function(v){var g=new c;Ye._pt=0,g.init(e,s?v+s:v,Ye,0,[e]),g.render(1,g),Ye._pt&&Bi(1,Ye)}:h.set(e,f);return c?p:function(v){return p(e,f,s?v+s:v,h,1)}},quickTo:function(e,n,s){var o,u=Lt.to(e,Oe((o={},o[n]="+=0.1",o.paused=!0,o),s||{})),c=function(f,p,v){return u.resetTo(n,f,p,v)};return c.tween=u,c},isTweening:function(e){return Z.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Me(e.ease,Ze.ease)),Zs(Ze,e||{})},config:function(e){return Zs(Ct,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,o=e.plugins,u=e.defaults,c=e.extendTimeline;(o||"").split(",").forEach(function(h){return h&&!yt[h]&&!Pt[h]&&lr(n+" effect requires "+h+" plugin.")}),ri[n]=function(h,f,p){return s(At(h),Mt(f||{},u),p)},c&&(mt.prototype[n]=function(h,f,p){return this.add(ri[n](h,Qt(f)?f:(p=f)&&{},this),p)})},registerEase:function(e,n){U[e]=Me(n)},parseEase:function(e,n){return arguments.length?Me(e,n):U},getById:function(e){return Z.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new mt(e),o,u;for(s.smoothChildTiming=_t(e.smoothChildTiming),Z.remove(s),s._dp=0,s._time=s._tTime=Z._time,o=Z._first;o;)u=o._next,(n||!(!o._dur&&o instanceof nt&&o.vars.onComplete===o._targets[0]))&&Ut(s,o,o._start-o._delay),o=u;return Ut(Z,s,0),s},utils:{wrap:Ah,wrapYoyo:Th,distribute:Ko,random:Ho,snap:$o,normalize:Vh,getUnit:lt,clamp:Ch,splitColor:Go,toArray:At,selector:Eh,mapRange:Yo,pipe:kh,unitize:Sh,interpolate:Mh,shuffle:jo},install:To,effects:ri,ticker:xt,updateRoot:mt.updateRoot,plugins:yt,globalTimeline:Z,core:{PropTween:gt,globals:Mo,Tween:nt,Timeline:mt,Animation:Rn,getCache:Ae,_removeLinkedListItem:br,suppressOverwrites:function(e){return ki=e}}};bt("to,from,fromTo,delayedCall,set,killTweensOf",function(l){return pr[l]=nt[l]});xt.add(mt.updateRoot);Ye=pr.to({},{duration:0});var Wh=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},Qh=function(e,n){var s=e._targets,o,u,c;for(o in n)for(u=s.length;u--;)c=e._ptLookup[u][o],c&&(c=c.d)&&(c._pt&&(c=Wh(c,o)),c&&c.modifier&&c.modifier(n[o],e,s[u],o))},ai=function(e,n){return{name:e,rawVars:1,init:function(o,u,c){c._onInit=function(h){var f,p;if(it(u)&&(f={},bt(u,function(v){return f[v]=1}),u=f),n){f={};for(p in u)f[p]=n(u[p]);u=f}Qh(h,u)}}}},Lt=pr.registerPlugin({name:"attr",init:function(e,n,s,o,u){var c,h;for(c in n)h=this.add(e,"setAttribute",(e.getAttribute(c)||0)+"",n[c],o,u,0,0,c),h&&(h.op=c),this._props.push(c)}},{name:"endArray",init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s])}},ai("roundProps",bi),ai("modifiers"),ai("snap",$o))||pr;nt.version=mt.version=Lt.version="3.10.4";Ao=1;Po()&&en();U.Power0;U.Power1;U.Power2;U.Power3;U.Power4;U.Linear;U.Quad;U.Cubic;U.Quart;U.Quint;U.Strong;U.Elastic;U.Back;U.SteppedEase;U.Bounce;U.Sine;U.Expo;U.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ro,ae,Xe,Fi,Ve,io,Zh=function(){return typeof window!="undefined"},pe={},ke=180/Math.PI,We=Math.PI/180,He=Math.atan2,so=1e8,la=/([A-Z])/g,Jh=/(left|right|width|margin|padding|x)/i,tp=/[\s,\(]\S/,le={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ua=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},ep=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},np=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},rp=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},ca=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},ha=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},ip=function(e,n,s){return e.style[n]=s},sp=function(e,n,s){return e.style.setProperty(n,s)},op=function(e,n,s){return e._gsap[n]=s},ap=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},lp=function(e,n,s,o,u){var c=e._gsap;c.scaleX=c.scaleY=s,c.renderTransform(u,c)},up=function(e,n,s,o,u){var c=e._gsap;c[n]=s,c.renderTransform(u,c)},st="transform",de=st+"Origin",pa,wi=function(e,n){var s=ae.createElementNS?ae.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ae.createElement(e);return s.style?s:ae.createElement(e)},Gt=function l(e,n,s){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(la,"-$1").toLowerCase())||o.getPropertyValue(n)||!s&&l(e,nn(n)||n,1)||""},oo="O,Moz,ms,Ms,Webkit".split(","),nn=function(e,n,s){var o=n||Ve,u=o.style,c=5;if(e in u&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(oo[c]+e in u););return c<0?null:(c===3?"ms":c>=0?oo[c]:"")+e},yi=function(){Zh()&&window.document&&(ro=window,ae=ro.document,Xe=ae.documentElement,Ve=wi("div")||{style:{}},wi("div"),st=nn(st),de=st+"Origin",Ve.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pa=!!nn("perspective"),Fi=1)},li=function l(e){var n=wi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,o=this.nextSibling,u=this.style.cssText,c;if(Xe.appendChild(n),n.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=l}catch{}else this._gsapBBox&&(c=this._gsapBBox());return s&&(o?s.insertBefore(this,o):s.appendChild(this)),Xe.removeChild(n),this.style.cssText=u,c},ao=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},da=function(e){var n;try{n=e.getBBox()}catch{n=li.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===li||(n=li.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+ao(e,["x","cx","x1"])||0,y:+ao(e,["y","cy","y1"])||0,width:0,height:0}:n},fa=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&da(e))},In=function(e,n){if(n){var s=e.style;n in pe&&n!==de&&(n=st),s.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(n.replace(la,"-$1").toLowerCase())):s.removeAttribute(n)}},ue=function(e,n,s,o,u,c){var h=new gt(e._pt,n,s,0,1,c?ha:ca);return e._pt=h,h.b=o,h.e=u,e._props.push(s),h},lo={deg:1,rad:1,turn:1},fe=function l(e,n,s,o){var u=parseFloat(s)||0,c=(s+"").trim().substr((u+"").length)||"px",h=Ve.style,f=Jh.test(n),p=e.tagName.toLowerCase()==="svg",v=(p?"client":"offset")+(f?"Width":"Height"),g=100,w=o==="px",m=o==="%",C,b,x,E;return o===c||!u||lo[o]||lo[c]?u:(c!=="px"&&!w&&(u=l(e,n,s,"px")),E=e.getCTM&&fa(e),(m||c==="%")&&(pe[n]||~n.indexOf("adius"))?(C=E?e.getBBox()[f?"width":"height"]:e[v],et(m?u/C*g:u/100*C)):(h[f?"width":"height"]=g+(w?c:o),b=~n.indexOf("adius")||o==="em"&&e.appendChild&&!p?e:e.parentNode,E&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===ae||!b.appendChild)&&(b=ae.body),x=b._gsap,x&&m&&x.width&&f&&x.time===xt.time?et(u/x.width*g):((m||c==="%")&&(h.position=Gt(e,"position")),b===e&&(h.position="static"),b.appendChild(Ve),C=Ve[v],b.removeChild(Ve),h.position="absolute",f&&m&&(x=Ae(b),x.time=xt.time,x.width=b[v]),et(w?C*u/g:C&&u?g/C*u:0))))},Se=function(e,n,s,o){var u;return Fi||yi(),n in le&&n!=="transform"&&(n=le[n],~n.indexOf(",")&&(n=n.split(",")[0])),pe[n]&&n!=="transform"?(u=Bn(e,o),u=n!=="transformOrigin"?u[n]:u.svg?u.origin:fr(Gt(e,de))+" "+u.zOrigin+"px"):(u=e.style[n],(!u||u==="auto"||o||~(u+"").indexOf("calc("))&&(u=dr[n]&&dr[n](e,n,s)||Gt(e,n)||Lo(e,n)||(n==="opacity"?1:0))),s&&!~(u+"").trim().indexOf(" ")?fe(e,n,u,s)+s:u},cp=function(e,n,s,o){if(!s||s==="none"){var u=nn(n,e,1),c=u&&Gt(e,u,1);c&&c!==s?(n=u,s=c):n==="borderColor"&&(s=Gt(e,"borderTopColor"))}var h=new gt(this._pt,e.style,n,0,1,oa),f=0,p=0,v,g,w,m,C,b,x,E,P,k,T,S;if(h.b=s,h.e=o,s+="",o+="",o==="auto"&&(e.style[n]=o,o=Gt(e,n)||o,e.style[n]=s),v=[s,o],Wo(v),s=v[0],o=v[1],w=s.match(qe)||[],S=o.match(qe)||[],S.length){for(;g=qe.exec(o);)x=g[0],P=o.substring(f,g.index),C?C=(C+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(C=1),x!==(b=w[p++]||"")&&(m=parseFloat(b)||0,T=b.substr((m+"").length),x.charAt(1)==="="&&(x=Ge(m,x)+T),E=parseFloat(x),k=x.substr((E+"").length),f=qe.lastIndex-k.length,k||(k=k||Ct.units[n]||T,f===o.length&&(o+=k,h.e+=k)),T!==k&&(m=fe(e,n,b,k)||0),h._pt={_next:h._pt,p:P||p===1?P:",",s:m,c:E-m,m:C&&C<4||n==="zIndex"?Math.round:0});h.c=f<o.length?o.substring(f,o.length):""}else h.r=n==="display"&&o==="none"?ha:ca;return So.test(o)&&(h.e=0),this._pt=h,h},uo={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hp=function(e){var n=e.split(" "),s=n[0],o=n[1]||"50%";return(s==="top"||s==="bottom"||o==="left"||o==="right")&&(e=s,s=o,o=e),n[0]=uo[s]||s,n[1]=uo[o]||o,n.join(" ")},pp=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,o=s.style,u=n.u,c=s._gsap,h,f,p;if(u==="all"||u===!0)o.cssText="",f=1;else for(u=u.split(","),p=u.length;--p>-1;)h=u[p],pe[h]&&(f=1,h=h==="transformOrigin"?de:st),In(s,h);f&&(In(s,st),c&&(c.svg&&s.removeAttribute("transform"),Bn(s,1),c.uncache=1))}},dr={clearProps:function(e,n,s,o,u){if(u.data!=="isFromStart"){var c=e._pt=new gt(e._pt,n,s,0,0,pp);return c.u=o,c.pr=-10,c.tween=u,e._props.push(s),1}}},Nn=[1,0,0,1,0,0],va={},ma=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},co=function(e){var n=Gt(e,st);return ma(n)?Nn:n.substr(7).match(ko).map(et)},Ui=function(e,n){var s=e._gsap||Ae(e),o=e.style,u=co(e),c,h,f,p;return s.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,u=[f.a,f.b,f.c,f.d,f.e,f.f],u.join(",")==="1,0,0,1,0,0"?Nn:u):(u===Nn&&!e.offsetParent&&e!==Xe&&!s.svg&&(f=o.display,o.display="block",c=e.parentNode,(!c||!e.offsetParent)&&(p=1,h=e.nextSibling,Xe.appendChild(e)),u=co(e),f?o.display=f:In(e,"display"),p&&(h?c.insertBefore(e,h):c?c.appendChild(e):Xe.removeChild(e))),n&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},xi=function(e,n,s,o,u,c){var h=e._gsap,f=u||Ui(e,!0),p=h.xOrigin||0,v=h.yOrigin||0,g=h.xOffset||0,w=h.yOffset||0,m=f[0],C=f[1],b=f[2],x=f[3],E=f[4],P=f[5],k=n.split(" "),T=parseFloat(k[0])||0,S=parseFloat(k[1])||0,V,L,O,M;s?f!==Nn&&(L=m*x-C*b)&&(O=T*(x/L)+S*(-b/L)+(b*P-x*E)/L,M=T*(-C/L)+S*(m/L)-(m*P-C*E)/L,T=O,S=M):(V=da(e),T=V.x+(~k[0].indexOf("%")?T/100*V.width:T),S=V.y+(~(k[1]||k[0]).indexOf("%")?S/100*V.height:S)),o||o!==!1&&h.smooth?(E=T-p,P=S-v,h.xOffset=g+(E*m+P*b)-E,h.yOffset=w+(E*C+P*x)-P):h.xOffset=h.yOffset=0,h.xOrigin=T,h.yOrigin=S,h.smooth=!!o,h.origin=n,h.originIsAbsolute=!!s,e.style[de]="0px 0px",c&&(ue(c,h,"xOrigin",p,T),ue(c,h,"yOrigin",v,S),ue(c,h,"xOffset",g,h.xOffset),ue(c,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",T+" "+S)},Bn=function(e,n){var s=e._gsap||new ta(e);if("x"in s&&!n&&!s.uncache)return s;var o=e.style,u=s.scaleX<0,c="px",h="deg",f=Gt(e,de)||"0",p,v,g,w,m,C,b,x,E,P,k,T,S,V,L,O,M,N,G,J,tt,X,F,D,ot,zt,jt,ct,Rt,$,H,Kt;return p=v=g=C=b=x=E=P=k=0,w=m=1,s.svg=!!(e.getCTM&&fa(e)),V=Ui(e,s.svg),s.svg&&(D=(!s.uncache||f==="0px 0px")&&!n&&e.getAttribute("data-svg-origin"),xi(e,D||f,!!D||s.originIsAbsolute,s.smooth!==!1,V)),T=s.xOrigin||0,S=s.yOrigin||0,V!==Nn&&(N=V[0],G=V[1],J=V[2],tt=V[3],p=X=V[4],v=F=V[5],V.length===6?(w=Math.sqrt(N*N+G*G),m=Math.sqrt(tt*tt+J*J),C=N||G?He(G,N)*ke:0,E=J||tt?He(J,tt)*ke+C:0,E&&(m*=Math.abs(Math.cos(E*We))),s.svg&&(p-=T-(T*N+S*J),v-=S-(T*G+S*tt))):(Kt=V[6],$=V[7],jt=V[8],ct=V[9],Rt=V[10],H=V[11],p=V[12],v=V[13],g=V[14],L=He(Kt,Rt),b=L*ke,L&&(O=Math.cos(-L),M=Math.sin(-L),D=X*O+jt*M,ot=F*O+ct*M,zt=Kt*O+Rt*M,jt=X*-M+jt*O,ct=F*-M+ct*O,Rt=Kt*-M+Rt*O,H=$*-M+H*O,X=D,F=ot,Kt=zt),L=He(-J,Rt),x=L*ke,L&&(O=Math.cos(-L),M=Math.sin(-L),D=N*O-jt*M,ot=G*O-ct*M,zt=J*O-Rt*M,H=tt*M+H*O,N=D,G=ot,J=zt),L=He(G,N),C=L*ke,L&&(O=Math.cos(L),M=Math.sin(L),D=N*O+G*M,ot=X*O+F*M,G=G*O-N*M,F=F*O-X*M,N=D,X=ot),b&&Math.abs(b)+Math.abs(C)>359.9&&(b=C=0,x=180-x),w=et(Math.sqrt(N*N+G*G+J*J)),m=et(Math.sqrt(F*F+Kt*Kt)),L=He(X,F),E=Math.abs(L)>2e-4?L*ke:0,k=H?1/(H<0?-H:H):0),s.svg&&(D=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!ma(Gt(e,st)),D&&e.setAttribute("transform",D))),Math.abs(E)>90&&Math.abs(E)<270&&(u?(w*=-1,E+=C<=0?180:-180,C+=C<=0?180:-180):(m*=-1,E+=E<=0?180:-180)),n=n||s.uncache,s.x=p-((s.xPercent=p&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+c,s.y=v-((s.yPercent=v&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+c,s.z=g+c,s.scaleX=et(w),s.scaleY=et(m),s.rotation=et(C)+h,s.rotationX=et(b)+h,s.rotationY=et(x)+h,s.skewX=E+h,s.skewY=P+h,s.transformPerspective=k+c,(s.zOrigin=parseFloat(f.split(" ")[2])||0)&&(o[de]=fr(f)),s.xOffset=s.yOffset=0,s.force3D=Ct.force3D,s.renderTransform=s.svg?fp:pa?_a:dp,s.uncache=0,s},fr=function(e){return(e=e.split(" "))[0]+" "+e[1]},ui=function(e,n,s){var o=lt(n);return et(parseFloat(n)+parseFloat(fe(e,"x",s+"px",o)))+o},dp=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,_a(e,n)},Pe="0deg",En="0px",Ee=") ",_a=function(e,n){var s=n||this,o=s.xPercent,u=s.yPercent,c=s.x,h=s.y,f=s.z,p=s.rotation,v=s.rotationY,g=s.rotationX,w=s.skewX,m=s.skewY,C=s.scaleX,b=s.scaleY,x=s.transformPerspective,E=s.force3D,P=s.target,k=s.zOrigin,T="",S=E==="auto"&&e&&e!==1||E===!0;if(k&&(g!==Pe||v!==Pe)){var V=parseFloat(v)*We,L=Math.sin(V),O=Math.cos(V),M;V=parseFloat(g)*We,M=Math.cos(V),c=ui(P,c,L*M*-k),h=ui(P,h,-Math.sin(V)*-k),f=ui(P,f,O*M*-k+k)}x!==En&&(T+="perspective("+x+Ee),(o||u)&&(T+="translate("+o+"%, "+u+"%) "),(S||c!==En||h!==En||f!==En)&&(T+=f!==En||S?"translate3d("+c+", "+h+", "+f+") ":"translate("+c+", "+h+Ee),p!==Pe&&(T+="rotate("+p+Ee),v!==Pe&&(T+="rotateY("+v+Ee),g!==Pe&&(T+="rotateX("+g+Ee),(w!==Pe||m!==Pe)&&(T+="skew("+w+", "+m+Ee),(C!==1||b!==1)&&(T+="scale("+C+", "+b+Ee),P.style[st]=T||"translate(0, 0)"},fp=function(e,n){var s=n||this,o=s.xPercent,u=s.yPercent,c=s.x,h=s.y,f=s.rotation,p=s.skewX,v=s.skewY,g=s.scaleX,w=s.scaleY,m=s.target,C=s.xOrigin,b=s.yOrigin,x=s.xOffset,E=s.yOffset,P=s.forceCSS,k=parseFloat(c),T=parseFloat(h),S,V,L,O,M;f=parseFloat(f),p=parseFloat(p),v=parseFloat(v),v&&(v=parseFloat(v),p+=v,f+=v),f||p?(f*=We,p*=We,S=Math.cos(f)*g,V=Math.sin(f)*g,L=Math.sin(f-p)*-w,O=Math.cos(f-p)*w,p&&(v*=We,M=Math.tan(p-v),M=Math.sqrt(1+M*M),L*=M,O*=M,v&&(M=Math.tan(v),M=Math.sqrt(1+M*M),S*=M,V*=M)),S=et(S),V=et(V),L=et(L),O=et(O)):(S=g,O=w,V=L=0),(k&&!~(c+"").indexOf("px")||T&&!~(h+"").indexOf("px"))&&(k=fe(m,"x",c,"px"),T=fe(m,"y",h,"px")),(C||b||x||E)&&(k=et(k+C-(C*S+b*L)+x),T=et(T+b-(C*V+b*O)+E)),(o||u)&&(M=m.getBBox(),k=et(k+o/100*M.width),T=et(T+u/100*M.height)),M="matrix("+S+","+V+","+L+","+O+","+k+","+T+")",m.setAttribute("transform",M),P&&(m.style[st]=M)},vp=function(e,n,s,o,u){var c=360,h=it(u),f=parseFloat(u)*(h&&~u.indexOf("rad")?ke:1),p=f-o,v=o+p+"deg",g,w;return h&&(g=u.split("_")[1],g==="short"&&(p%=c,p!==p%(c/2)&&(p+=p<0?c:-c)),g==="cw"&&p<0?p=(p+c*so)%c-~~(p/c)*c:g==="ccw"&&p>0&&(p=(p-c*so)%c-~~(p/c)*c)),e._pt=w=new gt(e._pt,n,s,o,p,ep),w.e=v,w.u="deg",e._props.push(s),w},ho=function(e,n){for(var s in n)e[s]=n[s];return e},mp=function(e,n,s){var o=ho({},s._gsap),u="perspective,force3D,transformOrigin,svgOrigin",c=s.style,h,f,p,v,g,w,m,C;o.svg?(p=s.getAttribute("transform"),s.setAttribute("transform",""),c[st]=n,h=Bn(s,1),In(s,st),s.setAttribute("transform",p)):(p=getComputedStyle(s)[st],c[st]=n,h=Bn(s,1),c[st]=p);for(f in pe)p=o[f],v=h[f],p!==v&&u.indexOf(f)<0&&(m=lt(p),C=lt(v),g=m!==C?fe(s,f,p,C):parseFloat(p),w=parseFloat(v),e._pt=new gt(e._pt,h,f,g,w-g,ua),e._pt.u=C||0,e._props.push(f));ho(h,o)};bt("padding,margin,Width,Radius",function(l,e){var n="Top",s="Right",o="Bottom",u="Left",c=(e<3?[n,s,o,u]:[n+u,n+s,o+s,o+u]).map(function(h){return e<2?l+h:"border"+h+l});dr[e>1?"border"+l:l]=function(h,f,p,v,g){var w,m;if(arguments.length<4)return w=c.map(function(C){return Se(h,C,p)}),m=w.join(" "),m.split(w[0]).length===5?w[0]:m;w=(v+"").split(" "),m={},c.forEach(function(C,b){return m[C]=w[b]=w[b]||w[(b-1)/2|0]}),h.init(f,m,g)}});var ba={name:"css",register:yi,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,o,u){var c=this._props,h=e.style,f=s.vars.startAt,p,v,g,w,m,C,b,x,E,P,k,T,S,V,L;Fi||yi();for(b in n)if(b!=="autoRound"&&(v=n[b],!(yt[b]&&ea(b,n,s,o,e,u)))){if(m=typeof v,C=dr[b],m==="function"&&(v=v.call(s,o,e,u),m=typeof v),m==="string"&&~v.indexOf("random(")&&(v=Ln(v)),C)C(this,e,b,v,s)&&(L=1);else if(b.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(b)+"").trim(),v+="",he.lastIndex=0,he.test(p)||(x=lt(p),E=lt(v)),E?x!==E&&(p=fe(e,b,p,E)+E):x&&(v+=x),this.add(h,"setProperty",p,v,o,u,0,0,b),c.push(b);else if(m!=="undefined"){if(f&&b in f?(p=typeof f[b]=="function"?f[b].call(s,o,e,u):f[b],it(p)&&~p.indexOf("random(")&&(p=Ln(p)),lt(p+"")||(p+=Ct.units[b]||lt(Se(e,b))||""),(p+"").charAt(1)==="="&&(p=Se(e,b))):p=Se(e,b),w=parseFloat(p),P=m==="string"&&v.charAt(1)==="="&&v.substr(0,2),P&&(v=v.substr(2)),g=parseFloat(v),b in le&&(b==="autoAlpha"&&(w===1&&Se(e,"visibility")==="hidden"&&g&&(w=0),ue(this,h,"visibility",w?"inherit":"hidden",g?"inherit":"hidden",!g)),b!=="scale"&&b!=="transform"&&(b=le[b],~b.indexOf(",")&&(b=b.split(",")[0]))),k=b in pe,k){if(T||(S=e._gsap,S.renderTransform&&!n.parseTransform||Bn(e,n.parseTransform),V=n.smoothOrigin!==!1&&S.smooth,T=this._pt=new gt(this._pt,h,st,0,1,S.renderTransform,S,0,-1),T.dep=1),b==="scale")this._pt=new gt(this._pt,S,"scaleY",S.scaleY,(P?Ge(S.scaleY,P+g):g)-S.scaleY||0),c.push("scaleY",b),b+="X";else if(b==="transformOrigin"){v=hp(v),S.svg?xi(e,v,0,V,0,this):(E=parseFloat(v.split(" ")[2])||0,E!==S.zOrigin&&ue(this,S,"zOrigin",S.zOrigin,E),ue(this,h,b,fr(p),fr(v)));continue}else if(b==="svgOrigin"){xi(e,v,1,V,0,this);continue}else if(b in va){vp(this,S,b,w,P?Ge(w,P+v):v);continue}else if(b==="smoothOrigin"){ue(this,S,"smooth",S.smooth,v);continue}else if(b==="force3D"){S[b]=v;continue}else if(b==="transform"){mp(this,v,e);continue}}else b in h||(b=nn(b)||b);if(k||(g||g===0)&&(w||w===0)&&!tp.test(v)&&b in h)x=(p+"").substr((w+"").length),g||(g=0),E=lt(v)||(b in Ct.units?Ct.units[b]:x),x!==E&&(w=fe(e,b,p,E)),this._pt=new gt(this._pt,k?S:h,b,w,(P?Ge(w,P+g):g)-w,!k&&(E==="px"||b==="zIndex")&&n.autoRound!==!1?rp:ua),this._pt.u=E||0,x!==E&&E!=="%"&&(this._pt.b=p,this._pt.r=np);else if(b in h)cp.call(this,e,b,p,P?P+v:v);else if(b in e)this.add(e,b,p||e[b],P?P+v:v,o,u);else{Ai(b,v);continue}c.push(b)}}L&&aa(this)},get:Se,aliases:le,getSetter:function(e,n,s){var o=le[n];return o&&o.indexOf(",")<0&&(n=o),n in pe&&n!==de&&(e._gsap.x||Se(e,"x"))?s&&io===s?n==="scale"?ap:op:(io=s||{})&&(n==="scale"?lp:up):e.style&&!Si(e.style[n])?ip:~n.indexOf("-")?sp:Ni(e,n)},core:{_removeProperty:In,_getMatrix:Ui}};Lt.utils.checkPrefix=nn;(function(l,e,n,s){var o=bt(l+","+e+","+n,function(u){pe[u]=1});bt(e,function(u){Ct.units[u]="deg",va[u]=1}),le[o[13]]=l+","+e,bt(s,function(u){var c=u.split(":");le[c[1]]=o[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");bt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(l){Ct.units[l]="px"});Lt.registerPlugin(ba);var _p=Lt.registerPlugin(ba)||Lt;_p.core.Tween;var ga=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},wa={exports:{}};(function(l,e){(function(n,s){l.exports=s()})(ga,function(){var n=function(){function s(m){return c.appendChild(m.dom),m}function o(m){for(var C=0;C<c.children.length;C++)c.children[C].style.display=C===m?"block":"none";u=m}var u=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(m){m.preventDefault(),o(++u%c.children.length)},!1);var h=(performance||Date).now(),f=h,p=0,v=s(new n.Panel("FPS","#0ff","#002")),g=s(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=s(new n.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:c,addPanel:s,showPanel:o,begin:function(){h=(performance||Date).now()},end:function(){p++;var m=(performance||Date).now();if(g.update(m-h,200),m>f+1e3&&(v.update(1e3*p/(m-f),100),f=m,p=0,w)){var C=performance.memory;w.update(C.usedJSHeapSize/1048576,C.jsHeapSizeLimit/1048576)}return m},update:function(){h=this.end()},domElement:c,setMode:o}};return n.Panel=function(s,o,u){var c=1/0,h=0,f=Math.round,p=f(window.devicePixelRatio||1),v=80*p,g=48*p,w=3*p,m=2*p,C=3*p,b=15*p,x=74*p,E=30*p,P=document.createElement("canvas");P.width=v,P.height=g,P.style.cssText="width:80px;height:48px";var k=P.getContext("2d");return k.font="bold "+9*p+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=u,k.fillRect(0,0,v,g),k.fillStyle=o,k.fillText(s,w,m),k.fillRect(C,b,x,E),k.fillStyle=u,k.globalAlpha=.9,k.fillRect(C,b,x,E),{dom:P,update:function(T,S){c=Math.min(c,T),h=Math.max(h,T),k.fillStyle=u,k.globalAlpha=1,k.fillRect(0,0,v,b),k.fillStyle=o,k.fillText(f(T)+" "+s+" ("+f(c)+"-"+f(h)+")",w,m),k.drawImage(P,C+p,b,x-p,E,C,b,x-p,E),k.fillRect(C+x-p,b,p,E),k.fillStyle=u,k.globalAlpha=.9,k.fillRect(C+x-p,b,p,f((1-T/S)*E))}}},n})})(wa);var Cd=wa.exports,po={exports:{}};/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */(function(l,e){(function(n,s){s(e)})(ga,function(n){class s{constructor(t){const[r,a]=t.split("-"),d=r.split(".");this.major=parseInt(d[0],10),this.minor=parseInt(d[1],10),this.patch=parseInt(d[2],10),this.prerelease=a!=null?a:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class o{constructor(t){this.controller_=t}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class u{constructor(t){this.target=t}}class c extends u{constructor(t,r,a,d){super(t),this.value=r,this.presetKey=a,this.last=d!=null?d:!0}}class h extends u{constructor(t,r,a){super(t),this.value=r,this.presetKey=a}}class f extends u{constructor(t,r){super(t),this.expanded=r}}function p(i){return i}function v(i){return i==null}function g(i,t){if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r]!==t[r])return!1;return!0}const w={alreadydisposed:()=>"View has been already disposed",invalidparams:i=>`Invalid parameters for '${i.name}'`,nomatchingcontroller:i=>`No matching controller for '${i.key}'`,nomatchingview:i=>`No matching view for '${JSON.stringify(i.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:i=>`Property '${i.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class m{constructor(t){var r;this.message=(r=w[t.type](t.context))!==null&&r!==void 0?r:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}static alreadyDisposed(){return new m({type:"alreadydisposed"})}static notBindable(){return new m({type:"notbindable"})}static propertyNotFound(t){return new m({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new m({type:"shouldneverhappen"})}}class C{constructor(t,r,a){this.obj_=t,this.key_=r,this.presetKey_=a!=null?a:r}static isBindable(t){return!(t===null||typeof t!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,r){const a=this.read();if(!C.isBindable(a))throw m.notBindable();if(!(t in a))throw m.propertyNotFound(t);a[t]=r}}class b extends o{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,r){const a=r.bind(this);return this.controller_.valueController.emitter.on(t,()=>{a(new u(this))}),this}}class x{constructor(){this.observers_={}}on(t,r){let a=this.observers_[t];return a||(a=this.observers_[t]=[]),a.push({handler:r}),this}off(t,r){const a=this.observers_[t];return a&&(this.observers_[t]=a.filter(d=>d.handler!==r)),this}emit(t,r){const a=this.observers_[t];!a||a.forEach(d=>{d.handler(r)})}}const E="tp";function P(i){return(r,a)=>[E,"-",i,"v",r?`_${r}`:"",a?`-${a}`:""].join("")}function k(i,t){return r=>t(i(r))}function T(i){return i.rawValue}function S(i,t){i.emitter.on("change",k(T,t)),t(i.rawValue)}function V(i,t,r){S(i.value(t),r)}function L(i,t,r){r?i.classList.add(t):i.classList.remove(t)}function O(i,t){return r=>{L(i,t,r)}}function M(i,t){S(i,r=>{t.textContent=r!=null?r:""})}const N=P("btn");class G{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(N()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("button");a.classList.add(N("b")),r.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const d=t.createElement("div");d.classList.add(N("t")),M(r.props.value("title"),d),this.buttonElement.appendChild(d)}}class J{constructor(t,r){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=r.props,this.viewProps=r.viewProps,this.view=new G(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class tt{constructor(t,r){var a;this.constraint_=r==null?void 0:r.constraint,this.equals_=(a=r==null?void 0:r.equals)!==null&&a!==void 0?a:(d,_)=>d===_,this.emitter=new x,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,r){const a=r!=null?r:{forceEmit:!1,last:!0},d=this.constraint_?this.constraint_.constrain(t):t;!!this.equals_(this.rawValue_,d)&&!a.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=d,this.emitter.emit("change",{options:a,rawValue:d,sender:this}))}}class X{constructor(t){this.emitter=new x,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,r){const a=r!=null?r:{forceEmit:!1,last:!0};this.value_===t&&!a.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:a,rawValue:this.value_,sender:this}))}}function F(i,t){const r=t==null?void 0:t.constraint,a=t==null?void 0:t.equals;return!r&&!a?new X(i):new tt(i,t)}class D{constructor(t){this.emitter=new x,this.valMap_=t;for(const r in this.valMap_)this.valMap_[r].emitter.on("change",()=>{this.emitter.emit("change",{key:r,sender:this})})}static createCore(t){return Object.keys(t).reduce((a,d)=>Object.assign(a,{[d]:F(t[d])}),{})}static fromObject(t){const r=this.createCore(t);return new D(r)}get(t){return this.valMap_[t].rawValue}set(t,r){this.valMap_[t].rawValue=r}value(t){return this.valMap_[t]}}function ot(i,t){const a=Object.keys(t).reduce((d,_)=>{if(d===void 0)return;const A=t[_](i[_]);return A.succeeded?Object.assign(Object.assign({},d),{[_]:A.value}):void 0},{});return a}function zt(i,t){return i.reduce((r,a)=>{if(r===void 0)return;const d=t(a);if(!(!d.succeeded||d.value===void 0))return[...r,d.value]},[])}function jt(i){return i===null?!1:typeof i=="object"}function ct(i){return t=>r=>{if(!t&&r===void 0)return{succeeded:!1,value:void 0};if(t&&r===void 0)return{succeeded:!0,value:void 0};const a=i(r);return a!==void 0?{succeeded:!0,value:a}:{succeeded:!1,value:void 0}}}function Rt(i){return{custom:t=>ct(t)(i),boolean:ct(t=>typeof t=="boolean"?t:void 0)(i),number:ct(t=>typeof t=="number"?t:void 0)(i),string:ct(t=>typeof t=="string"?t:void 0)(i),function:ct(t=>typeof t=="function"?t:void 0)(i),constant:t=>ct(r=>r===t?t:void 0)(i),raw:ct(t=>t)(i),object:t=>ct(r=>{if(!!jt(r))return ot(r,t)})(i),array:t=>ct(r=>{if(!!Array.isArray(r))return zt(r,t)})(i)}}const $={optional:Rt(!0),required:Rt(!1)};function H(i,t){const r=$.required.object(t)(i);return r.succeeded?r.value:void 0}function Kt(i){return i&&i.parentElement&&i.parentElement.removeChild(i),null}function Ha(){return["veryfirst","first","last","verylast"]}const Xi=P(""),Wi={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class on{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const r=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Ha().forEach(a=>{r.classList.remove(Xi(void 0,Wi[a]))}),this.blade.get("positions").forEach(a=>{r.classList.add(Xi(void 0,Wi[a]))})}),this.viewProps.handleDispose(()=>{Kt(r)})}get parent(){return this.parent_}}const It="http://www.w3.org/2000/svg";function Un(i){i.offsetHeight}function qa(i,t){const r=i.style.transition;i.style.transition="none",t(),i.style.transition=r}function wr(i){return i.ontouchstart!==void 0}function Ya(){return new Function("return this")()}function Ga(){return Ya().document}function Xa(i){const t=i.ownerDocument.defaultView;return t&&"document"in t?i.getContext("2d"):null}const Wa={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function zn(i,t){const r=i.createElementNS(It,"svg");return r.innerHTML=Wa[t],r}function Qi(i,t,r){i.insertBefore(t,i.children[r])}function Zi(i){i.parentElement&&i.parentElement.removeChild(i)}function Ji(i){for(;i.children.length>0;)i.removeChild(i.children[0])}function Qa(i){for(;i.childNodes.length>0;)i.removeChild(i.childNodes[0])}function ts(i){return i.relatedTarget?i.relatedTarget:"explicitOriginalTarget"in i?i.explicitOriginalTarget:null}const an=P("lbl");function Za(i,t){const r=i.createDocumentFragment();return t.split(`
`).map(d=>i.createTextNode(d)).forEach((d,_)=>{_>0&&r.appendChild(i.createElement("br")),r.appendChild(d)}),r}class es{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(an()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(an("l")),V(r.props,"label",_=>{v(_)?this.element.classList.add(an(void 0,"nol")):(this.element.classList.remove(an(void 0,"nol")),Qa(a),a.appendChild(Za(t,_)))}),this.element.appendChild(a),this.labelElement=a;const d=t.createElement("div");d.classList.add(an("v")),this.element.appendChild(d),this.valueElement=d}}class jn extends on{constructor(t,r){const a=r.valueController.viewProps;super(Object.assign(Object.assign({},r),{view:new es(t,{props:r.props,viewProps:a}),viewProps:a})),this.props=r.props,this.valueController=r.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Ja={id:"button",type:"blade",accept(i){const t=$,r=H(i,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return r?{params:r}:null},controller(i){return new jn(i.document,{blade:i.blade,props:D.fromObject({label:i.params.label}),valueController:new J(i.document,{props:D.fromObject({title:i.params.title}),viewProps:i.viewProps})})},api(i){return!(i.controller instanceof jn)||!(i.controller.valueController instanceof J)?null:new b(i.controller)}};class Re extends on{constructor(t){super(t),this.value=t.value}}function ln(){return new D({positions:F([],{equals:g})})}class un extends D{constructor(t){super(t)}static create(t){const r={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},a=D.createCore(r);return new un(a)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!v(t)?`${t}px`:"auto"}bindExpandedClass(t,r){const a=()=>{this.styleExpanded?t.classList.add(r):t.classList.remove(r)};V(this,"expanded",a),V(this,"temporaryExpanded",a)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function tl(i,t){let r=0;return qa(t,()=>{i.set("expandedHeight",null),i.set("temporaryExpanded",!0),Un(t),r=t.clientHeight,i.set("temporaryExpanded",null),Un(t)}),r}function ns(i,t){t.style.height=i.styleHeight}function yr(i,t){i.value("expanded").emitter.on("beforechange",()=>{i.set("completed",!1),v(i.get("expandedHeight"))&&i.set("expandedHeight",tl(i,t)),i.set("shouldFixHeight",!0),Un(t)}),i.emitter.on("change",()=>{ns(i,t)}),ns(i,t),t.addEventListener("transitionend",r=>{r.propertyName==="height"&&i.cleanUpTransition()})}class xr extends o{constructor(t,r){super(t),this.rackApi_=r}}function el(i,t){return i.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function nl(i,t){return i.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function rl(i,t){const r=t||{};return i.addBlade(Object.assign(Object.assign({},r),{view:"separator"}))}function il(i,t){return i.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class Cr{constructor(t){this.emitter=new x,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const r of this.allItems())if(t(r))return r;return null}includes(t){return this.cache_.has(t)}add(t,r){if(this.includes(t))throw m.shouldNeverHappen();const a=r!==void 0?r:this.items_.length;this.items_.splice(a,0,t),this.cache_.add(t);const d=this.extract_(t);d&&(d.emitter.on("add",this.onSubListAdd_),d.emitter.on("remove",this.onSubListRemove_),d.allItems().forEach(_=>{this.cache_.add(_)})),this.emitter.emit("add",{index:a,item:t,root:this,target:this})}remove(t){const r=this.items_.indexOf(t);if(r<0)return;this.items_.splice(r,1),this.cache_.delete(t);const a=this.extract_(t);a&&(a.emitter.off("add",this.onSubListAdd_),a.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:r,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class Pr extends o{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const r=t.sender.target.read();this.emitter_.emit("change",{event:new c(this,r,this.controller_.binding.target.presetKey,t.options.last)})}}class Nt extends jn{constructor(t,r){super(t,r),this.binding=r.binding}}class Er extends o{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const r=t.sender.target.read();this.emitter_.emit("update",{event:new h(this,r,this.controller_.binding.target.presetKey)})}}class Zt extends jn{constructor(t,r){super(t,r),this.binding=r.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function sl(i){return i instanceof Kn?i.apiSet_:i instanceof xr?i.rackApi_.apiSet_:null}function cn(i,t){const r=i.find(a=>a.controller_===t);if(!r)throw m.shouldNeverHappen();return r}function rs(i,t,r){if(!C.isBindable(i))throw m.notBindable();return new C(i,t,r)}class Kn extends o{constructor(t,r){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new x,this.apiSet_=new Cr(sl),this.pool_=r;const a=this.controller_.rack;a.emitter.on("add",this.onRackAdd_),a.emitter.on("remove",this.onRackRemove_),a.emitter.on("inputchange",this.onRackInputChange_),a.emitter.on("monitorupdate",this.onRackMonitorUpdate_),a.children.forEach(d=>{this.setUpApi_(d)})}get children(){return this.controller_.rack.children.map(t=>cn(this.apiSet_,t))}addInput(t,r,a){const d=a||{},_=this.controller_.view.element.ownerDocument,y=this.pool_.createInput(_,rs(t,r,d.presetKey),d),A=new Pr(y);return this.add(A,d.index)}addMonitor(t,r,a){const d=a||{},_=this.controller_.view.element.ownerDocument,y=this.pool_.createMonitor(_,rs(t,r),d),A=new Er(y);return this.add(A,d.index)}addFolder(t){return nl(this,t)}addButton(t){return el(this,t)}addSeparator(t){return rl(this,t)}addTab(t){return il(this,t)}add(t,r){this.controller_.rack.add(t.controller_,r);const a=this.apiSet_.find(d=>d.controller_===t.controller_);return a&&this.apiSet_.remove(a),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const r=this.controller_.view.element.ownerDocument,a=this.pool_.createBlade(r,t),d=this.pool_.createBladeApi(a);return this.add(d,t.index)}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}setUpApi_(t){this.apiSet_.find(a=>a.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const r=cn(this.apiSet_,t.bladeController);this.apiSet_.remove(r)}}onRackInputChange_(t){const r=t.bladeController;if(r instanceof Nt){const a=cn(this.apiSet_,r),d=r.binding;this.emitter_.emit("change",{event:new c(a,d.target.read(),d.target.presetKey,t.options.last)})}else if(r instanceof Re){const a=cn(this.apiSet_,r);this.emitter_.emit("change",{event:new c(a,r.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof Zt))throw m.shouldNeverHappen();const r=cn(this.apiSet_,t.bladeController),a=t.bladeController.binding;this.emitter_.emit("update",{event:new h(r,a.target.read(),a.target.presetKey)})}}class kr extends xr{constructor(t,r){super(t,new Kn(t.rackController,r)),this.emitter_=new x,this.controller_.foldable.value("expanded").emitter.on("change",a=>{this.emitter_.emit("fold",{event:new f(this,a.sender.rawValue)})}),this.rackApi_.on("change",a=>{this.emitter_.emit("change",{event:a})}),this.rackApi_.on("update",a=>{this.emitter_.emit("update",{event:a})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,r,a){return this.rackApi_.addInput(t,r,a)}addMonitor(t,r,a){return this.rackApi_.addMonitor(t,r,a)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,r){return this.rackApi_.add(t,r)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}}class Sr extends on{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class ol{constructor(t,r){const a=P(r.viewName);this.element=t.createElement("div"),this.element.classList.add(a()),r.viewProps.bindClassModifiers(this.element)}}function al(i,t){for(let r=0;r<i.length;r++){const a=i[r];if(a instanceof Nt&&a.binding===t)return a}return null}function ll(i,t){for(let r=0;r<i.length;r++){const a=i[r];if(a instanceof Zt&&a.binding===t)return a}return null}function ul(i,t){for(let r=0;r<i.length;r++){const a=i[r];if(a instanceof Re&&a.value===t)return a}return null}function Vr(i){return i instanceof hn?i.rack:i instanceof Sr?i.rackController.rack:null}function cl(i){const t=Vr(i);return t?t.bcSet_:null}class hl{constructor(t){var r;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new x,this.blade_=t!=null?t:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Cr(cl),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,r){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,r)}remove(t){t.parent_=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(r=>r instanceof t)}onSetAdd_(t){this.updatePositions_();const r=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:r,sender:this}),!r)return;const a=t.item;if(a.viewProps.emitter.on("change",this.onChildViewPropsChange_),a.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),a.viewProps.handleDispose(this.onChildDispose_),a instanceof Nt)a.binding.emitter.on("change",this.onChildInputChange_);else if(a instanceof Zt)a.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(a instanceof Re)a.value.emitter.on("change",this.onChildValueChange_);else{const d=Vr(a);if(d){const _=d.emitter;_.on("layout",this.onDescendantLayout_),_.on("inputchange",this.onDescendantInputChange_),_.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const r=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:r,sender:this}),!r)return;const a=t.item;if(a instanceof Nt)a.binding.emitter.off("change",this.onChildInputChange_);else if(a instanceof Zt)a.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(a instanceof Re)a.value.emitter.off("change",this.onChildValueChange_);else{const d=Vr(a);if(d){const _=d.emitter;_.off("layout",this.onDescendantLayout_),_.off("inputchange",this.onDescendantInputChange_),_.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(d=>!d.viewProps.get("hidden")),r=t[0],a=t[t.length-1];this.bcSet_.items.forEach(d=>{const _=[];d===r&&(_.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&_.push("veryfirst")),d===a&&(_.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&_.push("verylast")),d.blade.set("positions",_)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(r=>r.viewProps.get("disposed")).forEach(r=>{this.bcSet_.remove(r)})}onChildInputChange_(t){const r=al(this.find(Nt),t.sender);if(!r)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:r,options:t.options,sender:this})}onChildMonitorUpdate_(t){const r=ll(this.find(Zt),t.sender);if(!r)throw m.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:r,sender:this})}onChildValueChange_(t){const r=ul(this.find(Re),t.sender);if(!r)throw m.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:r,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class hn extends on{constructor(t,r){super(Object.assign(Object.assign({},r),{view:new ol(t,{viewName:"brk",viewProps:r.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const a=new hl(r.root?void 0:r.blade);a.emitter.on("add",this.onRackAdd_),a.emitter.on("remove",this.onRackRemove_),this.rack=a,this.viewProps.handleDispose(()=>{for(let d=this.rack.children.length-1;d>=0;d--)this.rack.children[d].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.isRoot||Qi(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.isRoot||Zi(t.bladeController.view.element)}}const is=P("cnt");class pl{constructor(t,r){this.className_=P(r.viewName||"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),is()),r.viewProps.bindClassModifiers(this.element),this.foldable_=r.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),V(this.foldable_,"completed",O(this.element,this.className_(void 0,"cpl")));const a=t.createElement("button");a.classList.add(this.className_("b")),V(r.props,"title",A=>{v(A)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),r.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const d=t.createElement("div");d.classList.add(this.className_("t")),M(r.props.value("title"),d),this.buttonElement.appendChild(d),this.titleElement=d;const _=t.createElement("div");_.classList.add(this.className_("m")),this.buttonElement.appendChild(_);const y=r.containerElement;y.classList.add(this.className_("c")),this.element.appendChild(y),this.containerElement=y}}class Ar extends Sr{constructor(t,r){var a;const d=un.create((a=r.expanded)!==null&&a!==void 0?a:!0),_=new hn(t,{blade:r.blade,root:r.root,viewProps:r.viewProps});super(Object.assign(Object.assign({},r),{rackController:_,view:new pl(t,{containerElement:_.view.element,foldable:d,props:r.props,viewName:r.root?"rot":void 0,viewProps:r.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=r.props,this.foldable=d,yr(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const dl={id:"folder",type:"blade",accept(i){const t=$,r=H(i,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return r?{params:r}:null},controller(i){return new Ar(i.document,{blade:i.blade,expanded:i.params.expanded,props:D.fromObject({title:i.params.title}),viewProps:i.viewProps})},api(i){return i.controller instanceof Ar?new kr(i.controller,i.pool):null}};class Ie extends Re{constructor(t,r){const a=r.valueController.viewProps;super(Object.assign(Object.assign({},r),{value:r.valueController.value,view:new es(t,{props:r.props,viewProps:a}),viewProps:a})),this.props=r.props,this.valueController=r.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class ss extends o{}const os=P("spr");class fl{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(os()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("hr");a.classList.add(os("r")),this.element.appendChild(a)}}class as extends on{constructor(t,r){super(Object.assign(Object.assign({},r),{view:new fl(t,{viewProps:r.viewProps})}))}}const vl={id:"separator",type:"blade",accept(i){const r=H(i,{view:$.required.constant("separator")});return r?{params:r}:null},controller(i){return new as(i.document,{blade:i.blade,viewProps:i.viewProps})},api(i){return i.controller instanceof as?new ss(i.controller):null}},ml=P("");function ls(i,t){return O(i,ml(void 0,t))}class Jt extends D{constructor(t){super(t)}static create(t){var r,a;const d=t!=null?t:{},_={disabled:(r=d.disabled)!==null&&r!==void 0?r:!1,disposed:!1,hidden:(a=d.hidden)!==null&&a!==void 0?a:!1},y=D.createCore(_);return new Jt(y)}bindClassModifiers(t){V(this,"disabled",ls(t,"disabled")),V(this,"hidden",ls(t,"hidden"))}bindDisabled(t){V(this,"disabled",r=>{t.disabled=r})}bindTabIndex(t){V(this,"disabled",r=>{t.tabIndex=r?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",r=>{r&&t()})}}const pn=P("tbi");class _l{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(pn()),r.viewProps.bindClassModifiers(this.element),V(r.props,"selected",_=>{_?this.element.classList.add(pn(void 0,"sel")):this.element.classList.remove(pn(void 0,"sel"))});const a=t.createElement("button");a.classList.add(pn("b")),r.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const d=t.createElement("div");d.classList.add(pn("t")),M(r.props.value("title"),d),this.buttonElement.appendChild(d),this.titleElement=d}}class bl{constructor(t,r){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=r.props,this.viewProps=r.viewProps,this.view=new _l(t,{props:r.props,viewProps:r.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class us{constructor(t,r){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new bl(t,{props:r.itemProps,viewProps:Jt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new hn(t,{blade:ln(),viewProps:Jt.create()}),this.props=r.props,V(this.props,"selected",a=>{this.itemController.props.set("selected",a),this.contentController.viewProps.set("hidden",!a)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class cs{constructor(t,r){this.controller_=t,this.rackApi_=r}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,r){this.rackApi_.add(t,r)}remove(t){this.rackApi_.remove(t)}addInput(t,r,a){return this.rackApi_.addInput(t,r,a)}addMonitor(t,r,a){return this.rackApi_.addMonitor(t,r,a)}addBlade(t){return this.rackApi_.addBlade(t)}}class hs extends xr{constructor(t,r){super(t,new Kn(t.rackController,r)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new x,this.pageApiMap_=new Map,this.rackApi_.on("change",a=>{this.emitter_.emit("change",{event:a})}),this.rackApi_.on("update",a=>{this.emitter_.emit("update",{event:a})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(a=>{this.setUpPageApi_(a)})}get pages(){return this.controller_.pageSet.items.map(t=>{const r=this.pageApiMap_.get(t);if(!r)throw m.shouldNeverHappen();return r})}addPage(t){const r=this.controller_.view.element.ownerDocument,a=new us(r,{itemProps:D.fromObject({selected:!1,title:t.title}),props:D.fromObject({selected:!1})});this.controller_.add(a,t.index);const d=this.pageApiMap_.get(a);if(!d)throw m.shouldNeverHappen();return d}removePage(t){this.controller_.remove(t)}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}setUpPageApi_(t){const r=this.rackApi_.apiSet_.find(d=>d.controller_===t.contentController);if(!r)throw m.shouldNeverHappen();const a=new cs(t,r);this.pageApiMap_.set(t,a)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw m.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}const $n=P("tab");class gl{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add($n(),is()),r.viewProps.bindClassModifiers(this.element),S(r.empty,O(this.element,$n(void 0,"nop")));const a=t.createElement("div");a.classList.add($n("i")),this.element.appendChild(a),this.itemsElement=a;const d=r.contentsElement;d.classList.add($n("c")),this.element.appendChild(d),this.contentsElement=d}}class ps extends Sr{constructor(t,r){const a=new hn(t,{blade:r.blade,viewProps:r.viewProps}),d=F(!0);super({blade:r.blade,rackController:a,view:new gl(t,{contentsElement:a.view.element,empty:d,viewProps:r.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new Cr(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=d,this.applyPages_()}get pageSet(){return this.pageSet_}add(t,r){this.pageSet_.add(t,r!=null?r:this.pageSet_.items.length)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(t){const r=t.item;Qi(this.view.itemsElement,r.itemController.view.element,t.index),this.rackController.rack.add(r.contentController,t.index),r.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(t){const r=t.item;Zi(r.itemController.view.element),this.rackController.rack.remove(r.contentController),r.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const t=this.pageSet_.items.findIndex(r=>r.props.get("selected"));t<0?this.pageSet_.items.forEach((r,a)=>{r.props.set("selected",a===0)}):this.pageSet_.items.forEach((r,a)=>{r.props.set("selected",a===t)})}onPageSelectedChange_(t){if(t.rawValue){const r=this.pageSet_.items.findIndex(a=>a.props.value("selected")===t.sender);this.pageSet_.items.forEach((a,d)=>{a.props.set("selected",d===r)})}else this.keepSelection_()}}const ds={id:"tab",type:"blade",accept(i){const t=$,r=H(i,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!r||r.pages.length===0?null:{params:r}},controller(i){const t=new ps(i.document,{blade:i.blade,viewProps:i.viewProps});return i.params.pages.forEach(r=>{const a=new us(i.document,{itemProps:D.fromObject({selected:!1,title:r.title}),props:D.fromObject({selected:!1})});t.add(a)}),t},api(i){return i.controller instanceof ps?new hs(i.controller,i.pool):null}};function wl(i,t){const r=i.accept(t.params);if(!r)return null;const a=$.optional.boolean(t.params.disabled).value,d=$.optional.boolean(t.params.hidden).value;return i.controller({blade:ln(),document:t.document,params:Object.assign(Object.assign({},r.params),{disabled:a,hidden:d}),viewProps:Jt.create({disabled:a,hidden:d})})}class yl{constructor(){this.disabled=!1,this.emitter=new x}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class xl{constructor(t,r){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new x,this.interval_=r,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class be{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((r,a)=>a.constrain(r),t)}}function Bt(i,t){if(i instanceof t)return i;if(i instanceof be){const r=i.constraints.reduce((a,d)=>a||(d instanceof t?d:null),null);if(r)return r}return null}class dn{constructor(t){this.options=t}constrain(t){const r=this.options;return r.length===0||r.filter(d=>d.value===t).length>0?t:r[0].value}}class wt{constructor(t){this.maxValue=t.max,this.minValue=t.min}constrain(t){let r=t;return v(this.minValue)||(r=Math.max(r,this.minValue)),v(this.maxValue)||(r=Math.min(r,this.maxValue)),r}}class ge{constructor(t){this.step=t}constrain(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}const Tr=P("lst");class Cl{constructor(t,r){this.onValueChange_=this.onValueChange_.bind(this),this.props_=r.props,this.element=t.createElement("div"),this.element.classList.add(Tr()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("select");a.classList.add(Tr("s")),V(this.props_,"options",_=>{Ji(a),_.forEach((y,A)=>{const R=t.createElement("option");R.dataset.index=String(A),R.textContent=y.text,R.value=String(y.value),a.appendChild(R)})}),r.viewProps.bindDisabled(a),this.element.appendChild(a),this.selectElement=a;const d=t.createElement("div");d.classList.add(Tr("m")),d.appendChild(zn(t,"dropdown")),this.element.appendChild(d),r.value.emitter.on("change",this.onValueChange_),this.value_=r.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class fn{constructor(t,r){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=r.props,this.value=r.value,this.viewProps=r.viewProps,this.view=new Cl(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const a=t.currentTarget.selectedOptions.item(0);if(!a)return;const d=Number(a.dataset.index);this.value.rawValue=this.props.get("options")[d].value}}const fs=P("pop");class Pl{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(fs()),r.viewProps.bindClassModifiers(this.element),S(r.shows,O(this.element,fs(void 0,"v")))}}class vs{constructor(t,r){this.shows=F(!1),this.viewProps=r.viewProps,this.view=new Pl(t,{shows:this.shows,viewProps:this.viewProps})}}const ms=P("txt");class El{constructor(t,r){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(ms()),r.viewProps.bindClassModifiers(this.element),this.props_=r.props,this.props_.emitter.on("change",this.onChange_);const a=t.createElement("input");a.classList.add(ms("i")),a.type="text",r.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,r.value.emitter.on("change",this.onChange_),this.value_=r.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class Hn{constructor(t,r){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=r.parser,this.props=r.props,this.value=r.value,this.viewProps=r.viewProps,this.view=new El(t,{props:r.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const a=t.currentTarget.value,d=this.parser_(a);v(d)||(this.value.rawValue=d),this.view.refresh()}}function kl(i){return String(i)}function _s(i){return i==="false"?!1:!!i}function bs(i){return kl(i)}class Sl{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Vl={"**":(i,t)=>Math.pow(i,t),"*":(i,t)=>i*t,"/":(i,t)=>i/t,"%":(i,t)=>i%t,"+":(i,t)=>i+t,"-":(i,t)=>i-t,"<<":(i,t)=>i<<t,">>":(i,t)=>i>>t,">>>":(i,t)=>i>>>t,"&":(i,t)=>i&t,"^":(i,t)=>i^t,"|":(i,t)=>i|t};class Al{constructor(t,r,a){this.left=r,this.operator=t,this.right=a}evaluate(){const t=Vl[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Tl={"+":i=>i,"-":i=>-i,"~":i=>~i};class Ml{constructor(t,r){this.operator=t,this.expression=r}evaluate(){const t=Tl[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Mr(i){return(t,r)=>{for(let a=0;a<i.length;a++){const d=i[a](t,r);if(d!=="")return d}return""}}function vn(i,t){var r;const a=i.substr(t).match(/^\s+/);return(r=a&&a[0])!==null&&r!==void 0?r:""}function Ol(i,t){const r=i.substr(t,1);return r.match(/^[1-9]$/)?r:""}function mn(i,t){var r;const a=i.substr(t).match(/^[0-9]+/);return(r=a&&a[0])!==null&&r!==void 0?r:""}function Ll(i,t){const r=mn(i,t);if(r!=="")return r;const a=i.substr(t,1);if(t+=1,a!=="-"&&a!=="+")return"";const d=mn(i,t);return d===""?"":a+d}function Or(i,t){const r=i.substr(t,1);if(t+=1,r.toLowerCase()!=="e")return"";const a=Ll(i,t);return a===""?"":r+a}function gs(i,t){const r=i.substr(t,1);if(r==="0")return r;const a=Ol(i,t);return t+=a.length,a===""?"":a+mn(i,t)}function Dl(i,t){const r=gs(i,t);if(t+=r.length,r==="")return"";const a=i.substr(t,1);if(t+=a.length,a!==".")return"";const d=mn(i,t);return t+=d.length,r+a+d+Or(i,t)}function Rl(i,t){const r=i.substr(t,1);if(t+=r.length,r!==".")return"";const a=mn(i,t);return t+=a.length,a===""?"":r+a+Or(i,t)}function Il(i,t){const r=gs(i,t);return t+=r.length,r===""?"":r+Or(i,t)}const Nl=Mr([Dl,Rl,Il]);function Bl(i,t){var r;const a=i.substr(t).match(/^[01]+/);return(r=a&&a[0])!==null&&r!==void 0?r:""}function Fl(i,t){const r=i.substr(t,2);if(t+=r.length,r.toLowerCase()!=="0b")return"";const a=Bl(i,t);return a===""?"":r+a}function Ul(i,t){var r;const a=i.substr(t).match(/^[0-7]+/);return(r=a&&a[0])!==null&&r!==void 0?r:""}function zl(i,t){const r=i.substr(t,2);if(t+=r.length,r.toLowerCase()!=="0o")return"";const a=Ul(i,t);return a===""?"":r+a}function jl(i,t){var r;const a=i.substr(t).match(/^[0-9a-f]+/i);return(r=a&&a[0])!==null&&r!==void 0?r:""}function Kl(i,t){const r=i.substr(t,2);if(t+=r.length,r.toLowerCase()!=="0x")return"";const a=jl(i,t);return a===""?"":r+a}const $l=Mr([Fl,zl,Kl]),Hl=Mr([$l,Nl]);function ql(i,t){const r=Hl(i,t);return t+=r.length,r===""?null:{evaluable:new Sl(r),cursor:t}}function Yl(i,t){const r=i.substr(t,1);if(t+=r.length,r!=="(")return null;const a=ys(i,t);if(!a)return null;t=a.cursor,t+=vn(i,t).length;const d=i.substr(t,1);return t+=d.length,d!==")"?null:{evaluable:a.evaluable,cursor:t}}function Gl(i,t){return ql(i,t)||Yl(i,t)}function ws(i,t){const r=Gl(i,t);if(r)return r;const a=i.substr(t,1);if(t+=a.length,a!=="+"&&a!=="-"&&a!=="~")return null;const d=ws(i,t);return d?(t=d.cursor,{cursor:t,evaluable:new Ml(a,d.evaluable)}):null}function Xl(i,t,r){r+=vn(t,r).length;const a=i.filter(d=>t.startsWith(d,r))[0];return a?(r+=a.length,r+=vn(t,r).length,{cursor:r,operator:a}):null}function Wl(i,t){return(r,a)=>{const d=i(r,a);if(!d)return null;a=d.cursor;let _=d.evaluable;for(;;){const y=Xl(t,r,a);if(!y)break;a=y.cursor;const A=i(r,a);if(!A)return null;a=A.cursor,_=new Al(y.operator,_,A.evaluable)}return _?{cursor:a,evaluable:_}:null}}const Ql=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((i,t)=>Wl(i,t),ws);function ys(i,t){return t+=vn(i,t).length,Ql(i,t)}function Zl(i){const t=ys(i,0);return!t||t.cursor+vn(i,t.cursor).length!==i.length?null:t.evaluable}function $t(i){var t;const r=Zl(i);return(t=r==null?void 0:r.evaluate())!==null&&t!==void 0?t:null}function xs(i){if(typeof i=="number")return i;if(typeof i=="string"){const t=$t(i);if(!v(t))return t}return 0}function Jl(i){return String(i)}function ft(i){return t=>t.toFixed(Math.max(Math.min(i,20),0))}const tu=ft(0);function qn(i){return tu(i)+"%"}function Cs(i){return String(i)}function Lr(i){return i}function Ps(i,t){for(;i.length<t;)i.push(void 0)}function eu(i){const t=[];return Ps(t,i),F(t)}function nu(i){const t=i.indexOf(void 0);return t<0?i:i.slice(0,t)}function ru(i,t){const r=[...nu(i),t];return r.length>i.length?r.splice(0,r.length-i.length):Ps(r,i.length),r}function _n({primary:i,secondary:t,forward:r,backward:a}){let d=!1;function _(y){d||(d=!0,y(),d=!1)}i.emitter.on("change",y=>{_(()=>{t.setRawValue(r(i,t),y.options)})}),t.emitter.on("change",y=>{_(()=>{i.setRawValue(a(i,t),y.options)}),_(()=>{t.setRawValue(r(i,t),y.options)})}),_(()=>{t.setRawValue(r(i,t),{forceEmit:!1,last:!0})})}function vt(i,t){const r=i*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+r:t.downKey?-r:0}function bn(i){return{altKey:i.altKey,downKey:i.key==="ArrowDown",shiftKey:i.shiftKey,upKey:i.key==="ArrowUp"}}function Ht(i){return{altKey:i.altKey,downKey:i.key==="ArrowLeft",shiftKey:i.shiftKey,upKey:i.key==="ArrowRight"}}function iu(i){return i==="ArrowUp"||i==="ArrowDown"}function Es(i){return iu(i)||i==="ArrowLeft"||i==="ArrowRight"}function Dr(i,t){const r=t.ownerDocument.defaultView,a=t.getBoundingClientRect();return{x:i.pageX-((r&&r.scrollX||0)+a.left),y:i.pageY-((r&&r.scrollY||0)+a.top)}}class we{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new x,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const r=this.elem_.getBoundingClientRect();return{bounds:{width:r.width,height:r.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var r;t.preventDefault(),(r=t.currentTarget)===null||r===void 0||r.focus();const a=this.elem_.ownerDocument;a.addEventListener("mousemove",this.onDocumentMouseMove_),a.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Dr(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Dr(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const r=this.elem_.ownerDocument;r.removeEventListener("mousemove",this.onDocumentMouseMove_),r.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Dr(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const r=t.targetTouches.item(0),a=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(r?{x:r.clientX-a.left,y:r.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=r}onTouchMove_(t){const r=t.targetTouches.item(0),a=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(r?{x:r.clientX-a.left,y:r.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=r}onTouchEnd_(t){var r;const a=(r=t.targetTouches.item(0))!==null&&r!==void 0?r:this.lastTouch_,d=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(a?{x:a.clientX-d.left,y:a.clientY-d.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function Q(i,t,r,a,d){const _=(i-t)/(r-t);return a+_*(d-a)}function ks(i){return String(i.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function W(i,t,r){return Math.min(Math.max(i,t),r)}function Rr(i,t){return(i%t+t)%t}const Et=P("txt");class su{constructor(t,r){this.onChange_=this.onChange_.bind(this),this.props_=r.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Et(),Et(void 0,"num")),r.arrayPosition&&this.element.classList.add(Et(void 0,r.arrayPosition)),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("input");a.classList.add(Et("i")),a.type="text",r.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=r.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Et()),this.inputElement.classList.add(Et("i"));const d=t.createElement("div");d.classList.add(Et("k")),this.element.appendChild(d),this.knobElement=d;const _=t.createElementNS(It,"svg");_.classList.add(Et("g")),this.knobElement.appendChild(_);const y=t.createElementNS(It,"path");y.classList.add(Et("gb")),_.appendChild(y),this.guideBodyElem_=y;const A=t.createElementNS(It,"path");A.classList.add(Et("gh")),_.appendChild(A),this.guideHeadElem_=A;const R=t.createElement("div");R.classList.add(P("tt")()),this.knobElement.appendChild(R),this.tooltipElem_=R,r.value.emitter.on("change",this.onChange_),this.value=r.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(Et(void 0,"drg"));return}this.element.classList.add(Et(void 0,"drg"));const r=t.rawValue/this.props_.get("draggingScale"),a=r+(r>0?-1:r<0?1:0),d=W(-a,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${a+d},0 L${a},4 L${a+d},8`,`M ${r},-1 L${r},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${r},4`);const _=this.props_.get("formatter");this.tooltipElem_.textContent=_(this.value.rawValue),this.tooltipElem_.style.left=`${r}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class gn{constructor(t,r){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=r.baseStep,this.parser_=r.parser,this.props=r.props,this.value=r.value,this.viewProps=r.viewProps,this.dragging_=F(null),this.view=new su(t,{arrayPosition:r.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const a=new we(this.view.knobElement);a.emitter.on("down",this.onPointerDown_),a.emitter.on("move",this.onPointerMove_),a.emitter.on("up",this.onPointerUp_)}onInputChange_(t){const a=t.currentTarget.value,d=this.parser_(a);v(d)||(this.value.rawValue=d),this.view.refresh()}onInputKeyDown_(t){const r=vt(this.baseStep_,bn(t));r!==0&&this.value.setRawValue(this.value.rawValue+r,{forceEmit:!1,last:!1})}onInputKeyUp_(t){vt(this.baseStep_,bn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const r=t.point.x-t.bounds.width/2;return this.originRawValue_+r*this.props.get("draggingScale")}onPointerMove_(t){const r=this.computeDraggingValue_(t.data);r!==null&&(this.value.setRawValue(r,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const r=this.computeDraggingValue_(t.data);r!==null&&(this.value.setRawValue(r,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ir=P("sld");class ou{constructor(t,r){this.onChange_=this.onChange_.bind(this),this.props_=r.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Ir()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(Ir("t")),r.viewProps.bindTabIndex(a),this.element.appendChild(a),this.trackElement=a;const d=t.createElement("div");d.classList.add(Ir("k")),this.trackElement.appendChild(d),this.knobElement=d,r.value.emitter.on("change",this.onChange_),this.value=r.value,this.update_()}update_(){const t=W(Q(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class au{constructor(t,r){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=r.baseStep,this.value=r.value,this.viewProps=r.viewProps,this.props=r.props,this.view=new ou(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,r){!t.point||this.value.setRawValue(Q(W(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),r)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const r=vt(this.baseStep_,Ht(t));r!==0&&this.value.setRawValue(this.value.rawValue+r,{forceEmit:!1,last:!1})}onKeyUp_(t){vt(this.baseStep_,Ht(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Nr=P("sldtxt");class lu{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(Nr());const a=t.createElement("div");a.classList.add(Nr("s")),this.sliderView_=r.sliderView,a.appendChild(this.sliderView_.element),this.element.appendChild(a);const d=t.createElement("div");d.classList.add(Nr("t")),this.textView_=r.textView,d.appendChild(this.textView_.element),this.element.appendChild(d)}}class Br{constructor(t,r){this.value=r.value,this.viewProps=r.viewProps,this.sliderC_=new au(t,{baseStep:r.baseStep,props:r.sliderProps,value:r.value,viewProps:this.viewProps}),this.textC_=new gn(t,{baseStep:r.baseStep,parser:r.parser,props:r.textProps,value:r.value,viewProps:r.viewProps}),this.view=new lu(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function wn(i,t){i.write(t)}function Yn(i){const t=$;if(Array.isArray(i))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(i).value;if(typeof i=="object")return t.required.raw(i).value}function Ss(i){if(i==="inline"||i==="popup")return i}function te(i){const t=$;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(i).value}function Vs(i){if(Array.isArray(i))return i;const t=[];return Object.keys(i).forEach(r=>{t.push({text:r,value:i[r]})}),t}function Fr(i){return v(i)?null:new dn(Vs(i))}function Ur(i){const t=i?Bt(i,dn):null;return t?t.options:null}function uu(i){const t=i?Bt(i,ge):null;return t?t.step:null}function Gn(i,t){const r=i&&Bt(i,ge);return r?ks(r.step):Math.max(ks(t),2)}function Ne(i){const t=uu(i);return t!=null?t:1}function Be(i,t){var r;const a=i&&Bt(i,ge),d=Math.abs((r=a==null?void 0:a.step)!==null&&r!==void 0?r:t);return d===0?.1:Math.pow(10,Math.floor(Math.log10(d))-1)}const Xn=P("ckb");class cu{constructor(t,r){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Xn()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("label");a.classList.add(Xn("l")),this.element.appendChild(a);const d=t.createElement("input");d.classList.add(Xn("i")),d.type="checkbox",a.appendChild(d),this.inputElement=d,r.viewProps.bindDisabled(this.inputElement);const _=t.createElement("div");_.classList.add(Xn("w")),a.appendChild(_);const y=zn(t,"check");_.appendChild(y),r.value.emitter.on("change",this.onValueChange_),this.value=r.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class hu{constructor(t,r){this.onInputChange_=this.onInputChange_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new cu(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const r=t.currentTarget;this.value.rawValue=r.checked}}function pu(i){const t=[],r=Fr(i.options);return r&&t.push(r),new be(t)}const du={id:"input-bool",type:"input",accept:(i,t)=>{if(typeof i!="boolean")return null;const a=H(t,{options:$.optional.custom(Yn)});return a?{initialValue:i,params:a}:null},binding:{reader:i=>_s,constraint:i=>pu(i.params),writer:i=>wn},controller:i=>{var t;const r=i.document,a=i.value,d=i.constraint;return d&&Bt(d,dn)?new fn(r,{props:D.fromObject({options:(t=Ur(d))!==null&&t!==void 0?t:[]}),value:a,viewProps:i.viewProps}):new hu(r,{value:a,viewProps:i.viewProps})}},ye=P("col");class fu{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(ye()),r.foldable.bindExpandedClass(this.element,ye(void 0,"expanded")),V(r.foldable,"completed",O(this.element,ye(void 0,"cpl")));const a=t.createElement("div");a.classList.add(ye("h")),this.element.appendChild(a);const d=t.createElement("div");d.classList.add(ye("s")),a.appendChild(d),this.swatchElement=d;const _=t.createElement("div");if(_.classList.add(ye("t")),a.appendChild(_),this.textElement=_,r.pickerLayout==="inline"){const y=t.createElement("div");y.classList.add(ye("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}function vu(i,t,r){const a=W(i/255,0,1),d=W(t/255,0,1),_=W(r/255,0,1),y=Math.max(a,d,_),A=Math.min(a,d,_),R=y-A;let I=0,z=0;const j=(A+y)/2;return R!==0&&(z=R/(1-Math.abs(y+A-1)),a===y?I=(d-_)/R:d===y?I=2+(_-a)/R:I=4+(a-d)/R,I=I/6+(I<0?1:0)),[I*360,z*100,j*100]}function mu(i,t,r){const a=(i%360+360)%360,d=W(t/100,0,1),_=W(r/100,0,1),y=(1-Math.abs(2*_-1))*d,A=y*(1-Math.abs(a/60%2-1)),R=_-y/2;let I,z,j;return a>=0&&a<60?[I,z,j]=[y,A,0]:a>=60&&a<120?[I,z,j]=[A,y,0]:a>=120&&a<180?[I,z,j]=[0,y,A]:a>=180&&a<240?[I,z,j]=[0,A,y]:a>=240&&a<300?[I,z,j]=[A,0,y]:[I,z,j]=[y,0,A],[(I+R)*255,(z+R)*255,(j+R)*255]}function _u(i,t,r){const a=W(i/255,0,1),d=W(t/255,0,1),_=W(r/255,0,1),y=Math.max(a,d,_),A=Math.min(a,d,_),R=y-A;let I;R===0?I=0:y===a?I=60*(((d-_)/R%6+6)%6):y===d?I=60*((_-a)/R+2):I=60*((a-d)/R+4);const z=y===0?0:R/y,j=y;return[I,z*100,j*100]}function As(i,t,r){const a=Rr(i,360),d=W(t/100,0,1),_=W(r/100,0,1),y=_*d,A=y*(1-Math.abs(a/60%2-1)),R=_-y;let I,z,j;return a>=0&&a<60?[I,z,j]=[y,A,0]:a>=60&&a<120?[I,z,j]=[A,y,0]:a>=120&&a<180?[I,z,j]=[0,y,A]:a>=180&&a<240?[I,z,j]=[0,A,y]:a>=240&&a<300?[I,z,j]=[A,0,y]:[I,z,j]=[y,0,A],[(I+R)*255,(z+R)*255,(j+R)*255]}function bu(i,t,r){const a=r+t*(100-Math.abs(2*r-100))/200;return[i,a!==0?t*(100-Math.abs(2*r-100))/a:0,r+t*(100-Math.abs(2*r-100))/(2*100)]}function gu(i,t,r){const a=100-Math.abs(r*(200-t)/100-100);return[i,a!==0?t*r/a:0,r*(200-t)/(2*100)]}function Fe(i){return[i[0],i[1],i[2]]}function Ts(i,t){return[i[0],i[1],i[2],t]}const wu={hsl:{hsl:(i,t,r)=>[i,t,r],hsv:bu,rgb:mu},hsv:{hsl:gu,hsv:(i,t,r)=>[i,t,r],rgb:As},rgb:{hsl:vu,hsv:_u,rgb:(i,t,r)=>[i,t,r]}};function yu(i,t,r){return wu[t][r](...i)}const xu={hsl:i=>{var t;return[Rr(i[0],360),W(i[1],0,100),W(i[2],0,100),W((t=i[3])!==null&&t!==void 0?t:1,0,1)]},hsv:i=>{var t;return[Rr(i[0],360),W(i[1],0,100),W(i[2],0,100),W((t=i[3])!==null&&t!==void 0?t:1,0,1)]},rgb:i=>{var t;return[W(i[0],0,255),W(i[1],0,255),W(i[2],0,255),W((t=i[3])!==null&&t!==void 0?t:1,0,1)]}};function Wn(i,t){return typeof i!="object"||v(i)?!1:t in i&&typeof i[t]=="number"}class B{constructor(t,r){this.mode_=r,this.comps_=xu[r](t)}static black(){return new B([0,0,0],"rgb")}static fromObject(t){const r="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new B(r,"rgb")}static toRgbaObject(t){return t.toRgbaObject()}static isRgbColorObject(t){return Wn(t,"r")&&Wn(t,"g")&&Wn(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&Wn(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,r){if(t.mode_!==r.mode_)return!1;const a=t.comps_,d=r.comps_;for(let _=0;_<a.length;_++)if(a[_]!==d[_])return!1;return!0}get mode(){return this.mode_}getComponents(t){return Ts(yu(Fe(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const ee=P("colp");class Cu{constructor(t,r){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(ee());const a=t.createElement("div");a.classList.add(ee("hsv"));const d=t.createElement("div");d.classList.add(ee("sv")),this.svPaletteView_=r.svPaletteView,d.appendChild(this.svPaletteView_.element),a.appendChild(d);const _=t.createElement("div");_.classList.add(ee("h")),this.hPaletteView_=r.hPaletteView,_.appendChild(this.hPaletteView_.element),a.appendChild(_),this.element.appendChild(a);const y=t.createElement("div");if(y.classList.add(ee("rgb")),this.textView_=r.textView,y.appendChild(this.textView_.element),this.element.appendChild(y),r.alphaViews){this.alphaViews_={palette:r.alphaViews.palette,text:r.alphaViews.text};const A=t.createElement("div");A.classList.add(ee("a"));const R=t.createElement("div");R.classList.add(ee("ap")),R.appendChild(this.alphaViews_.palette.element),A.appendChild(R);const I=t.createElement("div");I.classList.add(ee("at")),I.appendChild(this.alphaViews_.text.element),A.appendChild(I),this.element.appendChild(A)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(r=>r.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function zr(i){const t=$;return H(i,{alpha:t.optional.boolean,expanded:t.optional.boolean,picker:t.optional.custom(Ss)})}function xe(i){return i?.1:1}function kt(i,t){const r=i.match(/^(.+)%$/);return Math.min(r?parseFloat(r[1])*.01*t:parseFloat(i),t)}const Pu={deg:i=>i,grad:i=>i*360/400,rad:i=>i*360/(2*Math.PI),turn:i=>i*360};function Ms(i){const t=i.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(i);const r=parseFloat(t[1]),a=t[2];return Pu[a](r)}const jr={"func.rgb":i=>{const t=i.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const r=[kt(t[1],255),kt(t[2],255),kt(t[3],255)];return isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:new B(r,"rgb")},"func.rgba":i=>{const t=i.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const r=[kt(t[1],255),kt(t[2],255),kt(t[3],255),kt(t[4],1)];return isNaN(r[0])||isNaN(r[1])||isNaN(r[2])||isNaN(r[3])?null:new B(r,"rgb")},"func.hsl":i=>{const t=i.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const r=[Ms(t[1]),kt(t[2],100),kt(t[3],100)];return isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:new B(r,"hsl")},"func.hsla":i=>{const t=i.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const r=[Ms(t[1]),kt(t[2],100),kt(t[3],100),kt(t[4],1)];return isNaN(r[0])||isNaN(r[1])||isNaN(r[2])||isNaN(r[3])?null:new B(r,"hsl")},"hex.rgb":i=>{const t=i.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new B([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)],"rgb");const r=i.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return r?new B([parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)],"rgb"):null},"hex.rgba":i=>{const t=i.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new B([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Q(parseInt(t[4]+t[4],16),0,255,0,1)],"rgb");const r=i.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return r?new B([parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),Q(parseInt(r[4],16),0,255,0,1)],"rgb"):null}};function Qn(i){return Object.keys(jr).reduce((r,a)=>r||(jr[a](i)?a:null),null)}const Zn=i=>{const t=Qn(i);return t?jr[t](i):null};function Eu(i){return i==="func.hsla"||i==="func.rgba"||i==="hex.rgba"}function ku(i){if(typeof i=="string"){const t=Zn(i);if(t)return t}return B.black()}function Os(i){const t=W(Math.floor(i),0,255).toString(16);return t.length===1?`0${t}`:t}function Kr(i,t="#"){const r=Fe(i.getComponents("rgb")).map(Os).join("");return`${t}${r}`}function Jn(i,t="#"){const r=i.getComponents("rgb"),a=[r[0],r[1],r[2],r[3]*255].map(Os).join("");return`${t}${a}`}function Ls(i){const t=ft(0);return`rgb(${Fe(i.getComponents("rgb")).map(a=>t(a)).join(", ")})`}function tr(i){const t=ft(2),r=ft(0);return`rgba(${i.getComponents("rgb").map((d,_)=>(_===3?t:r)(d)).join(", ")})`}function Su(i){const t=[ft(0),qn,qn];return`hsl(${Fe(i.getComponents("hsl")).map((a,d)=>t[d](a)).join(", ")})`}function Vu(i){const t=[ft(0),qn,qn,ft(2)];return`hsla(${i.getComponents("hsl").map((a,d)=>t[d](a)).join(", ")})`}const Au={"func.hsl":Su,"func.hsla":Vu,"func.rgb":Ls,"func.rgba":tr,"hex.rgb":Kr,"hex.rgba":Jn};function Ds(i){return Au[i]}const yn=P("apl");class Tu{constructor(t,r){this.onValueChange_=this.onValueChange_.bind(this),this.value=r.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(yn()),r.viewProps.bindTabIndex(this.element);const a=t.createElement("div");a.classList.add(yn("b")),this.element.appendChild(a);const d=t.createElement("div");d.classList.add(yn("c")),a.appendChild(d),this.colorElem_=d;const _=t.createElement("div");_.classList.add(yn("m")),this.element.appendChild(_),this.markerElem_=_;const y=t.createElement("div");y.classList.add(yn("p")),this.markerElem_.appendChild(y),this.previewElem_=y,this.update_()}update_(){const t=this.value.rawValue,r=t.getComponents("rgb"),a=new B([r[0],r[1],r[2],0],"rgb"),d=new B([r[0],r[1],r[2],255],"rgb"),_=["to right",tr(a),tr(d)];this.colorElem_.style.background=`linear-gradient(${_.join(",")})`,this.previewElem_.style.backgroundColor=tr(t);const y=Q(r[3],0,1,0,100);this.markerElem_.style.left=`${y}%`}onValueChange_(){this.update_()}}class Mu{constructor(t,r){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new Tu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,r){if(!t.point)return;const a=t.point.x/t.bounds.width,d=this.value.rawValue,[_,y,A]=d.getComponents("hsv");this.value.setRawValue(new B([_,y,A,a],"hsv"),r)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const r=vt(xe(!0),Ht(t));if(r===0)return;const a=this.value.rawValue,[d,_,y,A]=a.getComponents("hsv");this.value.setRawValue(new B([d,_,y,A+r],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){vt(xe(!0),Ht(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ue=P("coltxt");function Ou(i){const t=i.createElement("select"),r=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(r.reduce((a,d)=>{const _=i.createElement("option");return _.textContent=d.text,_.value=d.value,a.appendChild(_),a},i.createDocumentFragment())),t}class Lu{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(Ue());const a=t.createElement("div");a.classList.add(Ue("m")),this.modeElem_=Ou(t),this.modeElem_.classList.add(Ue("ms")),a.appendChild(this.modeSelectElement);const d=t.createElement("div");d.classList.add(Ue("mm")),d.appendChild(zn(t,"dropdown")),a.appendChild(d),this.element.appendChild(a);const _=t.createElement("div");_.classList.add(Ue("w")),this.element.appendChild(_),this.textsElem_=_,this.textViews_=r.textViews,this.applyTextViews_(),S(r.colorMode,y=>{this.modeElem_.value=y})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){Ji(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(r=>{const a=t.createElement("div");a.classList.add(Ue("c")),a.appendChild(r.element),this.textsElem_.appendChild(a)})}}const Du=ft(0),Ru={rgb:()=>new wt({min:0,max:255}),hsl:i=>i===0?new wt({min:0,max:360}):new wt({min:0,max:100}),hsv:i=>i===0?new wt({min:0,max:360}):new wt({min:0,max:100})};function $r(i,t,r){return new gn(i,{arrayPosition:r===0?"fst":r===3-1?"lst":"mid",baseStep:xe(!1),parser:t.parser,props:D.fromObject({draggingScale:1,formatter:Du}),value:F(0,{constraint:Ru[t.colorMode](r)}),viewProps:t.viewProps})}class Iu{constructor(t,r){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=r.parser,this.value=r.value,this.viewProps=r.viewProps,this.colorMode=F(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Lu(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const r={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},a=[$r(t,r,0),$r(t,r,1),$r(t,r,2)];return a.forEach((d,_)=>{_n({primary:this.value,secondary:d.value,forward:y=>y.rawValue.getComponents(this.colorMode.rawValue)[_],backward:(y,A)=>{const R=this.colorMode.rawValue,I=y.rawValue.getComponents(R);return I[_]=A.rawValue,new B(Ts(Fe(I),I[3]),R)}})}),a}onModeSelectChange_(t){const r=t.currentTarget;this.colorMode.rawValue=r.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Hr=P("hpl");class Nu{constructor(t,r){this.onValueChange_=this.onValueChange_.bind(this),this.value=r.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Hr()),r.viewProps.bindTabIndex(this.element);const a=t.createElement("div");a.classList.add(Hr("c")),this.element.appendChild(a);const d=t.createElement("div");d.classList.add(Hr("m")),this.element.appendChild(d),this.markerElem_=d,this.update_()}update_(){const t=this.value.rawValue,[r]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Ls(new B([r,100,100],"hsv"));const a=Q(r,0,360,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class Bu{constructor(t,r){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new Nu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,r){if(!t.point)return;const a=Q(W(t.point.x,0,t.bounds.width),0,t.bounds.width,0,359),d=this.value.rawValue,[,_,y,A]=d.getComponents("hsv");this.value.setRawValue(new B([a,_,y,A],"hsv"),r)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const r=vt(xe(!1),Ht(t));if(r===0)return;const a=this.value.rawValue,[d,_,y,A]=a.getComponents("hsv");this.value.setRawValue(new B([d+r,_,y,A],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){vt(xe(!1),Ht(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const qr=P("svp"),Rs=64;class Fu{constructor(t,r){this.onValueChange_=this.onValueChange_.bind(this),this.value=r.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(qr()),r.viewProps.bindTabIndex(this.element);const a=t.createElement("canvas");a.height=Rs,a.width=Rs,a.classList.add(qr("c")),this.element.appendChild(a),this.canvasElement=a;const d=t.createElement("div");d.classList.add(qr("m")),this.element.appendChild(d),this.markerElem_=d,this.update_()}update_(){const t=Xa(this.canvasElement);if(!t)return;const a=this.value.rawValue.getComponents("hsv"),d=this.canvasElement.width,_=this.canvasElement.height,y=t.getImageData(0,0,d,_),A=y.data;for(let z=0;z<_;z++)for(let j=0;j<d;j++){const Ce=Q(j,0,d,0,100),Cn=Q(z,0,_,100,0),Pn=As(a[0],Ce,Cn),$e=(z*d+j)*4;A[$e]=Pn[0],A[$e+1]=Pn[1],A[$e+2]=Pn[2],A[$e+3]=255}t.putImageData(y,0,0);const R=Q(a[1],0,100,0,100);this.markerElem_.style.left=`${R}%`;const I=Q(a[2],0,100,100,0);this.markerElem_.style.top=`${I}%`}onValueChange_(){this.update_()}}class Uu{constructor(t,r){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new Fu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,r){if(!t.point)return;const a=Q(t.point.x,0,t.bounds.width,0,100),d=Q(t.point.y,0,t.bounds.height,100,0),[_,,,y]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new B([_,a,d,y],"hsv"),r)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){Es(t.key)&&t.preventDefault();const[r,a,d,_]=this.value.rawValue.getComponents("hsv"),y=xe(!1),A=vt(y,Ht(t)),R=vt(y,bn(t));A===0&&R===0||this.value.setRawValue(new B([r,a+A,d+R,_],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const r=xe(!1),a=vt(r,Ht(t)),d=vt(r,bn(t));a===0&&d===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class zu{constructor(t,r){this.value=r.value,this.viewProps=r.viewProps,this.hPaletteC_=new Bu(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Uu(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=r.supportsAlpha?{palette:new Mu(t,{value:this.value,viewProps:this.viewProps}),text:new gn(t,{parser:$t,baseStep:.1,props:D.fromObject({draggingScale:.01,formatter:ft(2)}),value:F(0,{constraint:new wt({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&_n({primary:this.value,secondary:this.alphaIcs_.text.value,forward:a=>a.rawValue.getComponents()[3],backward:(a,d)=>{const _=a.rawValue.getComponents();return _[3]=d.rawValue,new B(_,a.rawValue.mode)}}),this.textC_=new Iu(t,{parser:$t,value:this.value,viewProps:this.viewProps}),this.view=new Cu(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:r.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Yr=P("colsw");class ju{constructor(t,r){this.onValueChange_=this.onValueChange_.bind(this),r.value.emitter.on("change",this.onValueChange_),this.value=r.value,this.element=t.createElement("div"),this.element.classList.add(Yr()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(Yr("sw")),this.element.appendChild(a),this.swatchElem_=a;const d=t.createElement("button");d.classList.add(Yr("b")),r.viewProps.bindDisabled(d),this.element.appendChild(d),this.buttonElement=d,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Jn(t)}onValueChange_(){this.update_()}}class Ku{constructor(t,r){this.value=r.value,this.viewProps=r.viewProps,this.view=new ju(t,{value:this.value,viewProps:this.viewProps})}}class Gr{constructor(t,r){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.foldable_=un.create(r.expanded),this.swatchC_=new Ku(t,{value:this.value,viewProps:this.viewProps});const a=this.swatchC_.view.buttonElement;a.addEventListener("blur",this.onButtonBlur_),a.addEventListener("click",this.onButtonClick_),this.textC_=new Hn(t,{parser:r.parser,props:D.fromObject({formatter:r.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new fu(t,{foldable:this.foldable_,pickerLayout:r.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=r.pickerLayout==="popup"?new vs(t,{viewProps:this.viewProps}):null;const d=new zu(t,{supportsAlpha:r.supportsAlpha,value:this.value,viewProps:this.viewProps});d.view.allFocusableElements.forEach(_=>{_.addEventListener("blur",this.onPopupChildBlur_),_.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=d,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(d.view.element),_n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:_=>_.rawValue,backward:(_,y)=>y.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),yr(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const r=this.view.element,a=t.relatedTarget;(!a||!r.contains(a))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const r=this.popC_.view.element,a=ts(t);a&&r.contains(a)||a&&a===this.swatchC_.view.buttonElement&&!wr(r.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function $u(i){return B.isColorObject(i)?B.fromObject(i):B.black()}function Hu(i){return Fe(i.getComponents("rgb")).reduce((t,r)=>t<<8|Math.floor(r)&255,0)}function qu(i){return i.getComponents("rgb").reduce((t,r,a)=>{const d=Math.floor(a===3?r*255:r)&255;return t<<8|d},0)>>>0}function Yu(i){return new B([i>>16&255,i>>8&255,i&255],"rgb")}function Gu(i){return new B([i>>24&255,i>>16&255,i>>8&255,Q(i&255,0,255,0,1)],"rgb")}function Xu(i){return typeof i!="number"?B.black():Yu(i)}function Wu(i){return typeof i!="number"?B.black():Gu(i)}function Qu(i){const t=Ds(i);return(r,a)=>{wn(r,t(a))}}function Zu(i){const t=i?qu:Hu;return(r,a)=>{wn(r,t(a))}}function Ju(i,t){const r=t.toRgbaObject();i.writeProperty("r",r.r),i.writeProperty("g",r.g),i.writeProperty("b",r.b),i.writeProperty("a",r.a)}function tc(i,t){const r=t.toRgbaObject();i.writeProperty("r",r.r),i.writeProperty("g",r.g),i.writeProperty("b",r.b)}function ec(i){return i?Ju:tc}function Xr(i){return"alpha"in i&&i.alpha===!0}function nc(i){return i?t=>Jn(t,"0x"):t=>Kr(t,"0x")}const rc={id:"input-color-number",type:"input",accept:(i,t)=>{if(typeof i!="number"||!("view"in t)||t.view!=="color")return null;const r=zr(t);return r?{initialValue:i,params:r}:null},binding:{reader:i=>Xr(i.params)?Wu:Xu,equals:B.equals,writer:i=>Zu(Xr(i.params))},controller:i=>{const t=Xr(i.params),r="expanded"in i.params?i.params.expanded:void 0,a="picker"in i.params?i.params.picker:void 0;return new Gr(i.document,{expanded:r!=null?r:!1,formatter:nc(t),parser:Zn,pickerLayout:a!=null?a:"popup",supportsAlpha:t,value:i.value,viewProps:i.viewProps})}};function ic(i){return B.isRgbaColorObject(i)}const sc={id:"input-color-object",type:"input",accept:(i,t)=>{if(!B.isColorObject(i))return null;const r=zr(t);return r?{initialValue:i,params:r}:null},binding:{reader:i=>$u,equals:B.equals,writer:i=>ec(ic(i.initialValue))},controller:i=>{const t=B.isRgbaColorObject(i.initialValue),r="expanded"in i.params?i.params.expanded:void 0,a="picker"in i.params?i.params.picker:void 0,d=t?Jn:Kr;return new Gr(i.document,{expanded:r!=null?r:!1,formatter:d,parser:Zn,pickerLayout:a!=null?a:"popup",supportsAlpha:t,value:i.value,viewProps:i.viewProps})}},oc={id:"input-color-string",type:"input",accept:(i,t)=>{if(typeof i!="string"||"view"in t&&t.view==="text"||!Qn(i))return null;const a=zr(t);return a?{initialValue:i,params:a}:null},binding:{reader:i=>ku,equals:B.equals,writer:i=>{const t=Qn(i.initialValue);if(!t)throw m.shouldNeverHappen();return Qu(t)}},controller:i=>{const t=Qn(i.initialValue);if(!t)throw m.shouldNeverHappen();const r=Ds(t),a="expanded"in i.params?i.params.expanded:void 0,d="picker"in i.params?i.params.picker:void 0;return new Gr(i.document,{expanded:a!=null?a:!1,formatter:r,parser:Zn,pickerLayout:d!=null?d:"popup",supportsAlpha:Eu(t),value:i.value,viewProps:i.viewProps})}};class ne{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const r=this.asm_.toComponents(t).map((a,d)=>{var _,y;return(y=(_=this.components[d])===null||_===void 0?void 0:_.constrain(a))!==null&&y!==void 0?y:a});return this.asm_.fromComponents(r)}}const Is=P("pndtxt");class ac{constructor(t,r){this.textViews=r.textViews,this.element=t.createElement("div"),this.element.classList.add(Is()),this.textViews.forEach(a=>{const d=t.createElement("div");d.classList.add(Is("a")),d.appendChild(a.element),this.element.appendChild(d)})}}function lc(i,t,r){return new gn(i,{arrayPosition:r===0?"fst":r===t.axes.length-1?"lst":"mid",baseStep:t.axes[r].baseStep,parser:t.parser,props:t.axes[r].textProps,value:F(0,{constraint:t.axes[r].constraint}),viewProps:t.viewProps})}class Wr{constructor(t,r){this.value=r.value,this.viewProps=r.viewProps,this.acs_=r.axes.map((a,d)=>lc(t,r,d)),this.acs_.forEach((a,d)=>{_n({primary:this.value,secondary:a.value,forward:_=>r.assembly.toComponents(_.rawValue)[d],backward:(_,y)=>{const A=r.assembly.toComponents(_.rawValue);return A[d]=y.rawValue,r.assembly.fromComponents(A)}})}),this.view=new ac(t,{textViews:this.acs_.map(a=>a.view)})}}function uc(i){return"step"in i&&!v(i.step)?new ge(i.step):null}function cc(i){return"max"in i&&!v(i.max)||"min"in i&&!v(i.min)?new wt({max:i.max,min:i.min}):null}function hc(i){const t=[],r=uc(i);r&&t.push(r);const a=cc(i);a&&t.push(a);const d=Fr(i.options);return d&&t.push(d),new be(t)}function pc(i){const t=i?Bt(i,wt):null;return t?[t.minValue,t.maxValue]:[void 0,void 0]}function dc(i){const[t,r]=pc(i);return[t!=null?t:0,r!=null?r:100]}const fc={id:"input-number",type:"input",accept:(i,t)=>{if(typeof i!="number")return null;const r=$,a=H(t,{format:r.optional.function,max:r.optional.number,min:r.optional.number,options:r.optional.custom(Yn),step:r.optional.number});return a?{initialValue:i,params:a}:null},binding:{reader:i=>xs,constraint:i=>hc(i.params),writer:i=>wn},controller:i=>{var t,r;const a=i.value,d=i.constraint;if(d&&Bt(d,dn))return new fn(i.document,{props:D.fromObject({options:(t=Ur(d))!==null&&t!==void 0?t:[]}),value:a,viewProps:i.viewProps});const _=(r="format"in i.params?i.params.format:void 0)!==null&&r!==void 0?r:ft(Gn(d,a.rawValue));if(d&&Bt(d,wt)){const[y,A]=dc(d);return new Br(i.document,{baseStep:Ne(d),parser:$t,sliderProps:D.fromObject({maxValue:A,minValue:y}),textProps:D.fromObject({draggingScale:Be(d,a.rawValue),formatter:_}),value:a,viewProps:i.viewProps})}return new gn(i.document,{baseStep:Ne(d),parser:$t,props:D.fromObject({draggingScale:Be(d,a.rawValue),formatter:_}),value:a,viewProps:i.viewProps})}};class re{constructor(t=0,r=0){this.x=t,this.y=r}getComponents(){return[this.x,this.y]}static isObject(t){if(v(t))return!1;const r=t.x,a=t.y;return!(typeof r!="number"||typeof a!="number")}static equals(t,r){return t.x===r.x&&t.y===r.y}toObject(){return{x:this.x,y:this.y}}}const Ns={toComponents:i=>i.getComponents(),fromComponents:i=>new re(...i)},ze=P("p2d");class vc{constructor(t,r){this.element=t.createElement("div"),this.element.classList.add(ze()),r.viewProps.bindClassModifiers(this.element),S(r.expanded,O(this.element,ze(void 0,"expanded")));const a=t.createElement("div");a.classList.add(ze("h")),this.element.appendChild(a);const d=t.createElement("button");d.classList.add(ze("b")),d.appendChild(zn(t,"p2dpad")),r.viewProps.bindDisabled(d),a.appendChild(d),this.buttonElement=d;const _=t.createElement("div");if(_.classList.add(ze("t")),a.appendChild(_),this.textElement=_,r.pickerLayout==="inline"){const y=t.createElement("div");y.classList.add(ze("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}const ie=P("p2dp");class mc{constructor(t,r){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=r.invertsY,this.maxValue_=r.maxValue,this.element=t.createElement("div"),this.element.classList.add(ie()),r.layout==="popup"&&this.element.classList.add(ie(void 0,"p"));const a=t.createElement("div");a.classList.add(ie("p")),r.viewProps.bindTabIndex(a),this.element.appendChild(a),this.padElement=a;const d=t.createElementNS(It,"svg");d.classList.add(ie("g")),this.padElement.appendChild(d),this.svgElem_=d;const _=t.createElementNS(It,"line");_.classList.add(ie("ax")),_.setAttributeNS(null,"x1","0"),_.setAttributeNS(null,"y1","50%"),_.setAttributeNS(null,"x2","100%"),_.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(_);const y=t.createElementNS(It,"line");y.classList.add(ie("ax")),y.setAttributeNS(null,"x1","50%"),y.setAttributeNS(null,"y1","0"),y.setAttributeNS(null,"x2","50%"),y.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(y);const A=t.createElementNS(It,"line");A.classList.add(ie("l")),A.setAttributeNS(null,"x1","50%"),A.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(A),this.lineElem_=A;const R=t.createElement("div");R.classList.add(ie("m")),this.padElement.appendChild(R),this.markerElem_=R,r.value.emitter.on("change",this.onValueChange_),this.value=r.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,r]=this.value.rawValue.getComponents(),a=this.maxValue_,d=Q(t,-a,+a,0,100),_=Q(r,-a,+a,0,100),y=this.invertsY_?100-_:_;this.lineElem_.setAttributeNS(null,"x2",`${d}%`),this.lineElem_.setAttributeNS(null,"y2",`${y}%`),this.markerElem_.style.left=`${d}%`,this.markerElem_.style.top=`${y}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Bs(i,t,r){return[vt(t[0],Ht(i)),vt(t[1],bn(i))*(r?1:-1)]}class _c{constructor(t,r){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.baseSteps_=r.baseSteps,this.maxValue_=r.maxValue,this.invertsY_=r.invertsY,this.view=new mc(t,{invertsY:this.invertsY_,layout:r.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new we(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,r){if(!t.point)return;const a=this.maxValue_,d=Q(t.point.x,0,t.bounds.width,-a,+a),_=Q(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-a,+a);this.value.setRawValue(new re(d,_),r)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){Es(t.key)&&t.preventDefault();const[r,a]=Bs(t,this.baseSteps_,this.invertsY_);r===0&&a===0||this.value.setRawValue(new re(this.value.rawValue.x+r,this.value.rawValue.y+a),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[r,a]=Bs(t,this.baseSteps_,this.invertsY_);r===0&&a===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class bc{constructor(t,r){var a,d;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.foldable_=un.create(r.expanded),this.popC_=r.pickerLayout==="popup"?new vs(t,{viewProps:this.viewProps}):null;const _=new _c(t,{baseSteps:[r.axes[0].baseStep,r.axes[1].baseStep],invertsY:r.invertsY,layout:r.pickerLayout,maxValue:r.maxValue,value:this.value,viewProps:this.viewProps});_.view.allFocusableElements.forEach(y=>{y.addEventListener("blur",this.onPopupChildBlur_),y.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=_,this.textC_=new Wr(t,{assembly:Ns,axes:r.axes,parser:r.parser,value:this.value,viewProps:this.viewProps}),this.view=new vc(t,{expanded:this.foldable_.value("expanded"),pickerLayout:r.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(a=this.view.buttonElement)===null||a===void 0||a.addEventListener("blur",this.onPadButtonBlur_),(d=this.view.buttonElement)===null||d===void 0||d.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),_n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:y=>y.rawValue,backward:(y,A)=>A.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),yr(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const r=this.view.element,a=t.relatedTarget;(!a||!r.contains(a))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const r=this.popC_.view.element,a=ts(t);a&&r.contains(a)||a&&a===this.view.buttonElement&&!wr(r.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function gc(i){return re.isObject(i)?new re(i.x,i.y):new re}function wc(i,t){i.writeProperty("x",t.x),i.writeProperty("y",t.y)}function Fs(i){if(!i)return;const t=[];return v(i.step)||t.push(new ge(i.step)),(!v(i.max)||!v(i.min))&&t.push(new wt({max:i.max,min:i.min})),new be(t)}function yc(i){return new ne({assembly:Ns,components:[Fs("x"in i?i.x:void 0),Fs("y"in i?i.y:void 0)]})}function Us(i,t){const r=i&&Bt(i,wt);if(r)return Math.max(Math.abs(r.minValue||0),Math.abs(r.maxValue||0));const a=Ne(i);return Math.max(Math.abs(a)*10,Math.abs(t)*10)}function xc(i,t){const r=t instanceof ne?t.components[0]:void 0,a=t instanceof ne?t.components[1]:void 0,d=Us(r,i.x),_=Us(a,i.y);return Math.max(d,_)}function zs(i,t){return{baseStep:Ne(t),constraint:t,textProps:D.fromObject({draggingScale:Be(t,i),formatter:ft(Gn(t,i))})}}function Cc(i){if(!("y"in i))return!1;const t=i.y;return t&&"inverted"in t?!!t.inverted:!1}const Pc={id:"input-point2d",type:"input",accept:(i,t)=>{if(!re.isObject(i))return null;const r=$,a=H(t,{expanded:r.optional.boolean,picker:r.optional.custom(Ss),x:r.optional.custom(te),y:r.optional.object({inverted:r.optional.boolean,max:r.optional.number,min:r.optional.number,step:r.optional.number})});return a?{initialValue:i,params:a}:null},binding:{reader:i=>gc,constraint:i=>yc(i.params),equals:re.equals,writer:i=>wc},controller:i=>{const t=i.document,r=i.value,a=i.constraint;if(!(a instanceof ne))throw m.shouldNeverHappen();const d="expanded"in i.params?i.params.expanded:void 0,_="picker"in i.params?i.params.picker:void 0;return new bc(t,{axes:[zs(r.rawValue.x,a.components[0]),zs(r.rawValue.y,a.components[1])],expanded:d!=null?d:!1,invertsY:Cc(i.params),maxValue:xc(r.rawValue,a),parser:$t,pickerLayout:_!=null?_:"popup",value:r,viewProps:i.viewProps})}};class je{constructor(t=0,r=0,a=0){this.x=t,this.y=r,this.z=a}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(v(t))return!1;const r=t.x,a=t.y,d=t.z;return!(typeof r!="number"||typeof a!="number"||typeof d!="number")}static equals(t,r){return t.x===r.x&&t.y===r.y&&t.z===r.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const js={toComponents:i=>i.getComponents(),fromComponents:i=>new je(...i)};function Ec(i){return je.isObject(i)?new je(i.x,i.y,i.z):new je}function kc(i,t){i.writeProperty("x",t.x),i.writeProperty("y",t.y),i.writeProperty("z",t.z)}function Qr(i){if(!i)return;const t=[];return v(i.step)||t.push(new ge(i.step)),(!v(i.max)||!v(i.min))&&t.push(new wt({max:i.max,min:i.min})),new be(t)}function Sc(i){return new ne({assembly:js,components:[Qr("x"in i?i.x:void 0),Qr("y"in i?i.y:void 0),Qr("z"in i?i.z:void 0)]})}function Zr(i,t){return{baseStep:Ne(t),constraint:t,textProps:D.fromObject({draggingScale:Be(t,i),formatter:ft(Gn(t,i))})}}const Vc={id:"input-point3d",type:"input",accept:(i,t)=>{if(!je.isObject(i))return null;const r=$,a=H(t,{x:r.optional.custom(te),y:r.optional.custom(te),z:r.optional.custom(te)});return a?{initialValue:i,params:a}:null},binding:{reader:i=>Ec,constraint:i=>Sc(i.params),equals:je.equals,writer:i=>kc},controller:i=>{const t=i.value,r=i.constraint;if(!(r instanceof ne))throw m.shouldNeverHappen();return new Wr(i.document,{assembly:js,axes:[Zr(t.rawValue.x,r.components[0]),Zr(t.rawValue.y,r.components[1]),Zr(t.rawValue.z,r.components[2])],parser:$t,value:t,viewProps:i.viewProps})}};class Ke{constructor(t=0,r=0,a=0,d=0){this.x=t,this.y=r,this.z=a,this.w=d}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(v(t))return!1;const r=t.x,a=t.y,d=t.z,_=t.w;return!(typeof r!="number"||typeof a!="number"||typeof d!="number"||typeof _!="number")}static equals(t,r){return t.x===r.x&&t.y===r.y&&t.z===r.z&&t.w===r.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Ks={toComponents:i=>i.getComponents(),fromComponents:i=>new Ke(...i)};function Ac(i){return Ke.isObject(i)?new Ke(i.x,i.y,i.z,i.w):new Ke}function Tc(i,t){i.writeProperty("x",t.x),i.writeProperty("y",t.y),i.writeProperty("z",t.z),i.writeProperty("w",t.w)}function er(i){if(!i)return;const t=[];return v(i.step)||t.push(new ge(i.step)),(!v(i.max)||!v(i.min))&&t.push(new wt({max:i.max,min:i.min})),new be(t)}function Mc(i){return new ne({assembly:Ks,components:[er("x"in i?i.x:void 0),er("y"in i?i.y:void 0),er("z"in i?i.z:void 0),er("w"in i?i.w:void 0)]})}function Oc(i,t){return{baseStep:Ne(t),constraint:t,textProps:D.fromObject({draggingScale:Be(t,i),formatter:ft(Gn(t,i))})}}const Lc={id:"input-point4d",type:"input",accept:(i,t)=>{if(!Ke.isObject(i))return null;const r=$,a=H(t,{x:r.optional.custom(te),y:r.optional.custom(te),z:r.optional.custom(te),w:r.optional.custom(te)});return a?{initialValue:i,params:a}:null},binding:{reader:i=>Ac,constraint:i=>Mc(i.params),equals:Ke.equals,writer:i=>Tc},controller:i=>{const t=i.value,r=i.constraint;if(!(r instanceof ne))throw m.shouldNeverHappen();return new Wr(i.document,{assembly:Ks,axes:t.rawValue.getComponents().map((a,d)=>Oc(a,r.components[d])),parser:$t,value:t,viewProps:i.viewProps})}};function Dc(i){const t=[],r=Fr(i.options);return r&&t.push(r),new be(t)}const Rc={id:"input-string",type:"input",accept:(i,t)=>{if(typeof i!="string")return null;const a=H(t,{options:$.optional.custom(Yn)});return a?{initialValue:i,params:a}:null},binding:{reader:i=>Cs,constraint:i=>Dc(i.params),writer:i=>wn},controller:i=>{var t;const r=i.document,a=i.value,d=i.constraint;return d&&Bt(d,dn)?new fn(r,{props:D.fromObject({options:(t=Ur(d))!==null&&t!==void 0?t:[]}),value:a,viewProps:i.viewProps}):new Hn(r,{parser:_=>_,props:D.fromObject({formatter:Lr}),value:a,viewProps:i.viewProps})}},xn={monitor:{defaultInterval:200,defaultLineCount:3}},$s=P("mll");class Ic{constructor(t,r){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=r.formatter,this.element=t.createElement("div"),this.element.classList.add($s()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("textarea");a.classList.add($s("i")),a.style.height=`calc(var(--bld-us) * ${r.lineCount})`,a.readOnly=!0,r.viewProps.bindDisabled(a),this.element.appendChild(a),this.textareaElem_=a,r.value.emitter.on("change",this.onValueUpdate_),this.value=r.value,this.update_()}update_(){const t=this.textareaElem_,r=t.scrollTop===t.scrollHeight-t.clientHeight,a=[];this.value.rawValue.forEach(d=>{d!==void 0&&a.push(this.formatter_(d))}),t.textContent=a.join(`
`),r&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class Jr{constructor(t,r){this.value=r.value,this.viewProps=r.viewProps,this.view=new Ic(t,{formatter:r.formatter,lineCount:r.lineCount,value:this.value,viewProps:this.viewProps})}}const Hs=P("sgl");class Nc{constructor(t,r){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=r.formatter,this.element=t.createElement("div"),this.element.classList.add(Hs()),r.viewProps.bindClassModifiers(this.element);const a=t.createElement("input");a.classList.add(Hs("i")),a.readOnly=!0,a.type="text",r.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,r.value.emitter.on("change",this.onValueUpdate_),this.value=r.value,this.update_()}update_(){const t=this.value.rawValue,r=t[t.length-1];this.inputElement.value=r!==void 0?this.formatter_(r):""}onValueUpdate_(){this.update_()}}class ti{constructor(t,r){this.value=r.value,this.viewProps=r.viewProps,this.view=new Nc(t,{formatter:r.formatter,value:this.value,viewProps:this.viewProps})}}const Bc={id:"monitor-bool",type:"monitor",accept:(i,t)=>{if(typeof i!="boolean")return null;const a=H(t,{lineCount:$.optional.number});return a?{initialValue:i,params:a}:null},binding:{reader:i=>_s},controller:i=>{var t;return i.value.rawValue.length===1?new ti(i.document,{formatter:bs,value:i.value,viewProps:i.viewProps}):new Jr(i.document,{formatter:bs,lineCount:(t=i.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,value:i.value,viewProps:i.viewProps})}};class Fc{constructor(){this.emitter=new x,this.index_=-1}get index(){return this.index_}set index(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}const se=P("grl");class Uc{constructor(t,r){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(se()),r.viewProps.bindClassModifiers(this.element),this.formatter_=r.formatter,this.minValue_=r.minValue,this.maxValue_=r.maxValue,this.cursor_=r.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const a=t.createElementNS(It,"svg");a.classList.add(se("g")),a.style.height=`calc(var(--bld-us) * ${r.lineCount})`,this.element.appendChild(a),this.svgElem_=a;const d=t.createElementNS(It,"polyline");this.svgElem_.appendChild(d),this.lineElem_=d;const _=t.createElement("div");_.classList.add(se("t"),P("tt")()),this.element.appendChild(_),this.tooltipElem_=_,r.value.emitter.on("change",this.onValueUpdate_),this.value=r.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),r=this.value.rawValue.length-1,a=this.minValue_,d=this.maxValue_,_=[];this.value.rawValue.forEach((z,j)=>{if(z===void 0)return;const Ce=Q(j,0,r,0,t.width),Cn=Q(z,a,d,t.height,0);_.push([Ce,Cn].join(","))}),this.lineElem_.setAttributeNS(null,"points",_.join(" "));const y=this.tooltipElem_,A=this.value.rawValue[this.cursor_.index];if(A===void 0){y.classList.remove(se("t","a"));return}const R=Q(this.cursor_.index,0,r,0,t.width),I=Q(A,a,d,t.height,0);y.style.left=`${R}px`,y.style.top=`${I}px`,y.textContent=`${this.formatter_(A)}`,y.classList.contains(se("t","a"))||(y.classList.add(se("t","a"),se("t","in")),Un(y),y.classList.remove(se("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class zc{constructor(t,r){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.cursor_=new Fc,this.view=new Uc(t,{cursor:this.cursor_,formatter:r.formatter,lineCount:r.lineCount,maxValue:r.maxValue,minValue:r.minValue,value:this.value,viewProps:this.viewProps}),!wr(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const a=new we(this.view.element);a.emitter.on("down",this.onGraphPointerDown_),a.emitter.on("move",this.onGraphPointerMove_),a.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(t){const r=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Q(t.offsetX,0,r.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Q(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function ei(i){return"format"in i&&!v(i.format)?i.format:ft(2)}function jc(i){var t;return i.value.rawValue.length===1?new ti(i.document,{formatter:ei(i.params),value:i.value,viewProps:i.viewProps}):new Jr(i.document,{formatter:ei(i.params),lineCount:(t=i.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,value:i.value,viewProps:i.viewProps})}function Kc(i){var t,r,a;return new zc(i.document,{formatter:ei(i.params),lineCount:(t=i.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,maxValue:(r="max"in i.params?i.params.max:null)!==null&&r!==void 0?r:100,minValue:(a="min"in i.params?i.params.min:null)!==null&&a!==void 0?a:0,value:i.value,viewProps:i.viewProps})}function qs(i){return"view"in i&&i.view==="graph"}const $c={id:"monitor-number",type:"monitor",accept:(i,t)=>{if(typeof i!="number")return null;const r=$,a=H(t,{format:r.optional.function,lineCount:r.optional.number,max:r.optional.number,min:r.optional.number,view:r.optional.string});return a?{initialValue:i,params:a}:null},binding:{defaultBufferSize:i=>qs(i)?64:1,reader:i=>xs},controller:i=>qs(i.params)?Kc(i):jc(i)},Hc={id:"monitor-string",type:"monitor",accept:(i,t)=>{if(typeof i!="string")return null;const r=$,a=H(t,{lineCount:r.optional.number,multiline:r.optional.boolean});return a?{initialValue:i,params:a}:null},binding:{reader:i=>Cs},controller:i=>{var t;const r=i.value;return r.rawValue.length>1||"multiline"in i.params&&i.params.multiline?new Jr(i.document,{formatter:Lr,lineCount:(t=i.params.lineCount)!==null&&t!==void 0?t:xn.monitor.defaultLineCount,value:r,viewProps:i.viewProps}):new ti(i.document,{formatter:Lr,value:r,viewProps:i.viewProps})}};class qc{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new x,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function Yc(i,t){const r=i.accept(t.target.read(),t.params);if(v(r))return null;const a=$,d={target:t.target,initialValue:r.initialValue,params:r.params},_=i.binding.reader(d),y=i.binding.constraint?i.binding.constraint(d):void 0,A=F(_(r.initialValue),{constraint:y,equals:i.binding.equals}),R=new qc({reader:_,target:t.target,value:A,writer:i.binding.writer(d)}),I=a.optional.boolean(t.params.disabled).value,z=a.optional.boolean(t.params.hidden).value,j=i.controller({constraint:y,document:t.document,initialValue:r.initialValue,params:r.params,value:R.value,viewProps:Jt.create({disabled:I,hidden:z})}),Ce=a.optional.string(t.params.label).value;return new Nt(t.document,{binding:R,blade:ln(),props:D.fromObject({label:Ce||t.target.key}),valueController:j})}class Gc{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new x,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const r=this.value.rawValue,a=this.reader_(t);this.value.rawValue=ru(r,a),this.emitter.emit("update",{rawValue:a,sender:this})}onTick_(t){this.read()}}function Xc(i,t){return t===0?new yl:new xl(i,t!=null?t:xn.monitor.defaultInterval)}function Wc(i,t){var r,a,d;const _=$,y=i.accept(t.target.read(),t.params);if(v(y))return null;const A={target:t.target,initialValue:y.initialValue,params:y.params},R=i.binding.reader(A),I=(a=(r=_.optional.number(t.params.bufferSize).value)!==null&&r!==void 0?r:i.binding.defaultBufferSize&&i.binding.defaultBufferSize(y.params))!==null&&a!==void 0?a:1,z=_.optional.number(t.params.interval).value,j=new Gc({reader:R,target:t.target,ticker:Xc(t.document,z),value:eu(I)}),Ce=_.optional.boolean(t.params.disabled).value,Cn=_.optional.boolean(t.params.hidden).value,Pn=i.controller({document:t.document,params:y.params,value:j.value,viewProps:Jt.create({disabled:Ce,hidden:Cn})}),$e=(d=_.optional.string(t.params.label).value)!==null&&d!==void 0?d:t.target.key;return new Zt(t.document,{binding:j,blade:ln(),props:D.fromObject({label:$e}),valueController:Pn})}class Qc{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,r,a){const d=r.read();if(v(d))throw new m({context:{key:r.key},type:"nomatchingcontroller"});const _=this.pluginsMap_.inputs.reduce((y,A)=>y||Yc(A,{document:t,target:r,params:a}),null);if(_)return _;throw new m({context:{key:r.key},type:"nomatchingcontroller"})}createMonitor(t,r,a){const d=this.pluginsMap_.monitors.reduce((_,y)=>_||Wc(y,{document:t,params:a,target:r}),null);if(d)return d;throw new m({context:{key:r.key},type:"nomatchingcontroller"})}createBlade(t,r){const a=this.pluginsMap_.blades.reduce((d,_)=>d||wl(_,{document:t,params:r}),null);if(!a)throw new m({type:"nomatchingview",context:{params:r}});return a}createBladeApi(t){if(t instanceof Nt)return new Pr(t);if(t instanceof Zt)return new Er(t);if(t instanceof hn)return new Kn(t,this);const r=this.pluginsMap_.blades.reduce((a,d)=>a||d.api({controller:t,pool:this}),null);if(!r)throw m.shouldNeverHappen();return r}}function Zc(){const i=new Qc;return[Pc,Vc,Lc,Rc,fc,oc,sc,rc,du,Bc,Hc,$c,Ja,dl,vl,ds].forEach(t=>{i.register(t)}),i}class Ys extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",r=>{this.emitter_.emit("change",{event:new c(this,r.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}}class Gs extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",r=>{this.emitter_.emit("change",{event:new c(this,r.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}}class Xs extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",r=>{this.emitter_.emit("change",{event:new c(this,r.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,r){const a=r.bind(this);return this.emitter_.on(t,d=>{a(d.event)}),this}}const Jc=function(){return{id:"list",type:"blade",accept(i){const t=$,r=H(i,{options:t.required.custom(Yn),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return r?{params:r}:null},controller(i){const t=new fn(i.document,{props:D.fromObject({options:Vs(i.params.options)}),value:F(i.params.value),viewProps:i.viewProps});return new Ie(i.document,{blade:i.blade,props:D.fromObject({label:i.params.label}),valueController:t})},api(i){return!(i.controller instanceof Ie)||!(i.controller.valueController instanceof fn)?null:new Ys(i.controller)}}}();function th(i){return i.reduce((t,r)=>Object.assign(t,{[r.presetKey]:r.read()}),{})}function eh(i,t){i.forEach(r=>{const a=t[r.presetKey];a!==void 0&&r.write(a)})}class nh extends kr{constructor(t,r){super(t,r)}get element(){return this.controller_.view.element}importPreset(t){const r=this.controller_.rackController.rack.find(Nt).map(a=>a.binding.target);eh(r,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(Nt).map(r=>r.binding.target);return th(t)}refresh(){this.controller_.rackController.rack.find(Nt).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(Zt).forEach(t=>{t.binding.read()})}}class rh extends Ar{constructor(t,r){super(t,{expanded:r.expanded,blade:r.blade,props:r.props,root:!0,viewProps:r.viewProps})}}const ih={id:"slider",type:"blade",accept(i){const t=$,r=H(i,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return r?{params:r}:null},controller(i){var t,r;const a=(t=i.params.value)!==null&&t!==void 0?t:0,d=new Br(i.document,{baseStep:1,parser:$t,sliderProps:D.fromObject({maxValue:i.params.max,minValue:i.params.min}),textProps:D.fromObject({draggingScale:Be(void 0,a),formatter:(r=i.params.format)!==null&&r!==void 0?r:Jl}),value:F(a),viewProps:i.viewProps});return new Ie(i.document,{blade:i.blade,props:D.fromObject({label:i.params.label}),valueController:d})},api(i){return!(i.controller instanceof Ie)||!(i.controller.valueController instanceof Br)?null:new Gs(i.controller)}},sh=function(){return{id:"text",type:"blade",accept(i){const t=$,r=H(i,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return r?{params:r}:null},controller(i){var t;const r=new Hn(i.document,{parser:i.params.parse,props:D.fromObject({formatter:(t=i.params.format)!==null&&t!==void 0?t:a=>String(a)}),value:F(i.params.value),viewProps:i.viewProps});return new Ie(i.document,{blade:i.blade,props:D.fromObject({label:i.params.label}),valueController:r})},api(i){return!(i.controller instanceof Ie)||!(i.controller.valueController instanceof Hn)?null:new Xs(i.controller)}}}();function oh(i){const t=i.createElement("div");return t.classList.add(P("dfw")()),i.body&&i.body.appendChild(t),t}function Ws(i,t,r){if(i.querySelector(`style[data-tp-style=${t}]`))return;const a=i.createElement("style");a.dataset.tpStyle=t,a.textContent=r,i.head.appendChild(a)}class ah extends nh{constructor(t){var r;const a=t||{},d=(r=a.document)!==null&&r!==void 0?r:Ga(),_=Zc(),y=new rh(d,{expanded:a.expanded,blade:ln(),props:D.fromObject({title:a.title}),viewProps:Jt.create()});super(y,_),this.pool_=_,this.containerElem_=a.container||oh(d),this.containerElem_.appendChild(this.element),this.doc_=d,this.usesDefaultWrapper_=!a.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw m.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw m.alreadyDisposed();if(this.usesDefaultWrapper_){const r=t.parentElement;r&&r.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(a=>{this.pool_.register(a),this.embedPluginStyle_(a)})}embedPluginStyle_(t){t.css&&Ws(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){Ws(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[ih,Jc,ds,sh]})}}const lh=new s("3.0.8");n.BladeApi=o,n.ButtonApi=b,n.FolderApi=kr,n.InputBindingApi=Pr,n.ListApi=Ys,n.MonitorBindingApi=Er,n.Pane=ah,n.SeparatorApi=ss,n.SliderApi=Gs,n.TabApi=hs,n.TabPageApi=cs,n.TextApi=Xs,n.TpChangeEvent=c,n.VERSION=lh,Object.defineProperty(n,"__esModule",{value:!0})})})(po,po.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ci=function(l,e){return Ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Ci(l,e)};function me(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ci(l,e);function n(){this.constructor=l}l.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function bp(l,e,n,s){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function h(v){try{p(s.next(v))}catch(g){c(g)}}function f(v){try{p(s.throw(v))}catch(g){c(g)}}function p(v){v.done?u(v.value):o(v.value).then(h,f)}p((s=s.apply(l,e||[])).next())})}function ya(l,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(v){return f([p,v])}}function f(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){n.label=p[1];break}if(p[0]===6&&n.label<u[1]){n.label=u[1],u=p;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(p);break}u[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(l,n)}catch(v){p=[6,v],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function rn(l){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&l[e],s=0;if(n)return n.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(l,e){var n=typeof Symbol=="function"&&l[Symbol.iterator];if(!n)return l;var s=n.call(l),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return u}function Dt(l,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return l.concat(u||Array.prototype.slice.call(e))}function Qe(l){return this instanceof Qe?(this.v=l,this):new Qe(l)}function gp(l,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(l,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(w){s[w]&&(o[w]=function(m){return new Promise(function(C,b){u.push([w,m,C,b])>1||h(w,m)})})}function h(w,m){try{f(s[w](m))}catch(C){g(u[0][3],C)}}function f(w){w.value instanceof Qe?Promise.resolve(w.value.v).then(p,v):g(u[0][2],w)}function p(w){h("next",w)}function v(w){h("throw",w)}function g(w,m){w(m),u.shift(),u.length&&h(u[0][0],u[0][1])}}function wp(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=l[Symbol.asyncIterator],n;return e?e.call(l):(l=typeof rn=="function"?rn(l):l[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=l[u]&&function(c){return new Promise(function(h,f){c=l[u](c),o(h,f,c.done,c.value)})}}function o(u,c,h,f){Promise.resolve(f).then(function(p){u({value:p,done:h})},c)}}function K(l){return typeof l=="function"}function zi(l){var e=function(s){Error.call(s),s.stack=new Error().stack},n=l(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ci=zi(function(l){return function(n){l(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function vr(l,e){if(l){var n=l.indexOf(e);0<=n&&l.splice(n,1)}}var sn=function(){function l(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return l.prototype.unsubscribe=function(){var e,n,s,o,u;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var h=rn(c),f=h.next();!f.done;f=h.next()){var p=f.value;p.remove(this)}}catch(b){e={error:b}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}else c.remove(this);var v=this.initialTeardown;if(K(v))try{v()}catch(b){u=b instanceof ci?b.errors:[b]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var w=rn(g),m=w.next();!m.done;m=w.next()){var C=m.value;try{fo(C)}catch(b){u=u!=null?u:[],b instanceof ci?u=Dt(Dt([],Ot(u)),Ot(b.errors)):u.push(b)}}}catch(b){s={error:b}}finally{try{m&&!m.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}}if(u)throw new ci(u)}},l.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)fo(e);else{if(e instanceof l){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},l.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},l.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},l.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&vr(n,e)},l.prototype.remove=function(e){var n=this._finalizers;n&&vr(n,e),e instanceof l&&e._removeParent(this)},l.EMPTY=function(){var e=new l;return e.closed=!0,e}(),l}(),xa=sn.EMPTY;function Ca(l){return l instanceof sn||l&&"closed"in l&&K(l.remove)&&K(l.add)&&K(l.unsubscribe)}function fo(l){K(l)?l():l.unsubscribe()}var ji={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pi={setTimeout:function(l,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=Pi.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Dt([l,e],Ot(n))):setTimeout.apply(void 0,Dt([l,e],Ot(n)))},clearTimeout:function(l){var e=Pi.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(l)},delegate:void 0};function Pa(l){Pi.setTimeout(function(){throw l})}function mr(){}var rr=null;function or(l){if(ji.useDeprecatedSynchronousErrorHandling){var e=!rr;if(e&&(rr={errorThrown:!1,error:null}),l(),e){var n=rr,s=n.errorThrown,o=n.error;if(rr=null,s)throw o}}else l()}var Ki=function(l){me(e,l);function e(n){var s=l.call(this)||this;return s.isStopped=!1,n?(s.destination=n,Ca(n)&&n.add(s)):s.destination=Pp,s}return e.create=function(n,s,o){return new Ei(n,s,o)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(sn),yp=Function.prototype.bind;function hi(l,e){return yp.call(l,e)}var xp=function(){function l(e){this.partialObserver=e}return l.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(s){ir(s)}},l.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(s){ir(s)}else ir(e)},l.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){ir(n)}},l}(),Ei=function(l){me(e,l);function e(n,s,o){var u=l.call(this)||this,c;if(K(n)||!n)c={next:n!=null?n:void 0,error:s!=null?s:void 0,complete:o!=null?o:void 0};else{var h;u&&ji.useDeprecatedNextContext?(h=Object.create(n),h.unsubscribe=function(){return u.unsubscribe()},c={next:n.next&&hi(n.next,h),error:n.error&&hi(n.error,h),complete:n.complete&&hi(n.complete,h)}):c=n}return u.destination=new xp(c),u}return e}(Ki);function ir(l){Pa(l)}function Cp(l){throw l}var Pp={closed:!0,next:mr,error:Cp,complete:mr},$i=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function De(l){return l}function Ep(l){return l.length===0?De:l.length===1?l[0]:function(n){return l.reduce(function(s,o){return o(s)},n)}}var ht=function(){function l(e){e&&(this._subscribe=e)}return l.prototype.lift=function(e){var n=new l;return n.source=this,n.operator=e,n},l.prototype.subscribe=function(e,n,s){var o=this,u=Sp(e)?e:new Ei(e,n,s);return or(function(){var c=o,h=c.operator,f=c.source;u.add(h?h.call(u,f):f?o._subscribe(u):o._trySubscribe(u))}),u},l.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},l.prototype.forEach=function(e,n){var s=this;return n=vo(n),new n(function(o,u){var c=new Ei({next:function(h){try{e(h)}catch(f){u(f),c.unsubscribe()}},error:u,complete:o});s.subscribe(c)})},l.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},l.prototype[$i]=function(){return this},l.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Ep(e)(this)},l.prototype.toPromise=function(e){var n=this;return e=vo(e),new e(function(s,o){var u;n.subscribe(function(c){return u=c},function(c){return o(c)},function(){return s(u)})})},l.create=function(e){return new l(e)},l}();function vo(l){var e;return(e=l!=null?l:ji.Promise)!==null&&e!==void 0?e:Promise}function kp(l){return l&&K(l.next)&&K(l.error)&&K(l.complete)}function Sp(l){return l&&l instanceof Ki||kp(l)&&Ca(l)}function Vp(l){return K(l==null?void 0:l.lift)}function dt(l){return function(e){if(Vp(e))return e.lift(function(n){try{return l(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(l,e,n,s,o){return new Ap(l,e,n,s,o)}var Ap=function(l){me(e,l);function e(n,s,o,u,c,h){var f=l.call(this,n)||this;return f.onFinalize=c,f.shouldUnsubscribe=h,f._next=s?function(p){try{s(p)}catch(v){n.error(v)}}:l.prototype._next,f._error=u?function(p){try{u(p)}catch(v){n.error(v)}finally{this.unsubscribe()}}:l.prototype._error,f._complete=o?function(){try{o()}catch(p){n.error(p)}finally{this.unsubscribe()}}:l.prototype._complete,f}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;l.prototype.unsubscribe.call(this),!s&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Ki),Ea={now:function(){return(Ea.delegate||performance).now()},delegate:void 0},Mn={schedule:function(l){var e=requestAnimationFrame,n=cancelAnimationFrame,s=Mn.delegate;s&&(e=s.requestAnimationFrame,n=s.cancelAnimationFrame);var o=e(function(u){n=void 0,l(u)});return new sn(function(){return n==null?void 0:n(o)})},requestAnimationFrame:function(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];var n=Mn.delegate;return((n==null?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Dt([],Ot(l)))},cancelAnimationFrame:function(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];var n=Mn.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Dt([],Ot(l)))},delegate:void 0};function Pd(l){return l?ka(l):Tp}function ka(l){return new ht(function(e){var n=l||Ea,s=n.now(),o=0,u=function(){e.closed||(o=Mn.requestAnimationFrame(function(c){o=0;var h=n.now();e.next({timestamp:l?h:c,elapsed:h-s}),u()}))};return u(),function(){o&&Mn.cancelAnimationFrame(o)}})}var Tp=ka(),Mp=zi(function(l){return function(){l(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Op=function(l){me(e,l);function e(){var n=l.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var s=new mo(this,this);return s.operator=n,s},e.prototype._throwIfClosed=function(){if(this.closed)throw new Mp},e.prototype.next=function(n){var s=this;or(function(){var o,u;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var c=rn(s.currentObservers),h=c.next();!h.done;h=c.next()){var f=h.value;f.next(n)}}catch(p){o={error:p}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}}})},e.prototype.error=function(n){var s=this;or(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},e.prototype.complete=function(){var n=this;or(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),l.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var s=this,o=this,u=o.hasError,c=o.isStopped,h=o.observers;return u||c?xa:(this.currentObservers=null,h.push(n),new sn(function(){s.currentObservers=null,vr(h,n)}))},e.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,u=s.thrownError,c=s.isStopped;o?n.error(u):c&&n.complete()},e.prototype.asObservable=function(){var n=new ht;return n.source=this,n},e.create=function(n,s){return new mo(n,s)},e}(ht),mo=function(l){me(e,l);function e(n,s){var o=l.call(this)||this;return o.destination=n,o.source=s,o}return e.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},e.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},e.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},e.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:xa},e}(Op),Sa={now:function(){return(Sa.delegate||Date).now()},delegate:void 0},Lp=function(l){me(e,l);function e(n,s){return l.call(this)||this}return e.prototype.schedule=function(n,s){return s===void 0&&(s=0),this},e}(sn),_r={setInterval:function(l,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=_r.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Dt([l,e],Ot(n))):setInterval.apply(void 0,Dt([l,e],Ot(n)))},clearInterval:function(l){var e=_r.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(l)},delegate:void 0},Dp=function(l){me(e,l);function e(n,s){var o=l.call(this,n,s)||this;return o.scheduler=n,o.work=s,o.pending=!1,o}return e.prototype.schedule=function(n,s){var o;if(s===void 0&&(s=0),this.closed)return this;this.state=n;var u=this.id,c=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(c,u,s)),this.pending=!0,this.delay=s,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(c,this.id,s),this},e.prototype.requestAsyncId=function(n,s,o){return o===void 0&&(o=0),_r.setInterval(n.flush.bind(n,this),o)},e.prototype.recycleAsyncId=function(n,s,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return s;s!=null&&_r.clearInterval(s)},e.prototype.execute=function(n,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,s);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,s){var o=!1,u;try{this.work(n)}catch(c){o=!0,u=c||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),u},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,s=n.id,o=n.scheduler,u=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,vr(u,this),s!=null&&(this.id=this.recycleAsyncId(o,s,null)),this.delay=null,l.prototype.unsubscribe.call(this)}},e}(Lp),_o=function(){function l(e,n){n===void 0&&(n=l.now),this.schedulerActionCtor=e,this.now=n}return l.prototype.schedule=function(e,n,s){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(s,n)},l.now=Sa.now,l}(),Rp=function(l){me(e,l);function e(n,s){s===void 0&&(s=_o.now);var o=l.call(this,n,s)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(n){var s=this.actions;if(this._active){s.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=s.shift());if(this._active=!1,o){for(;n=s.shift();)n.unsubscribe();throw o}},e}(_o),Ip=new Rp(Dp),Np=new ht(function(l){return l.complete()});function Bp(l){return l&&K(l.schedule)}function Va(l){return l[l.length-1]}function Aa(l){return K(Va(l))?l.pop():void 0}function Hi(l){return Bp(Va(l))?l.pop():void 0}var qi=function(l){return l&&typeof l.length=="number"&&typeof l!="function"};function Ta(l){return K(l==null?void 0:l.then)}function Ma(l){return K(l[$i])}function Oa(l){return Symbol.asyncIterator&&K(l==null?void 0:l[Symbol.asyncIterator])}function La(l){return new TypeError("You provided "+(l!==null&&typeof l=="object"?"an invalid object":"'"+l+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Fp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Da=Fp();function Ra(l){return K(l==null?void 0:l[Da])}function Ia(l){return gp(this,arguments,function(){var n,s,o,u;return ya(this,function(c){switch(c.label){case 0:n=l.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Qe(n.read())];case 3:return s=c.sent(),o=s.value,u=s.done,u?[4,Qe(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Qe(o)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Na(l){return K(l==null?void 0:l.getReader)}function _e(l){if(l instanceof ht)return l;if(l!=null){if(Ma(l))return Up(l);if(qi(l))return zp(l);if(Ta(l))return jp(l);if(Oa(l))return Ba(l);if(Ra(l))return Kp(l);if(Na(l))return $p(l)}throw La(l)}function Up(l){return new ht(function(e){var n=l[$i]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zp(l){return new ht(function(e){for(var n=0;n<l.length&&!e.closed;n++)e.next(l[n]);e.complete()})}function jp(l){return new ht(function(e){l.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Pa)})}function Kp(l){return new ht(function(e){var n,s;try{for(var o=rn(l),u=o.next();!u.done;u=o.next()){var c=u.value;if(e.next(c),e.closed)return}}catch(h){n={error:h}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}e.complete()})}function Ba(l){return new ht(function(e){Hp(l,e).catch(function(n){return e.error(n)})})}function $p(l){return Ba(Ia(l))}function Hp(l,e){var n,s,o,u;return bp(this,void 0,void 0,function(){var c,h;return ya(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=wp(l),f.label=1;case 1:return[4,n.next()];case 2:if(s=f.sent(),!!s.done)return[3,4];if(c=s.value,e.next(c),e.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=f.sent(),o={error:h},[3,11];case 6:return f.trys.push([6,,9,10]),s&&!s.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Xt(l,e,n,s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var u=e.schedule(function(){n(),o?l.add(this.schedule(null,s)):this.unsubscribe()},s);if(l.add(u),!o)return u}function Fa(l,e){return e===void 0&&(e=0),dt(function(n,s){n.subscribe(pt(s,function(o){return Xt(s,l,function(){return s.next(o)},e)},function(){return Xt(s,l,function(){return s.complete()},e)},function(o){return Xt(s,l,function(){return s.error(o)},e)}))})}function Ua(l,e){return e===void 0&&(e=0),dt(function(n,s){s.add(l.schedule(function(){return n.subscribe(s)},e))})}function qp(l,e){return _e(l).pipe(Ua(e),Fa(e))}function Yp(l,e){return _e(l).pipe(Ua(e),Fa(e))}function Gp(l,e){return new ht(function(n){var s=0;return e.schedule(function(){s===l.length?n.complete():(n.next(l[s++]),n.closed||this.schedule())})})}function Xp(l,e){return new ht(function(n){var s;return Xt(n,e,function(){s=l[Da](),Xt(n,e,function(){var o,u,c;try{o=s.next(),u=o.value,c=o.done}catch(h){n.error(h);return}c?n.complete():n.next(u)},0,!0)}),function(){return K(s==null?void 0:s.return)&&s.return()}})}function za(l,e){if(!l)throw new Error("Iterable cannot be null");return new ht(function(n){Xt(n,e,function(){var s=l[Symbol.asyncIterator]();Xt(n,e,function(){s.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Wp(l,e){return za(Ia(l),e)}function Qp(l,e){if(l!=null){if(Ma(l))return qp(l,e);if(qi(l))return Gp(l,e);if(Ta(l))return Yp(l,e);if(Oa(l))return za(l,e);if(Ra(l))return Xp(l,e);if(Na(l))return Wp(l,e)}throw La(l)}function Yi(l,e){return e?Qp(l,e):_e(l)}var ja=zi(function(l){return function(){l(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ka(l,e){return dt(function(n,s){var o=0;n.subscribe(pt(s,function(u){s.next(l.call(e,u,o++))}))})}var Zp=Array.isArray;function Jp(l,e){return Zp(e)?l.apply(void 0,Dt([],Ot(e))):l(e)}function $a(l){return Ka(function(e){return Jp(l,e)})}var td=Array.isArray,ed=Object.getPrototypeOf,nd=Object.prototype,rd=Object.keys;function id(l){if(l.length===1){var e=l[0];if(td(e))return{args:e,keys:null};if(sd(e)){var n=rd(e);return{args:n.map(function(s){return e[s]}),keys:n}}}return{args:l,keys:null}}function sd(l){return l&&typeof l=="object"&&ed(l)===nd}function od(l,e){return l.reduce(function(n,s,o){return n[s]=e[o],n},{})}function Ed(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];var n=Hi(l),s=Aa(l),o=id(l),u=o.args,c=o.keys;if(u.length===0)return Yi([],n);var h=new ht(ad(u,n,c?function(f){return od(c,f)}:De));return s?h.pipe($a(s)):h}function ad(l,e,n){return n===void 0&&(n=De),function(s){bo(e,function(){for(var o=l.length,u=new Array(o),c=o,h=o,f=function(v){bo(e,function(){var g=Yi(l[v],e),w=!1;g.subscribe(pt(s,function(m){u[v]=m,w||(w=!0,h--),h||s.next(n(u.slice()))},function(){--c||s.complete()}))},s)},p=0;p<o;p++)f(p)},s)}}function bo(l,e,n){l?Xt(n,l,e):e()}function ld(l,e,n,s,o,u,c,h){var f=[],p=0,v=0,g=!1,w=function(){g&&!f.length&&!p&&e.complete()},m=function(b){return p<s?C(b):f.push(b)},C=function(b){u&&e.next(b),p++;var x=!1;_e(n(b,v++)).subscribe(pt(e,function(E){o==null||o(E),u?m(E):e.next(E)},function(){x=!0},void 0,function(){if(x)try{p--;for(var E=function(){var P=f.shift();c?Xt(e,c,function(){return C(P)}):C(P)};f.length&&p<s;)E();w()}catch(P){e.error(P)}}))};return l.subscribe(pt(e,m,function(){g=!0,w()})),function(){h==null||h()}}function Gi(l,e,n){return n===void 0&&(n=1/0),K(e)?Gi(function(s,o){return Ka(function(u,c){return e(s,u,o,c)})(_e(l(s,o)))},n):(typeof e=="number"&&(n=e),dt(function(s,o){return ld(s,o,l,n)}))}function ud(l){return l===void 0&&(l=1/0),Gi(De,l)}function cd(){return ud(1)}function go(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];return cd()(Yi(l,Hi(l)))}var hd=["addListener","removeListener"],pd=["addEventListener","removeEventListener"],dd=["on","off"];function wo(l,e,n,s){if(K(n)&&(s=n,n=void 0),s)return wo(l,e,n).pipe($a(s));var o=Ot(md(l)?pd.map(function(h){return function(f){return l[h](e,f,n)}}):fd(l)?hd.map(yo(l,e)):vd(l)?dd.map(yo(l,e)):[],2),u=o[0],c=o[1];if(!u&&qi(l))return Gi(function(h){return wo(h,e,n)})(_e(l));if(!u)throw new TypeError("Invalid event target");return new ht(function(h){var f=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return h.next(1<p.length?p:p[0])};return u(f),function(){return c(f)}})}function yo(l,e){return function(n){return function(s){return l[n](e,s)}}}function fd(l){return K(l.addListener)&&K(l.removeListener)}function vd(l){return K(l.on)&&K(l.off)}function md(l){return K(l.addEventListener)&&K(l.removeEventListener)}function _d(l,e){return dt(function(n,s){var o=0;n.subscribe(pt(s,function(u){return l.call(e,u,o++)&&s.next(u)}))})}function bd(l,e,n,s,o){return function(u,c){var h=n,f=e,p=0;u.subscribe(pt(c,function(v){var g=p++;f=h?l(f,v,g):(h=!0,v),s&&c.next(f)},o&&function(){h&&c.next(f),c.complete()}))}}function kd(l,e){return e===void 0&&(e=Ip),dt(function(n,s){var o=null,u=null,c=null,h=function(){if(o){o.unsubscribe(),o=null;var p=u;u=null,s.next(p)}};function f(){var p=c+l,v=e.now();if(v<p){o=this.schedule(void 0,p-v),s.add(o);return}h()}n.subscribe(pt(s,function(p){u=p,c=e.now(),o||(o=e.schedule(f,l),s.add(o))},function(){h(),s.complete()},void 0,function(){u=o=null}))})}function gd(l){return dt(function(e,n){var s=!1;e.subscribe(pt(n,function(o){s=!0,n.next(o)},function(){s||n.next(l),n.complete()}))})}function wd(l){return l<=0?function(){return Np}:dt(function(e,n){var s=0;e.subscribe(pt(n,function(o){++s<=l&&(n.next(o),l<=s&&n.complete())}))})}function yd(l){return l===void 0&&(l=xd),dt(function(e,n){var s=!1;e.subscribe(pt(n,function(o){s=!0,n.next(o)},function(){return s?n.complete():n.error(l())}))})}function xd(){return new ja}function Sd(l){return dt(function(e,n){try{e.subscribe(n)}finally{n.add(l)}})}function Vd(l,e){var n=arguments.length>=2;return function(s){return s.pipe(l?_d(function(o,u){return l(o,u,s)}):De,wd(1),n?gd(e):yd(function(){return new ja}))}}function Ad(l,e){return dt(bd(l,e,arguments.length>=2,!0))}function Td(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];var n=Hi(l);return dt(function(s,o){(n?go(l,s,n):go(l,s)).subscribe(o)})}function Md(l){return dt(function(e,n){_e(l).subscribe(pt(n,function(){return n.complete()},mr)),!n.closed&&e.subscribe(n)})}function Od(l,e,n){var s=K(l)||e||n?{next:l,error:e,complete:n}:l;return s?dt(function(o,u){var c;(c=s.subscribe)===null||c===void 0||c.call(s);var h=!0;o.subscribe(pt(u,function(f){var p;(p=s.next)===null||p===void 0||p.call(s,f),u.next(f)},function(){var f;h=!1,(f=s.complete)===null||f===void 0||f.call(s),u.complete()},function(f){var p;h=!1,(p=s.error)===null||p===void 0||p.call(s,f),u.error(f)},function(){var f,p;h&&((f=s.unsubscribe)===null||f===void 0||f.call(s)),(p=s.finalize)===null||p===void 0||p.call(s)}))}):De}function Ld(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];var n=Aa(l);return dt(function(s,o){for(var u=l.length,c=new Array(u),h=l.map(function(){return!1}),f=!1,p=function(g){_e(l[g]).subscribe(pt(o,function(w){c[g]=w,!f&&!h[g]&&(h[g]=!0,(f=h.every(De))&&(h=null))},mr))},v=0;v<u;v++)p(v);s.subscribe(pt(o,function(g){if(f){var w=Dt([g],Ot(c));o.next(n?n.apply(void 0,Dt([],Ot(w))):w)}}))})}export{Op as S,Vd as a,_d as b,ga as c,kd as d,Ad as e,wo as f,Pd as g,Cd as h,_p as i,Ed as j,Yi as k,Md as l,Od as m,Sd as n,go as o,Td as s,po as t,Ld as w};
