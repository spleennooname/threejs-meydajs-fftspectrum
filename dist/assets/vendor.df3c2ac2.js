function $t(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function vo(u,e){u.prototype=Object.create(e.prototype),u.prototype.constructor=u,u.__proto__=e}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var wt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Qe={duration:.5,overwrite:!1,delay:0},Pr,St=1e8,q=1/St,ur=Math.PI*2,Jc=ur/4,th=0,mo=Math.sqrt,eh=Math.cos,nh=Math.sin,rt=function(e){return typeof e=="string"},it=function(e){return typeof e=="function"},Yt=function(e){return typeof e=="number"},Er=function(e){return typeof e=="undefined"},Gt=function(e){return typeof e=="object"},ft=function(e){return e!==!1},bo=function(){return typeof window!="undefined"},ti=function(e){return it(e)||rt(e)},go=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ut=Array.isArray,cr=/(?:-?\.?\d|\.)+/gi,wo=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,He=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ji=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,yo=/[+-]=-?[.\d]+/,xo=/[^,'"\[\]\s]+/gi,ih=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Z,Nt,hr,kr,yt={},si={},Co,Po=function(e){return(si=Me(e,yt))&&Ot},Sr=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},oi=function(e,n){return!n&&console.warn(e)},Eo=function(e,n){return e&&(yt[e]=n)&&si&&(si[e]=n)||yt},Tn=function(){return 0},Vr={},ae=[],pr={},ko,bt={},tr={},Ys=30,ii=[],Tr="",Ar=function(e){var n=e[0],s,o;if(Gt(n)||it(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(o=ii.length;o--&&!ii[o].targetTest(n););s=ii[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new Go(e[o],s)))||e.splice(o,1);return e},Ve=function(e){return e._gsap||Ar(Vt(e))[0]._gsap},So=function(e,n,s){return(s=e[n])&&it(s)?e[n]():Er(s)&&e.getAttribute&&e.getAttribute(n)||s},_t=function(e,n){return(e=e.split(",")).forEach(n)||e},et=function(e){return Math.round(e*1e5)/1e5||0},at=function(e){return Math.round(e*1e7)/1e7||0},Ye=function(e,n){var s=n.charAt(0),o=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+o:s==="-"?e-o:s==="*"?e*o:e/o},rh=function(e,n){for(var s=n.length,o=0;e.indexOf(n[o])<0&&++o<s;);return o<s},ai=function(){var e=ae.length,n=ae.slice(0),s,o;for(pr={},ae.length=0,s=0;s<e;s++)o=n[s],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Vo=function(e,n,s,o){ae.length&&ai(),e.render(n,s,o),ae.length&&ai()},To=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(xo).length<2?n:rt(e)?e.trim():e},Ao=function(e){return e},At=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},sh=function(e){return function(n,s){for(var o in s)o in n||o==="duration"&&e||o==="ease"||(n[o]=s[o])}},Me=function(e,n){for(var s in n)e[s]=n[s];return e},Gs=function u(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Gt(n[s])?u(e[s]||(e[s]={}),n[s]):n[s]);return e},li=function(e,n){var s={},o;for(o in e)o in n||(s[o]=e[o]);return s},kn=function(e){var n=e.parent||Z,s=e.keyframes?sh(ut(e.keyframes)):At;if(ft(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},oh=function(e,n){for(var s=e.length,o=s===n.length;o&&s--&&e[s]===n[s];);return s<0},Mo=function(e,n,s,o,l){s===void 0&&(s="_first"),o===void 0&&(o="_last");var c=e[o],h;if(l)for(h=n[l];c&&c[l]>h;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[o]=n,n._prev=c,n.parent=n._dp=e,n},_i=function(e,n,s,o){s===void 0&&(s="_first"),o===void 0&&(o="_last");var l=n._prev,c=n._next;l?l._next=c:e[s]===n&&(e[s]=c),c?c._prev=l:e[o]===n&&(e[o]=l),n._next=n._prev=n.parent=null},Ht=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Te=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},ah=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},lh=function u(e){return!e||e._ts&&u(e.parent)},Xs=function(e){return e._repeat?Ze(e._tTime,e=e.duration()+e._rDelay)*e:0},Ze=function(e,n){var s=Math.floor(e/=n);return e&&s===e?s-1:s},ui=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},vi=function(e){return e._end=at(e._start+(e._tDur/Math.abs(e._ts||e._rts||q)||0))},Mr=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=at(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),vi(e),s._dirty||Te(s,e)),e},Oo=function(e,n){var s;if((n._time||n._initted&&!n._dur)&&(s=ui(e.rawTime(),n),(!n._dur||In(0,n.totalDuration(),s)-n._tTime>q)&&n.render(s,!0)),Te(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-q}},Bt=function(e,n,s,o){return n.parent&&Ht(n),n._start=at((Yt(s)?s:s||e!==Z?kt(e,s,n):e._time)+n._delay),n._end=at(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Mo(e,n,"_first","_last",e._sort?"_start":0),dr(n)||(e._recent=n),o||Oo(e,n),e},Lo=function(e,n){return(yt.ScrollTrigger||Sr("scrollTrigger",n))&&yt.ScrollTrigger.create(n,e)},Do=function(e,n,s,o){if(Lr(e,n),!e._initted)return 1;if(!s&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&ko!==gt.frame)return ae.push(e),e._lazy=[n,o],1},uh=function u(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||u(n))},dr=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},ch=function(e,n,s,o){var l=e.ratio,c=n<0||!n&&(!e._start&&uh(e)&&!(!e._initted&&dr(e))||(e._ts<0||e._dp._ts<0)&&!dr(e))?0:1,h=e._rDelay,f=0,d,_,g;if(h&&e._repeat&&(f=In(0,e._tDur,n),_=Ze(f,h),e._yoyo&&_&1&&(c=1-c),_!==Ze(e._tTime,h)&&(l=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==l||o||e._zTime===q||!n&&e._zTime){if(!e._initted&&Do(e,n,o,s))return;for(g=e._zTime,e._zTime=n||(s?q:0),s||(s=n&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=f,d=e._pt;d;)d.r(c,d.d),d=d._next;e._startAt&&n<0&&e._startAt.render(n,!0,!0),e._onUpdate&&!s&&Tt(e,"onUpdate"),f&&e._repeat&&!s&&e.parent&&Tt(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===c&&(c&&Ht(e,1),s||(Tt(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},hh=function(e,n,s){var o;if(s>n)for(o=e._first;o&&o._start<=s;){if(o.data==="isPause"&&o._start>n)return o;o=o._next}else for(o=e._last;o&&o._start>=s;){if(o.data==="isPause"&&o._start<n)return o;o=o._prev}},Je=function(e,n,s,o){var l=e._repeat,c=at(n)||0,h=e._tTime/e._tDur;return h&&!o&&(e._time*=c/e._dur),e._dur=c,e._tDur=l?l<0?1e10:at(c*(l+1)+e._rDelay*l):c,h>0&&!o?Mr(e,e._tTime=e._tDur*h):e.parent&&vi(e),s||Te(e.parent,e),e},Ws=function(e){return e instanceof dt?Te(e):Je(e,e._dur)},ph={_start:0,endTime:Tn,totalDuration:Tn},kt=function u(e,n,s){var o=e.labels,l=e._recent||ph,c=e.duration()>=St?l.endTime(!1):e._dur,h,f,d;return rt(n)&&(isNaN(n)||n in o)?(f=n.charAt(0),d=n.substr(-1)==="%",h=n.indexOf("="),f==="<"||f===">"?(h>=0&&(n=n.replace(/=/,"")),(f==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(h<0?l:s).totalDuration()/100:1)):h<0?(n in o||(o[n]=c),o[n]):(f=parseFloat(n.charAt(h-1)+n.substr(h+1)),d&&s&&(f=f/100*(ut(s)?s[0]:s).totalDuration()),h>1?u(e,n.substr(0,h-1),s)+f:c+f)):n==null?c:+n},Sn=function(e,n,s){var o=Yt(n[1]),l=(o?2:1)+(e<2?0:1),c=n[l],h,f;if(o&&(c.duration=n[1]),c.parent=s,e){for(h=c,f=s;f&&!("immediateRender"in h);)h=f.vars.defaults||{},f=ft(f.vars.inherit)&&f.parent;c.immediateRender=ft(h.immediateRender),e<2?c.runBackwards=1:c.startAt=n[l-1]}return new nt(n[0],c,n[l+1])},fe=function(e,n){return e||e===0?n(e):n},In=function(e,n,s){return s<e?e:s>n?n:s},lt=function(e,n){return!rt(e)||!(n=ih.exec(e))?"":n[1]},dh=function(e,n,s){return fe(s,function(o){return In(e,n,o)})},fr=[].slice,Ro=function(e,n){return e&&Gt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Gt(e[0]))&&!e.nodeType&&e!==Nt},fh=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(o){var l;return rt(o)&&!n||Ro(o,1)?(l=s).push.apply(l,Vt(o)):s.push(o)})||s},Vt=function(e,n,s){return rt(e)&&!s&&(hr||!tn())?fr.call((n||kr).querySelectorAll(e),0):ut(e)?fh(e,s):Ro(e)?fr.call(e,0):e?[e]:[]},_h=function(e){return e=Vt(e)[0]||oi("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return Vt(n,s.querySelectorAll?s:s===e?oi("Invalid scope")||kr.createElement("div"):e)}},Io=function(e){return e.sort(function(){return .5-Math.random()})},No=function(e){if(it(e))return e;var n=Gt(e)?e:{each:e},s=Ae(n.ease),o=n.from||0,l=parseFloat(n.base)||0,c={},h=o>0&&o<1,f=isNaN(o)||h,d=n.axis,_=o,g=o;return rt(o)?_=g={center:.5,edges:.5,end:1}[o]||0:!h&&f&&(_=o[0],g=o[1]),function(w,v,C){var b=(C||n).length,x=c[b],E,P,k,A,S,V,L,O,M;if(!x){if(M=n.grid==="auto"?0:(n.grid||[1,St])[1],!M){for(L=-St;L<(L=C[M++].getBoundingClientRect().left)&&M<b;);M--}for(x=c[b]=[],E=f?Math.min(M,b)*_-.5:o%M,P=M===St?0:f?b*g/M-.5:o/M|0,L=0,O=St,V=0;V<b;V++)k=V%M-E,A=P-(V/M|0),x[V]=S=d?Math.abs(d==="y"?A:k):mo(k*k+A*A),S>L&&(L=S),S<O&&(O=S);o==="random"&&Io(x),x.max=L-O,x.min=O,x.v=b=(parseFloat(n.amount)||parseFloat(n.each)*(M>b?b-1:d?d==="y"?b/M:M:Math.max(M,b/M))||0)*(o==="edges"?-1:1),x.b=b<0?l-b:l,x.u=lt(n.amount||n.each)||0,s=s&&b<0?Ho(s):s}return b=(x[w]-x.min)/x.max||0,at(x.b+(s?s(b):b)*x.v)+x.u}},_r=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var o=Math.round(parseFloat(s)/e)*e*n;return(o-o%1)/n+(Yt(s)?0:lt(s))}},Bo=function(e,n){var s=ut(e),o,l;return!s&&Gt(e)&&(o=s=e.radius||St,e.values?(e=Vt(e.values),(l=!Yt(e[0]))&&(o*=o)):e=_r(e.increment)),fe(n,s?it(e)?function(c){return l=e(c),Math.abs(l-c)<=o?l:c}:function(c){for(var h=parseFloat(l?c.x:c),f=parseFloat(l?c.y:0),d=St,_=0,g=e.length,w,v;g--;)l?(w=e[g].x-h,v=e[g].y-f,w=w*w+v*v):w=Math.abs(e[g]-h),w<d&&(d=w,_=g);return _=!o||d<=o?e[_]:c,l||_===c||Yt(c)?_:_+lt(c)}:_r(e))},Fo=function(e,n,s,o){return fe(ut(e)?!n:s===!0?!!(s=0):!o,function(){return ut(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(o=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*o)/o})},vh=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(o){return n.reduce(function(l,c){return c(l)},o)}},mh=function(e,n){return function(s){return e(parseFloat(s))+(n||lt(s))}},bh=function(e,n,s){return zo(e,n,0,1,s)},Uo=function(e,n,s){return fe(s,function(o){return e[~~n(o)]})},gh=function u(e,n,s){var o=n-e;return ut(e)?Uo(e,u(0,e.length),n):fe(s,function(l){return(o+(l-e)%o)%o+e})},wh=function u(e,n,s){var o=n-e,l=o*2;return ut(e)?Uo(e,u(0,e.length-1),n):fe(s,function(c){return c=(l+(c-e)%l)%l||0,e+(c>o?l-c:c)})},An=function(e){for(var n=0,s="",o,l,c,h;~(o=e.indexOf("random(",n));)c=e.indexOf(")",o),h=e.charAt(o+7)==="[",l=e.substr(o+7,c-o-7).match(h?xo:cr),s+=e.substr(n,o-n)+Fo(h?l:+l[0],h?0:+l[1],+l[2]||1e-5),n=c+1;return s+e.substr(n,e.length-n)},zo=function(e,n,s,o,l){var c=n-e,h=o-s;return fe(l,function(f){return s+((f-e)/c*h||0)})},yh=function u(e,n,s,o){var l=isNaN(e+n)?0:function(v){return(1-v)*e+v*n};if(!l){var c=rt(e),h={},f,d,_,g,w;if(s===!0&&(o=1)&&(s=null),c)e={p:e},n={p:n};else if(ut(e)&&!ut(n)){for(_=[],g=e.length,w=g-2,d=1;d<g;d++)_.push(u(e[d-1],e[d]));g--,l=function(C){C*=g;var b=Math.min(w,~~C);return _[b](C-b)},s=n}else o||(e=Me(ut(e)?[]:{},e));if(!_){for(f in n)Or.call(h,e,f,"get",n[f]);l=function(C){return Ir(C,h)||(c?e.p:e)}}}return fe(s,l)},Qs=function(e,n,s){var o=e.labels,l=St,c,h,f;for(c in o)h=o[c]-n,h<0==!!s&&h&&l>(h=Math.abs(h))&&(f=c,l=h);return f},Tt=function(e,n,s){var o=e.vars,l=o[n],c,h;if(!!l)return c=o[n+"Params"],h=o.callbackScope||e,s&&ae.length&&ai(),c?l.apply(h,c):l.call(h)},Pn=function(e){return Ht(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&Tt(e,"onInterrupt"),e},qe,xh=function(e){e=!e.name&&e.default||e;var n=e.name,s=it(e),o=n&&!s&&e.init?function(){this._props=[]}:e,l={init:Tn,render:Ir,add:Or,kill:Bh,modifier:Nh,rawVars:0},c={targetTest:0,get:0,getSetter:Rr,aliases:{},register:0};if(tn(),e!==o){if(bt[n])return;At(o,At(li(e,l),c)),Me(o.prototype,Me(l,li(e,c))),bt[o.prop=n]=o,e.targetTest&&(ii.push(o),Vr[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Eo(n,o),e.register&&e.register(Ot,o,vt)},H=255,En={aqua:[0,H,H],lime:[0,H,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,H],navy:[0,0,128],white:[H,H,H],olive:[128,128,0],yellow:[H,H,0],orange:[H,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[H,0,0],pink:[H,192,203],cyan:[0,H,H],transparent:[H,H,H,0]},er=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*H+.5|0},jo=function(e,n,s){var o=e?Yt(e)?[e>>16,e>>8&H,e&H]:0:En.black,l,c,h,f,d,_,g,w,v,C;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),En[e])o=En[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),c=e.charAt(2),h=e.charAt(3),e="#"+l+l+c+c+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&H,o&H,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&H,e&H]}else if(e.substr(0,3)==="hsl"){if(o=C=e.match(cr),!n)f=+o[0]%360/360,d=+o[1]/100,_=+o[2]/100,c=_<=.5?_*(d+1):_+d-_*d,l=_*2-c,o.length>3&&(o[3]*=1),o[0]=er(f+1/3,l,c),o[1]=er(f,l,c),o[2]=er(f-1/3,l,c);else if(~e.indexOf("="))return o=e.match(wo),s&&o.length<4&&(o[3]=1),o}else o=e.match(cr)||En.transparent;o=o.map(Number)}return n&&!C&&(l=o[0]/H,c=o[1]/H,h=o[2]/H,g=Math.max(l,c,h),w=Math.min(l,c,h),_=(g+w)/2,g===w?f=d=0:(v=g-w,d=_>.5?v/(2-g-w):v/(g+w),f=g===l?(c-h)/v+(c<h?6:0):g===c?(h-l)/v+2:(l-c)/v+4,f*=60),o[0]=~~(f+.5),o[1]=~~(d*100+.5),o[2]=~~(_*100+.5)),s&&o.length<4&&(o[3]=1),o},Ko=function(e){var n=[],s=[],o=-1;return e.split(le).forEach(function(l){var c=l.match(He)||[];n.push.apply(n,c),s.push(o+=c.length+1)}),n.c=s,n},Zs=function(e,n,s){var o="",l=(e+o).match(le),c=n?"hsla(":"rgba(",h=0,f,d,_,g;if(!l)return e;if(l=l.map(function(w){return(w=jo(w,n,1))&&c+(n?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),s&&(_=Ko(e),f=s.c,f.join(o)!==_.c.join(o)))for(d=e.replace(le,"1").split(He),g=d.length-1;h<g;h++)o+=d[h]+(~f.indexOf(h)?l.shift()||c+"0,0,0,0)":(_.length?_:l.length?l:s).shift());if(!d)for(d=e.split(le),g=d.length-1;h<g;h++)o+=d[h]+l[h];return o+d[g]},le=function(){var u="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in En)u+="|"+e+"\\b";return new RegExp(u+")","gi")}(),Ch=/hsl[a]?\(/,$o=function(e){var n=e.join(" "),s;if(le.lastIndex=0,le.test(n))return s=Ch.test(n),e[1]=Zs(e[1],s),e[0]=Zs(e[0],s,Ko(e[1])),!0},Mn,gt=function(){var u=Date.now,e=500,n=33,s=u(),o=s,l=1e3/240,c=l,h=[],f,d,_,g,w,v,C=function b(x){var E=u()-o,P=x===!0,k,A,S,V;if(E>e&&(s+=E-n),o+=E,S=o-s,k=S-c,(k>0||P)&&(V=++g.frame,w=S-g.time*1e3,g.time=S=S/1e3,c+=k+(k>=l?4:l-k),A=1),P||(f=d(b)),A)for(v=0;v<h.length;v++)h[v](S,w,V,x)};return g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(x){return w/(1e3/(x||60))},wake:function(){Co&&(!hr&&bo()&&(Nt=hr=window,kr=Nt.document||{},yt.gsap=Ot,(Nt.gsapVersions||(Nt.gsapVersions=[])).push(Ot.version),Po(si||Nt.GreenSockGlobals||!Nt.gsap&&Nt||{}),_=Nt.requestAnimationFrame),f&&g.sleep(),d=_||function(x){return setTimeout(x,c-g.time*1e3+1|0)},Mn=1,C(2))},sleep:function(){(_?Nt.cancelAnimationFrame:clearTimeout)(f),Mn=0,d=Tn},lagSmoothing:function(x,E){e=x||1/q,n=Math.min(E,e,0)},fps:function(x){l=1e3/(x||240),c=g.time*1e3+l},add:function(x,E,P){var k=E?function(A,S,V,L){x(A,S,V,L),g.remove(k)}:x;return g.remove(x),h[P?"unshift":"push"](k),tn(),k},remove:function(x,E){~(E=h.indexOf(x))&&h.splice(E,1)&&v>=E&&v--},_listeners:h},g}(),tn=function(){return!Mn&&gt.wake()},U={},Ph=/^[\d.\-M][\d.\-,\s]/,Eh=/["']/g,kh=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),o=s[0],l=1,c=s.length,h,f,d;l<c;l++)f=s[l],h=l!==c-1?f.lastIndexOf(","):f.length,d=f.substr(0,h),n[o]=isNaN(d)?d.replace(Eh,"").trim():+d,o=f.substr(h+1).trim();return n},Sh=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),o=e.indexOf("(",n);return e.substring(n,~o&&o<s?e.indexOf(")",s+1):s)},Vh=function(e){var n=(e+"").split("("),s=U[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[kh(n[1])]:Sh(e).split(",").map(To)):U._CE&&Ph.test(e)?U._CE("",e):s},Ho=function(e){return function(n){return 1-e(1-n)}},qo=function u(e,n){for(var s=e._first,o;s;)s instanceof dt?u(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?u(s.timeline,n):(o=s._ease,s._ease=s._yEase,s._yEase=o,s._yoyo=n)),s=s._next},Ae=function(e,n){return e&&(it(e)?e:U[e]||Vh(e))||n},Le=function(e,n,s,o){s===void 0&&(s=function(f){return 1-n(1-f)}),o===void 0&&(o=function(f){return f<.5?n(f*2)/2:1-n((1-f)*2)/2});var l={easeIn:n,easeOut:s,easeInOut:o},c;return _t(e,function(h){U[h]=yt[h]=l,U[c=h.toLowerCase()]=s;for(var f in l)U[c+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=U[h+"."+f]=l[f]}),l},Yo=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},nr=function u(e,n,s){var o=n>=1?n:1,l=(s||(e?.3:.45))/(n<1?n:1),c=l/ur*(Math.asin(1/o)||0),h=function(_){return _===1?1:o*Math.pow(2,-10*_)*nh((_-c)*l)+1},f=e==="out"?h:e==="in"?function(d){return 1-h(1-d)}:Yo(h);return l=ur/l,f.config=function(d,_){return u(e,d,_)},f},ir=function u(e,n){n===void 0&&(n=1.70158);var s=function(c){return c?--c*c*((n+1)*c+n)+1:0},o=e==="out"?s:e==="in"?function(l){return 1-s(1-l)}:Yo(s);return o.config=function(l){return u(e,l)},o};_t("Linear,Quad,Cubic,Quart,Quint,Strong",function(u,e){var n=e<5?e+1:e;Le(u+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});U.Linear.easeNone=U.none=U.Linear.easeIn;Le("Elastic",nr("in"),nr("out"),nr());(function(u,e){var n=1/e,s=2*n,o=2.5*n,l=function(h){return h<n?u*h*h:h<s?u*Math.pow(h-1.5/e,2)+.75:h<o?u*(h-=2.25/e)*h+.9375:u*Math.pow(h-2.625/e,2)+.984375};Le("Bounce",function(c){return 1-l(1-c)},l)})(7.5625,2.75);Le("Expo",function(u){return u?Math.pow(2,10*(u-1)):0});Le("Circ",function(u){return-(mo(1-u*u)-1)});Le("Sine",function(u){return u===1?1:-eh(u*Jc)+1});Le("Back",ir("in"),ir("out"),ir());U.SteppedEase=U.steps=yt.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,o=e+(n?0:1),l=n?1:0,c=1-q;return function(h){return((o*In(0,c,h)|0)+l)*s}}};Qe.ease=U["quad.out"];_t("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(u){return Tr+=u+","+u+"Params,"});var Go=function(e,n){this.id=th++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:So,this.set=n?n.getSetter:Rr},On=function(){function u(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Je(this,+n.duration,1,1),this.data=n.data,Mn||gt.wake()}var e=u.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,Je(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,o){if(tn(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Mr(this,s),!l._dp||l.parent||Oo(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Bt(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===q||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),Vo(this,s,o)),this},e.time=function(s,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Xs(this))%(this._dur+this._rDelay)||(s?this._dur:0),o):this._time},e.totalProgress=function(s,o){return arguments.length?this.totalTime(this.totalDuration()*s,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(s,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Xs(this),o):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(s,o){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*l,o):this._repeat?Ze(this._tTime,l)+1:1},e.timeScale=function(s){if(!arguments.length)return this._rts===-q?0:this._rts;if(this._rts===s)return this;var o=this.parent&&this._ts?ui(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-q?0:this._rts,this.totalTime(In(-this._delay,this._tDur,o),!0),vi(this),ah(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(tn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==q&&(this._tTime-=q)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Bt(o,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(ft(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var o=this.parent||this._dp;return o?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ui(o.rawTime(s),this):this._tTime:this._tTime},e.globalTime=function(s){for(var o=this,l=arguments.length?s:o.rawTime();o;)l=o._start+l/(o._ts||1),o=o._dp;return l},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Ws(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var o=this._time;return this._rDelay=s,Ws(this),o?this.time(o):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,o){return this.totalTime(kt(this,s),ft(o))},e.restart=function(s,o){return this.play().totalTime(s?-this._delay:0,ft(o))},e.play=function(s,o){return s!=null&&this.seek(s,o),this.reversed(!1).paused(!1)},e.reverse=function(s,o){return s!=null&&this.seek(s||this.totalDuration(),o),this.reversed(!0).paused(!1)},e.pause=function(s,o){return s!=null&&this.seek(s,o),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-q:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-q,this},e.isActive=function(){var s=this.parent||this._dp,o=this._start,l;return!!(!s||this._ts&&this._initted&&s.isActive()&&(l=s.rawTime(!0))>=o&&l<this.endTime(!0)-q)},e.eventCallback=function(s,o,l){var c=this.vars;return arguments.length>1?(o?(c[s]=o,l&&(c[s+"Params"]=l),s==="onUpdate"&&(this._onUpdate=o)):delete c[s],this):c[s]},e.then=function(s){var o=this;return new Promise(function(l){var c=it(s)?s:Ao,h=function(){var d=o.then;o.then=null,it(c)&&(c=c(o))&&(c.then||c===o)&&(o.then=d),l(c),o.then=d};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?h():o._prom=h})},e.kill=function(){Pn(this)},u}();At(On.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-q,_prom:0,_ps:!1,_rts:1});var dt=function(u){vo(e,u);function e(s,o){var l;return s===void 0&&(s={}),l=u.call(this,s)||this,l.labels={},l.smoothChildTiming=!!s.smoothChildTiming,l.autoRemoveChildren=!!s.autoRemoveChildren,l._sort=ft(s.sortChildren),Z&&Bt(s.parent||Z,$t(l),o),s.reversed&&l.reverse(),s.paused&&l.paused(!0),s.scrollTrigger&&Lo($t(l),s.scrollTrigger),l}var n=e.prototype;return n.to=function(o,l,c){return Sn(0,arguments,this),this},n.from=function(o,l,c){return Sn(1,arguments,this),this},n.fromTo=function(o,l,c,h){return Sn(2,arguments,this),this},n.set=function(o,l,c){return l.duration=0,l.parent=this,kn(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new nt(o,l,kt(this,c),1),this},n.call=function(o,l,c){return Bt(this,nt.delayedCall(0,o,l),c)},n.staggerTo=function(o,l,c,h,f,d,_){return c.duration=l,c.stagger=c.stagger||h,c.onComplete=d,c.onCompleteParams=_,c.parent=this,new nt(o,c,kt(this,f)),this},n.staggerFrom=function(o,l,c,h,f,d,_){return c.runBackwards=1,kn(c).immediateRender=ft(c.immediateRender),this.staggerTo(o,l,c,h,f,d,_)},n.staggerFromTo=function(o,l,c,h,f,d,_,g){return h.startAt=c,kn(h).immediateRender=ft(h.immediateRender),this.staggerTo(o,l,h,f,d,_,g)},n.render=function(o,l,c){var h=this._time,f=this._dirty?this.totalDuration():this._tDur,d=this._dur,_=o<=0?0:at(o),g=this._zTime<0!=o<0&&(this._initted||!d),w,v,C,b,x,E,P,k,A,S,V,L;if(this!==Z&&_>f&&o>=0&&(_=f),_!==this._tTime||c||g){if(h!==this._time&&d&&(_+=this._time-h,o+=this._time-h),w=_,A=this._start,k=this._ts,E=!k,g&&(d||(h=this._zTime),(o||!l)&&(this._zTime=o)),this._repeat){if(V=this._yoyo,x=d+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(x*100+o,l,c);if(w=at(_%x),_===f?(b=this._repeat,w=d):(b=~~(_/x),b&&b===_/x&&(w=d,b--),w>d&&(w=d)),S=Ze(this._tTime,x),!h&&this._tTime&&S!==b&&(S=b),V&&b&1&&(w=d-w,L=1),b!==S&&!this._lock){var O=V&&S&1,M=O===(V&&b&1);if(b<S&&(O=!O),h=O?0:d,this._lock=1,this.render(h||(L?0:at(b*x)),l,!d)._lock=0,this._tTime=_,!l&&this.parent&&Tt(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),h&&h!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,f=this._tDur,M&&(this._lock=2,h=O?d:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;qo(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=hh(this,at(h),at(w)),P&&(_-=w-(w=P._start))),this._tTime=_,this._time=w,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,h=0),!h&&w&&!l&&(Tt(this,"onStart"),this._tTime!==_))return this;if(w>=h&&o>=0)for(v=this._first;v;){if(C=v._next,(v._act||w>=v._start)&&v._ts&&P!==v){if(v.parent!==this)return this.render(o,l,c);if(v.render(v._ts>0?(w-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(w-v._start)*v._ts,l,c),w!==this._time||!this._ts&&!E){P=0,C&&(_+=this._zTime=-q);break}}v=C}else{v=this._last;for(var N=o<0?o:w;v;){if(C=v._prev,(v._act||N<=v._end)&&v._ts&&P!==v){if(v.parent!==this)return this.render(o,l,c);if(v.render(v._ts>0?(N-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(N-v._start)*v._ts,l,c),w!==this._time||!this._ts&&!E){P=0,C&&(_+=this._zTime=N?-q:q);break}}v=C}}if(P&&!l&&(this.pause(),P.render(w>=h?0:-q)._zTime=w>=h?1:-1,this._ts))return this._start=A,vi(this),this.render(o,l,c);this._onUpdate&&!l&&Tt(this,"onUpdate",!0),(_===f&&this._tTime>=this.totalDuration()||!_&&h)&&(A===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((o||!d)&&(_===f&&this._ts>0||!_&&this._ts<0)&&Ht(this,1),!l&&!(o<0&&!h)&&(_||h||!f)&&(Tt(this,_===f&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<f&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(o,l){var c=this;if(Yt(l)||(l=kt(this,l,o)),!(o instanceof On)){if(ut(o))return o.forEach(function(h){return c.add(h,l)}),this;if(rt(o))return this.addLabel(o,l);if(it(o))o=nt.delayedCall(0,o);else return this}return this!==o?Bt(this,o,l):this},n.getChildren=function(o,l,c,h){o===void 0&&(o=!0),l===void 0&&(l=!0),c===void 0&&(c=!0),h===void 0&&(h=-St);for(var f=[],d=this._first;d;)d._start>=h&&(d instanceof nt?l&&f.push(d):(c&&f.push(d),o&&f.push.apply(f,d.getChildren(!0,l,c)))),d=d._next;return f},n.getById=function(o){for(var l=this.getChildren(1,1,1),c=l.length;c--;)if(l[c].vars.id===o)return l[c]},n.remove=function(o){return rt(o)?this.removeLabel(o):it(o)?this.killTweensOf(o):(_i(this,o),o===this._recent&&(this._recent=this._last),Te(this))},n.totalTime=function(o,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=at(gt.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),u.prototype.totalTime.call(this,o,l),this._forcing=0,this):this._tTime},n.addLabel=function(o,l){return this.labels[o]=kt(this,l),this},n.removeLabel=function(o){return delete this.labels[o],this},n.addPause=function(o,l,c){var h=nt.delayedCall(0,l||Tn,c);return h.data="isPause",this._hasPause=1,Bt(this,h,kt(this,o))},n.removePause=function(o){var l=this._first;for(o=kt(this,o);l;)l._start===o&&l.data==="isPause"&&Ht(l),l=l._next},n.killTweensOf=function(o,l,c){for(var h=this.getTweensOf(o,c),f=h.length;f--;)ie!==h[f]&&h[f].kill(o,l);return this},n.getTweensOf=function(o,l){for(var c=[],h=Vt(o),f=this._first,d=Yt(l),_;f;)f instanceof nt?rh(f._targets,h)&&(d?(!ie||f._initted&&f._ts)&&f.globalTime(0)<=l&&f.globalTime(f.totalDuration())>l:!l||f.isActive())&&c.push(f):(_=f.getTweensOf(h,l)).length&&c.push.apply(c,_),f=f._next;return c},n.tweenTo=function(o,l){l=l||{};var c=this,h=kt(c,o),f=l,d=f.startAt,_=f.onStart,g=f.onStartParams,w=f.immediateRender,v,C=nt.to(c,At({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:l.duration||Math.abs((h-(d&&"time"in d?d.time:c._time))/c.timeScale())||q,onStart:function(){if(c.pause(),!v){var x=l.duration||Math.abs((h-(d&&"time"in d?d.time:c._time))/c.timeScale());C._dur!==x&&Je(C,x,0,1).render(C._time,!0,!0),v=1}_&&_.apply(C,g||[])}},l));return w?C.render(0):C},n.tweenFromTo=function(o,l,c){return this.tweenTo(l,At({startAt:{time:kt(this,o)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(o){return o===void 0&&(o=this._time),Qs(this,kt(this,o))},n.previousLabel=function(o){return o===void 0&&(o=this._time),Qs(this,kt(this,o),1)},n.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+q)},n.shiftChildren=function(o,l,c){c===void 0&&(c=0);for(var h=this._first,f=this.labels,d;h;)h._start>=c&&(h._start+=o,h._end+=o),h=h._next;if(l)for(d in f)f[d]>=c&&(f[d]+=o);return Te(this)},n.invalidate=function(){var o=this._first;for(this._lock=0;o;)o.invalidate(),o=o._next;return u.prototype.invalidate.call(this)},n.clear=function(o){o===void 0&&(o=!0);for(var l=this._first,c;l;)c=l._next,this.remove(l),l=c;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Te(this)},n.totalDuration=function(o){var l=0,c=this,h=c._last,f=St,d,_,g;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-o:o));if(c._dirty){for(g=c.parent;h;)d=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>f&&c._sort&&h._ts&&!c._lock?(c._lock=1,Bt(c,h,_-h._delay,1)._lock=0):f=_,_<0&&h._ts&&(l-=_,(!g&&!c._dp||g&&g.smoothChildTiming)&&(c._start+=_/c._ts,c._time-=_,c._tTime-=_),c.shiftChildren(-_,!1,-1/0),f=0),h._end>l&&h._ts&&(l=h._end),h=d;Je(c,c===Z&&c._time>l?c._time:l,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(o){if(Z._ts&&(Vo(Z,ui(o,Z)),ko=gt.frame),gt.frame>=Ys){Ys+=wt.autoSleep||120;var l=Z._first;if((!l||!l._ts)&&wt.autoSleep&&gt._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||gt.sleep()}}},e}(On);At(dt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Th=function(e,n,s,o,l,c,h){var f=new vt(this._pt,e,n,0,1,ta,null,l),d=0,_=0,g,w,v,C,b,x,E,P;for(f.b=s,f.e=o,s+="",o+="",(E=~o.indexOf("random("))&&(o=An(o)),c&&(P=[s,o],c(P,e,n),s=P[0],o=P[1]),w=s.match(Ji)||[];g=Ji.exec(o);)C=g[0],b=o.substring(d,g.index),v?v=(v+1)%5:b.substr(-5)==="rgba("&&(v=1),C!==w[_++]&&(x=parseFloat(w[_-1])||0,f._pt={_next:f._pt,p:b||_===1?b:",",s:x,c:C.charAt(1)==="="?Ye(x,C)-x:parseFloat(C)-x,m:v&&v<4?Math.round:0},d=Ji.lastIndex);return f.c=d<o.length?o.substring(d,o.length):"",f.fp=h,(yo.test(o)||E)&&(f.e=0),this._pt=f,f},Or=function(e,n,s,o,l,c,h,f,d){it(o)&&(o=o(l||0,e,c));var _=e[n],g=s!=="get"?s:it(_)?d?e[n.indexOf("set")||!it(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():_,w=it(_)?d?Dh:Zo:Dr,v;if(rt(o)&&(~o.indexOf("random(")&&(o=An(o)),o.charAt(1)==="="&&(v=Ye(g,o)+(lt(g)||0),(v||v===0)&&(o=v))),g!==o||vr)return!isNaN(g*o)&&o!==""?(v=new vt(this._pt,e,n,+g||0,o-(g||0),typeof _=="boolean"?Ih:Jo,0,w),d&&(v.fp=d),h&&v.modifier(h,this,e),this._pt=v):(!_&&!(n in e)&&Sr(n,o),Th.call(this,e,n,g,o,w,f||wt.stringFilter,d))},Ah=function(e,n,s,o,l){if(it(e)&&(e=Vn(e,l,n,s,o)),!Gt(e)||e.style&&e.nodeType||ut(e)||go(e))return rt(e)?Vn(e,l,n,s,o):e;var c={},h;for(h in e)c[h]=Vn(e[h],l,n,s,o);return c},Xo=function(e,n,s,o,l,c){var h,f,d,_;if(bt[e]&&(h=new bt[e]).init(l,h.rawVars?n[e]:Ah(n[e],o,l,c,s),s,o,c)!==!1&&(s._pt=f=new vt(s._pt,l,e,0,1,h.render,h,0,h.priority),s!==qe))for(d=s._ptLookup[s._targets.indexOf(l)],_=h._props.length;_--;)d[h._props[_]]=f;return h},ie,vr,Lr=function u(e,n){var s=e.vars,o=s.ease,l=s.startAt,c=s.immediateRender,h=s.lazy,f=s.onUpdate,d=s.onUpdateParams,_=s.callbackScope,g=s.runBackwards,w=s.yoyoEase,v=s.keyframes,C=s.autoRevert,b=e._dur,x=e._startAt,E=e._targets,P=e.parent,k=P&&P.data==="nested"?P.parent._targets:E,A=e._overwrite==="auto"&&!Pr,S=e.timeline,V,L,O,M,N,Y,J,tt,X,F,D,ot,Ft;if(S&&(!v||!o)&&(o="none"),e._ease=Ae(o,Qe.ease),e._yEase=w?Ho(Ae(w===!0?o:w,Qe.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!S&&!!s.runBackwards,!S||v&&!s.stagger){if(tt=E[0]?Ve(E[0]).harness:0,ot=tt&&s[tt.prop],V=li(s,Vr),x&&(Ht(x.render(-1,!0)),x._lazy=0),l)if(Ht(e._startAt=nt.set(E,At({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:ft(h),startAt:null,delay:0,onUpdate:f,onUpdateParams:d,callbackScope:_,stagger:0},l))),n<0&&!c&&!C&&e._startAt.render(-1,!0),c){if(n>0&&!C&&(e._startAt=0),b&&n<=0){n&&(e._zTime=n);return}}else C===!1&&(e._startAt=0);else if(g&&b){if(x)!C&&(e._startAt=0);else if(n&&(c=!1),O=At({overwrite:!1,data:"isFromStart",lazy:c&&ft(h),immediateRender:c,stagger:0,parent:P},V),ot&&(O[tt.prop]=ot),Ht(e._startAt=nt.set(E,O)),n<0&&e._startAt.render(-1,!0),e._zTime=n,!c)u(e._startAt,q);else if(!n)return}for(e._pt=e._ptCache=0,h=b&&ft(h)||h&&!b,L=0;L<E.length;L++){if(N=E[L],J=N._gsap||Ar(E)[L]._gsap,e._ptLookup[L]=F={},pr[J.id]&&ae.length&&ai(),D=k===E?L:k.indexOf(N),tt&&(X=new tt).init(N,ot||V,e,D,k)!==!1&&(e._pt=M=new vt(e._pt,N,X.name,0,1,X.render,X,0,X.priority),X._props.forEach(function(Ut){F[Ut]=M}),X.priority&&(Y=1)),!tt||ot)for(O in V)bt[O]&&(X=Xo(O,V,e,D,N,k))?X.priority&&(Y=1):F[O]=M=Or.call(e,N,O,"get",V[O],D,k,0,s.stringFilter);e._op&&e._op[L]&&e.kill(N,e._op[L]),A&&e._pt&&(ie=e,Z.killTweensOf(N,F,e.globalTime(n)),Ft=!e.parent,ie=0),e._pt&&h&&(pr[J.id]=1)}Y&&ea(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!Ft,v&&n<=0&&S.render(St,!0,!0)},Mh=function(e,n,s,o,l,c,h){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,_,g;if(!f)for(f=e._ptCache[n]=[],_=e._ptLookup,g=e._targets.length;g--;){if(d=_[g][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n;)d=d._next;if(!d)return vr=1,e.vars[n]="+=0",Lr(e,h),vr=0,1;f.push(d)}for(g=f.length;g--;)d=f[g],d.s=(o||o===0)&&!l?o:d.s+(o||0)+c*d.c,d.c=s-d.s,d.e&&(d.e=et(s)+lt(d.e)),d.b&&(d.b=d.s+lt(d.b))},Oh=function(e,n){var s=e[0]?Ve(e[0]).harness:0,o=s&&s.aliases,l,c,h,f;if(!o)return n;l=Me({},n);for(c in o)if(c in l)for(f=o[c].split(","),h=f.length;h--;)l[f[h]]=l[c];return l},Lh=function(e,n,s,o){var l=n.ease||o||"power1.inOut",c,h;if(ut(n))h=s[e]||(s[e]=[]),n.forEach(function(f,d){return h.push({t:d/(n.length-1)*100,v:f,e:l})});else for(c in n)h=s[c]||(s[c]=[]),c==="ease"||h.push({t:parseFloat(e),v:n[c],e:l})},Vn=function(e,n,s,o,l){return it(e)?e.call(n,s,o,l):rt(e)&&~e.indexOf("random(")?An(e):e},Wo=Tr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Qo={};_t(Wo+",id,stagger,delay,duration,paused,scrollTrigger",function(u){return Qo[u]=1});var nt=function(u){vo(e,u);function e(s,o,l,c){var h;typeof o=="number"&&(l.duration=o,o=l,l=null),h=u.call(this,c?o:kn(o))||this;var f=h.vars,d=f.duration,_=f.delay,g=f.immediateRender,w=f.stagger,v=f.overwrite,C=f.keyframes,b=f.defaults,x=f.scrollTrigger,E=f.yoyoEase,P=o.parent||Z,k=(ut(s)||go(s)?Yt(s[0]):"length"in o)?[s]:Vt(s),A,S,V,L,O,M,N,Y;if(h._targets=k.length?Ar(k):oi("GSAP target "+s+" not found. https://greensock.com",!wt.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=v,C||w||ti(d)||ti(_)){if(o=h.vars,A=h.timeline=new dt({data:"nested",defaults:b||{}}),A.kill(),A.parent=A._dp=$t(h),A._start=0,w||ti(d)||ti(_)){if(L=k.length,N=w&&No(w),Gt(w))for(O in w)~Wo.indexOf(O)&&(Y||(Y={}),Y[O]=w[O]);for(S=0;S<L;S++)V=li(o,Qo),V.stagger=0,E&&(V.yoyoEase=E),Y&&Me(V,Y),M=k[S],V.duration=+Vn(d,$t(h),S,M,k),V.delay=(+Vn(_,$t(h),S,M,k)||0)-h._delay,!w&&L===1&&V.delay&&(h._delay=_=V.delay,h._start+=_,V.delay=0),A.to(M,V,N?N(S,M,k):0),A._ease=U.none;A.duration()?d=_=0:h.timeline=0}else if(C){kn(At(A.vars.defaults,{ease:"none"})),A._ease=Ae(C.ease||o.ease||"none");var J=0,tt,X,F;if(ut(C))C.forEach(function(D){return A.to(k,D,">")});else{V={};for(O in C)O==="ease"||O==="easeEach"||Lh(O,C[O],V,C.easeEach);for(O in V)for(tt=V[O].sort(function(D,ot){return D.t-ot.t}),J=0,S=0;S<tt.length;S++)X=tt[S],F={ease:X.e,duration:(X.t-(S?tt[S-1].t:0))/100*d},F[O]=X.v,A.to(k,F,J),J+=F.duration;A.duration()<d&&A.to({},{duration:d-A.duration()})}}d||h.duration(d=A.duration())}else h.timeline=0;return v===!0&&!Pr&&(ie=$t(h),Z.killTweensOf(k),ie=0),Bt(P,$t(h),l),o.reversed&&h.reverse(),o.paused&&h.paused(!0),(g||!d&&!C&&h._start===at(P._time)&&ft(g)&&lh($t(h))&&P.data!=="nested")&&(h._tTime=-q,h.render(Math.max(0,-_))),x&&Lo($t(h),x),h}var n=e.prototype;return n.render=function(o,l,c){var h=this._time,f=this._tDur,d=this._dur,_=o>f-q&&o>=0?f:o<q?0:o,g,w,v,C,b,x,E,P,k;if(!d)ch(this,o,l,c);else if(_!==this._tTime||!o||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=o<0){if(g=_,P=this.timeline,this._repeat){if(C=d+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(C*100+o,l,c);if(g=at(_%C),_===f?(v=this._repeat,g=d):(v=~~(_/C),v&&v===_/C&&(g=d,v--),g>d&&(g=d)),x=this._yoyo&&v&1,x&&(k=this._yEase,g=d-g),b=Ze(this._tTime,C),g===h&&!c&&this._initted)return this._tTime=_,this;v!==b&&(P&&this._yEase&&qo(P,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=c=1,this.render(at(C*v),!0).invalidate()._lock=0))}if(!this._initted){if(Do(this,o<0?o:g,c,l))return this._tTime=0,this;if(h!==this._time)return this;if(d!==this._dur)return this.render(o,l,c)}if(this._tTime=_,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(g/d),this._from&&(this.ratio=E=1-E),g&&!h&&!l&&(Tt(this,"onStart"),this._tTime!==_))return this;for(w=this._pt;w;)w.r(E,w.d),w=w._next;P&&P.render(o<0?o:!g&&x?-q:P._dur*P._ease(g/this._dur),l,c)||this._startAt&&(this._zTime=o),this._onUpdate&&!l&&(o<0&&this._startAt&&this._startAt.render(o,!0,c),Tt(this,"onUpdate")),this._repeat&&v!==b&&this.vars.onRepeat&&!l&&this.parent&&Tt(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(o<0&&this._startAt&&!this._onUpdate&&this._startAt.render(o,!0,!0),(o||!d)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&Ht(this,1),!l&&!(o<0&&!h)&&(_||h)&&(Tt(this,_===f?"onComplete":"onReverseComplete",!0),this._prom&&!(_<f&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),u.prototype.invalidate.call(this)},n.resetTo=function(o,l,c,h){Mn||gt.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Lr(this,f),d=this._ease(f/this._dur),Mh(this,o,l,c,h,d,f)?this.resetTo(o,l,c,h):(Mr(this,0),this.parent||Mo(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(o,l){if(l===void 0&&(l="all"),!o&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?Pn(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(o,l,ie&&ie.vars.overwrite!==!0)._first||Pn(this),this.parent&&c!==this.timeline.totalDuration()&&Je(this,this._dur*this.timeline._tDur/c,0,1),this}var h=this._targets,f=o?Vt(o):h,d=this._ptLookup,_=this._pt,g,w,v,C,b,x,E;if((!l||l==="all")&&oh(h,f))return l==="all"&&(this._pt=0),Pn(this);for(g=this._op=this._op||[],l!=="all"&&(rt(l)&&(b={},_t(l,function(P){return b[P]=1}),l=b),l=Oh(h,l)),E=h.length;E--;)if(~f.indexOf(h[E])){w=d[E],l==="all"?(g[E]=l,C=w,v={}):(v=g[E]=g[E]||{},C=l);for(b in C)x=w&&w[b],x&&((!("kill"in x.d)||x.d.kill(b)===!0)&&_i(this,x,"_pt"),delete w[b]),v!=="all"&&(v[b]=1)}return this._initted&&!this._pt&&_&&Pn(this),this},e.to=function(o,l){return new e(o,l,arguments[2])},e.from=function(o,l){return Sn(1,arguments)},e.delayedCall=function(o,l,c,h){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:l,onReverseComplete:l,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:h})},e.fromTo=function(o,l,c){return Sn(2,arguments)},e.set=function(o,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(o,l)},e.killTweensOf=function(o,l,c){return Z.killTweensOf(o,l,c)},e}(On);At(nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_t("staggerTo,staggerFrom,staggerFromTo",function(u){nt[u]=function(){var e=new dt,n=fr.call(arguments,0);return n.splice(u==="staggerFromTo"?5:4,0,0),e[u].apply(e,n)}});var Dr=function(e,n,s){return e[n]=s},Zo=function(e,n,s){return e[n](s)},Dh=function(e,n,s,o){return e[n](o.fp,s)},Rh=function(e,n,s){return e.setAttribute(n,s)},Rr=function(e,n){return it(e[n])?Zo:Er(e[n])&&e.setAttribute?Rh:Dr},Jo=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Ih=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},ta=function(e,n){var s=n._pt,o="";if(!e&&n.b)o=n.b;else if(e===1&&n.e)o=n.e;else{for(;s;)o=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+o,s=s._next;o+=n.c}n.set(n.t,n.p,o,n)},Ir=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},Nh=function(e,n,s,o){for(var l=this._pt,c;l;)c=l._next,l.p===o&&l.modifier(e,n,s),l=c},Bh=function(e){for(var n=this._pt,s,o;n;)o=n._next,n.p===e&&!n.op||n.op===e?_i(this,n,"_pt"):n.dep||(s=1),n=o;return!s},Fh=function(e,n,s,o){o.mSet(e,n,o.m.call(o.tween,s,o.mt),o)},ea=function(e){for(var n=e._pt,s,o,l,c;n;){for(s=n._next,o=l;o&&o.pr>n.pr;)o=o._next;(n._prev=o?o._prev:c)?n._prev._next=n:l=n,(n._next=o)?o._prev=n:c=n,n=s}e._pt=l},vt=function(){function u(n,s,o,l,c,h,f,d,_){this.t=s,this.s=l,this.c=c,this.p=o,this.r=h||Jo,this.d=f||this,this.set=d||Dr,this.pr=_||0,this._next=n,n&&(n._prev=this)}var e=u.prototype;return e.modifier=function(s,o,l){this.mSet=this.mSet||this.set,this.set=Fh,this.m=s,this.mt=l,this.tween=o},u}();_t(Tr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(u){return Vr[u]=1});yt.TweenMax=yt.TweenLite=nt;yt.TimelineLite=yt.TimelineMax=dt;Z=new dt({sortChildren:!1,defaults:Qe,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});wt.stringFilter=$o;var ci={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(o){return xh(o)})},timeline:function(e){return new dt(e)},getTweensOf:function(e,n){return Z.getTweensOf(e,n)},getProperty:function(e,n,s,o){rt(e)&&(e=Vt(e)[0]);var l=Ve(e||{}).get,c=s?Ao:To;return s==="native"&&(s=""),e&&(n?c((bt[n]&&bt[n].get||l)(e,n,s,o)):function(h,f,d){return c((bt[h]&&bt[h].get||l)(e,h,f,d))})},quickSetter:function(e,n,s){if(e=Vt(e),e.length>1){var o=e.map(function(_){return Ot.quickSetter(_,n,s)}),l=o.length;return function(_){for(var g=l;g--;)o[g](_)}}e=e[0]||{};var c=bt[n],h=Ve(e),f=h.harness&&(h.harness.aliases||{})[n]||n,d=c?function(_){var g=new c;qe._pt=0,g.init(e,s?_+s:_,qe,0,[e]),g.render(1,g),qe._pt&&Ir(1,qe)}:h.set(e,f);return c?d:function(_){return d(e,f,s?_+s:_,h,1)}},quickTo:function(e,n,s){var o,l=Ot.to(e,Me((o={},o[n]="+=0.1",o.paused=!0,o),s||{})),c=function(f,d,_){return l.resetTo(n,f,d,_)};return c.tween=l,c},isTweening:function(e){return Z.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ae(e.ease,Qe.ease)),Gs(Qe,e||{})},config:function(e){return Gs(wt,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,o=e.plugins,l=e.defaults,c=e.extendTimeline;(o||"").split(",").forEach(function(h){return h&&!bt[h]&&!yt[h]&&oi(n+" effect requires "+h+" plugin.")}),tr[n]=function(h,f,d){return s(Vt(h),At(f||{},l),d)},c&&(dt.prototype[n]=function(h,f,d){return this.add(tr[n](h,Gt(f)?f:(d=f)&&{},this),d)})},registerEase:function(e,n){U[e]=Ae(n)},parseEase:function(e,n){return arguments.length?Ae(e,n):U},getById:function(e){return Z.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new dt(e),o,l;for(s.smoothChildTiming=ft(e.smoothChildTiming),Z.remove(s),s._dp=0,s._time=s._tTime=Z._time,o=Z._first;o;)l=o._next,(n||!(!o._dur&&o instanceof nt&&o.vars.onComplete===o._targets[0]))&&Bt(s,o,o._start-o._delay),o=l;return Bt(Z,s,0),s},utils:{wrap:gh,wrapYoyo:wh,distribute:No,random:Fo,snap:Bo,normalize:bh,getUnit:lt,clamp:dh,splitColor:jo,toArray:Vt,selector:_h,mapRange:zo,pipe:vh,unitize:mh,interpolate:yh,shuffle:Io},install:Po,effects:tr,ticker:gt,updateRoot:dt.updateRoot,plugins:bt,globalTimeline:Z,core:{PropTween:vt,globals:Eo,Tween:nt,Timeline:dt,Animation:On,getCache:Ve,_removeLinkedListItem:_i,suppressOverwrites:function(e){return Pr=e}}};_t("to,from,fromTo,delayedCall,set,killTweensOf",function(u){return ci[u]=nt[u]});gt.add(dt.updateRoot);qe=ci.to({},{duration:0});var Uh=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},zh=function(e,n){var s=e._targets,o,l,c;for(o in n)for(l=s.length;l--;)c=e._ptLookup[l][o],c&&(c=c.d)&&(c._pt&&(c=Uh(c,o)),c&&c.modifier&&c.modifier(n[o],e,s[l],o))},rr=function(e,n){return{name:e,rawVars:1,init:function(o,l,c){c._onInit=function(h){var f,d;if(rt(l)&&(f={},_t(l,function(_){return f[_]=1}),l=f),n){f={};for(d in l)f[d]=n(l[d]);l=f}zh(h,l)}}}},Ot=ci.registerPlugin({name:"attr",init:function(e,n,s,o,l){var c,h;for(c in n)h=this.add(e,"setAttribute",(e.getAttribute(c)||0)+"",n[c],o,l,0,0,c),h&&(h.op=c),this._props.push(c)}},{name:"endArray",init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s])}},rr("roundProps",_r),rr("modifiers"),rr("snap",Bo))||ci;nt.version=dt.version=Ot.version="3.10.4";Co=1;bo()&&tn();U.Power0;U.Power1;U.Power2;U.Power3;U.Power4;U.Linear;U.Quad;U.Cubic;U.Quart;U.Quint;U.Strong;U.Elastic;U.Back;U.SteppedEase;U.Bounce;U.Sine;U.Expo;U.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Js,re,Ge,Nr,Se,to,jh=function(){return typeof window!="undefined"},ce={},Ee=180/Math.PI,Xe=Math.PI/180,$e=Math.atan2,eo=1e8,na=/([A-Z])/g,Kh=/(left|right|width|margin|padding|x)/i,$h=/[\s,\(]\S/,se={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ia=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Hh=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},qh=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Yh=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},ra=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},sa=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Gh=function(e,n,s){return e.style[n]=s},Xh=function(e,n,s){return e.style.setProperty(n,s)},Wh=function(e,n,s){return e._gsap[n]=s},Qh=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},Zh=function(e,n,s,o,l){var c=e._gsap;c.scaleX=c.scaleY=s,c.renderTransform(l,c)},Jh=function(e,n,s,o,l){var c=e._gsap;c[n]=s,c.renderTransform(l,c)},st="transform",he=st+"Origin",oa,mr=function(e,n){var s=re.createElementNS?re.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):re.createElement(e);return s.style?s:re.createElement(e)},qt=function u(e,n,s){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(na,"-$1").toLowerCase())||o.getPropertyValue(n)||!s&&u(e,en(n)||n,1)||""},no="O,Moz,ms,Ms,Webkit".split(","),en=function(e,n,s){var o=n||Se,l=o.style,c=5;if(e in l&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(no[c]+e in l););return c<0?null:(c===3?"ms":c>=0?no[c]:"")+e},br=function(){jh()&&window.document&&(Js=window,re=Js.document,Ge=re.documentElement,Se=mr("div")||{style:{}},mr("div"),st=en(st),he=st+"Origin",Se.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",oa=!!en("perspective"),Nr=1)},sr=function u(e){var n=mr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,o=this.nextSibling,l=this.style.cssText,c;if(Ge.appendChild(n),n.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=u}catch{}else this._gsapBBox&&(c=this._gsapBBox());return s&&(o?s.insertBefore(this,o):s.appendChild(this)),Ge.removeChild(n),this.style.cssText=l,c},io=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},aa=function(e){var n;try{n=e.getBBox()}catch{n=sr.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===sr||(n=sr.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+io(e,["x","cx","x1"])||0,y:+io(e,["y","cy","y1"])||0,width:0,height:0}:n},la=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&aa(e))},Ln=function(e,n){if(n){var s=e.style;n in ce&&n!==he&&(n=st),s.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(n.replace(na,"-$1").toLowerCase())):s.removeAttribute(n)}},oe=function(e,n,s,o,l,c){var h=new vt(e._pt,n,s,0,1,c?sa:ra);return e._pt=h,h.b=o,h.e=l,e._props.push(s),h},ro={deg:1,rad:1,turn:1},pe=function u(e,n,s,o){var l=parseFloat(s)||0,c=(s+"").trim().substr((l+"").length)||"px",h=Se.style,f=Kh.test(n),d=e.tagName.toLowerCase()==="svg",_=(d?"client":"offset")+(f?"Width":"Height"),g=100,w=o==="px",v=o==="%",C,b,x,E;return o===c||!l||ro[o]||ro[c]?l:(c!=="px"&&!w&&(l=u(e,n,s,"px")),E=e.getCTM&&la(e),(v||c==="%")&&(ce[n]||~n.indexOf("adius"))?(C=E?e.getBBox()[f?"width":"height"]:e[_],et(v?l/C*g:l/100*C)):(h[f?"width":"height"]=g+(w?c:o),b=~n.indexOf("adius")||o==="em"&&e.appendChild&&!d?e:e.parentNode,E&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===re||!b.appendChild)&&(b=re.body),x=b._gsap,x&&v&&x.width&&f&&x.time===gt.time?et(l/x.width*g):((v||c==="%")&&(h.position=qt(e,"position")),b===e&&(h.position="static"),b.appendChild(Se),C=Se[_],b.removeChild(Se),h.position="absolute",f&&v&&(x=Ve(b),x.time=gt.time,x.width=b[_]),et(w?C*l/g:C&&l?g/C*l:0))))},ke=function(e,n,s,o){var l;return Nr||br(),n in se&&n!=="transform"&&(n=se[n],~n.indexOf(",")&&(n=n.split(",")[0])),ce[n]&&n!=="transform"?(l=Rn(e,o),l=n!=="transformOrigin"?l[n]:l.svg?l.origin:pi(qt(e,he))+" "+l.zOrigin+"px"):(l=e.style[n],(!l||l==="auto"||o||~(l+"").indexOf("calc("))&&(l=hi[n]&&hi[n](e,n,s)||qt(e,n)||So(e,n)||(n==="opacity"?1:0))),s&&!~(l+"").trim().indexOf(" ")?pe(e,n,l,s)+s:l},tp=function(e,n,s,o){if(!s||s==="none"){var l=en(n,e,1),c=l&&qt(e,l,1);c&&c!==s?(n=l,s=c):n==="borderColor"&&(s=qt(e,"borderTopColor"))}var h=new vt(this._pt,e.style,n,0,1,ta),f=0,d=0,_,g,w,v,C,b,x,E,P,k,A,S;if(h.b=s,h.e=o,s+="",o+="",o==="auto"&&(e.style[n]=o,o=qt(e,n)||o,e.style[n]=s),_=[s,o],$o(_),s=_[0],o=_[1],w=s.match(He)||[],S=o.match(He)||[],S.length){for(;g=He.exec(o);)x=g[0],P=o.substring(f,g.index),C?C=(C+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(C=1),x!==(b=w[d++]||"")&&(v=parseFloat(b)||0,A=b.substr((v+"").length),x.charAt(1)==="="&&(x=Ye(v,x)+A),E=parseFloat(x),k=x.substr((E+"").length),f=He.lastIndex-k.length,k||(k=k||wt.units[n]||A,f===o.length&&(o+=k,h.e+=k)),A!==k&&(v=pe(e,n,b,k)||0),h._pt={_next:h._pt,p:P||d===1?P:",",s:v,c:E-v,m:C&&C<4||n==="zIndex"?Math.round:0});h.c=f<o.length?o.substring(f,o.length):""}else h.r=n==="display"&&o==="none"?sa:ra;return yo.test(o)&&(h.e=0),this._pt=h,h},so={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ep=function(e){var n=e.split(" "),s=n[0],o=n[1]||"50%";return(s==="top"||s==="bottom"||o==="left"||o==="right")&&(e=s,s=o,o=e),n[0]=so[s]||s,n[1]=so[o]||o,n.join(" ")},np=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,o=s.style,l=n.u,c=s._gsap,h,f,d;if(l==="all"||l===!0)o.cssText="",f=1;else for(l=l.split(","),d=l.length;--d>-1;)h=l[d],ce[h]&&(f=1,h=h==="transformOrigin"?he:st),Ln(s,h);f&&(Ln(s,st),c&&(c.svg&&s.removeAttribute("transform"),Rn(s,1),c.uncache=1))}},hi={clearProps:function(e,n,s,o,l){if(l.data!=="isFromStart"){var c=e._pt=new vt(e._pt,n,s,0,0,np);return c.u=o,c.pr=-10,c.tween=l,e._props.push(s),1}}},Dn=[1,0,0,1,0,0],ua={},ca=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},oo=function(e){var n=qt(e,st);return ca(n)?Dn:n.substr(7).match(wo).map(et)},Br=function(e,n){var s=e._gsap||Ve(e),o=e.style,l=oo(e),c,h,f,d;return s.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,l=[f.a,f.b,f.c,f.d,f.e,f.f],l.join(",")==="1,0,0,1,0,0"?Dn:l):(l===Dn&&!e.offsetParent&&e!==Ge&&!s.svg&&(f=o.display,o.display="block",c=e.parentNode,(!c||!e.offsetParent)&&(d=1,h=e.nextSibling,Ge.appendChild(e)),l=oo(e),f?o.display=f:Ln(e,"display"),d&&(h?c.insertBefore(e,h):c?c.appendChild(e):Ge.removeChild(e))),n&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},gr=function(e,n,s,o,l,c){var h=e._gsap,f=l||Br(e,!0),d=h.xOrigin||0,_=h.yOrigin||0,g=h.xOffset||0,w=h.yOffset||0,v=f[0],C=f[1],b=f[2],x=f[3],E=f[4],P=f[5],k=n.split(" "),A=parseFloat(k[0])||0,S=parseFloat(k[1])||0,V,L,O,M;s?f!==Dn&&(L=v*x-C*b)&&(O=A*(x/L)+S*(-b/L)+(b*P-x*E)/L,M=A*(-C/L)+S*(v/L)-(v*P-C*E)/L,A=O,S=M):(V=aa(e),A=V.x+(~k[0].indexOf("%")?A/100*V.width:A),S=V.y+(~(k[1]||k[0]).indexOf("%")?S/100*V.height:S)),o||o!==!1&&h.smooth?(E=A-d,P=S-_,h.xOffset=g+(E*v+P*b)-E,h.yOffset=w+(E*C+P*x)-P):h.xOffset=h.yOffset=0,h.xOrigin=A,h.yOrigin=S,h.smooth=!!o,h.origin=n,h.originIsAbsolute=!!s,e.style[he]="0px 0px",c&&(oe(c,h,"xOrigin",d,A),oe(c,h,"yOrigin",_,S),oe(c,h,"xOffset",g,h.xOffset),oe(c,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",A+" "+S)},Rn=function(e,n){var s=e._gsap||new Go(e);if("x"in s&&!n&&!s.uncache)return s;var o=e.style,l=s.scaleX<0,c="px",h="deg",f=qt(e,he)||"0",d,_,g,w,v,C,b,x,E,P,k,A,S,V,L,O,M,N,Y,J,tt,X,F,D,ot,Ft,Ut,ct,Lt,K,$,zt;return d=_=g=C=b=x=E=P=k=0,w=v=1,s.svg=!!(e.getCTM&&la(e)),V=Br(e,s.svg),s.svg&&(D=(!s.uncache||f==="0px 0px")&&!n&&e.getAttribute("data-svg-origin"),gr(e,D||f,!!D||s.originIsAbsolute,s.smooth!==!1,V)),A=s.xOrigin||0,S=s.yOrigin||0,V!==Dn&&(N=V[0],Y=V[1],J=V[2],tt=V[3],d=X=V[4],_=F=V[5],V.length===6?(w=Math.sqrt(N*N+Y*Y),v=Math.sqrt(tt*tt+J*J),C=N||Y?$e(Y,N)*Ee:0,E=J||tt?$e(J,tt)*Ee+C:0,E&&(v*=Math.abs(Math.cos(E*Xe))),s.svg&&(d-=A-(A*N+S*J),_-=S-(A*Y+S*tt))):(zt=V[6],K=V[7],Ut=V[8],ct=V[9],Lt=V[10],$=V[11],d=V[12],_=V[13],g=V[14],L=$e(zt,Lt),b=L*Ee,L&&(O=Math.cos(-L),M=Math.sin(-L),D=X*O+Ut*M,ot=F*O+ct*M,Ft=zt*O+Lt*M,Ut=X*-M+Ut*O,ct=F*-M+ct*O,Lt=zt*-M+Lt*O,$=K*-M+$*O,X=D,F=ot,zt=Ft),L=$e(-J,Lt),x=L*Ee,L&&(O=Math.cos(-L),M=Math.sin(-L),D=N*O-Ut*M,ot=Y*O-ct*M,Ft=J*O-Lt*M,$=tt*M+$*O,N=D,Y=ot,J=Ft),L=$e(Y,N),C=L*Ee,L&&(O=Math.cos(L),M=Math.sin(L),D=N*O+Y*M,ot=X*O+F*M,Y=Y*O-N*M,F=F*O-X*M,N=D,X=ot),b&&Math.abs(b)+Math.abs(C)>359.9&&(b=C=0,x=180-x),w=et(Math.sqrt(N*N+Y*Y+J*J)),v=et(Math.sqrt(F*F+zt*zt)),L=$e(X,F),E=Math.abs(L)>2e-4?L*Ee:0,k=$?1/($<0?-$:$):0),s.svg&&(D=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!ca(qt(e,st)),D&&e.setAttribute("transform",D))),Math.abs(E)>90&&Math.abs(E)<270&&(l?(w*=-1,E+=C<=0?180:-180,C+=C<=0?180:-180):(v*=-1,E+=E<=0?180:-180)),n=n||s.uncache,s.x=d-((s.xPercent=d&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+c,s.y=_-((s.yPercent=_&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+c,s.z=g+c,s.scaleX=et(w),s.scaleY=et(v),s.rotation=et(C)+h,s.rotationX=et(b)+h,s.rotationY=et(x)+h,s.skewX=E+h,s.skewY=P+h,s.transformPerspective=k+c,(s.zOrigin=parseFloat(f.split(" ")[2])||0)&&(o[he]=pi(f)),s.xOffset=s.yOffset=0,s.force3D=wt.force3D,s.renderTransform=s.svg?rp:oa?ha:ip,s.uncache=0,s},pi=function(e){return(e=e.split(" "))[0]+" "+e[1]},or=function(e,n,s){var o=lt(n);return et(parseFloat(n)+parseFloat(pe(e,"x",s+"px",o)))+o},ip=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,ha(e,n)},Ce="0deg",Cn="0px",Pe=") ",ha=function(e,n){var s=n||this,o=s.xPercent,l=s.yPercent,c=s.x,h=s.y,f=s.z,d=s.rotation,_=s.rotationY,g=s.rotationX,w=s.skewX,v=s.skewY,C=s.scaleX,b=s.scaleY,x=s.transformPerspective,E=s.force3D,P=s.target,k=s.zOrigin,A="",S=E==="auto"&&e&&e!==1||E===!0;if(k&&(g!==Ce||_!==Ce)){var V=parseFloat(_)*Xe,L=Math.sin(V),O=Math.cos(V),M;V=parseFloat(g)*Xe,M=Math.cos(V),c=or(P,c,L*M*-k),h=or(P,h,-Math.sin(V)*-k),f=or(P,f,O*M*-k+k)}x!==Cn&&(A+="perspective("+x+Pe),(o||l)&&(A+="translate("+o+"%, "+l+"%) "),(S||c!==Cn||h!==Cn||f!==Cn)&&(A+=f!==Cn||S?"translate3d("+c+", "+h+", "+f+") ":"translate("+c+", "+h+Pe),d!==Ce&&(A+="rotate("+d+Pe),_!==Ce&&(A+="rotateY("+_+Pe),g!==Ce&&(A+="rotateX("+g+Pe),(w!==Ce||v!==Ce)&&(A+="skew("+w+", "+v+Pe),(C!==1||b!==1)&&(A+="scale("+C+", "+b+Pe),P.style[st]=A||"translate(0, 0)"},rp=function(e,n){var s=n||this,o=s.xPercent,l=s.yPercent,c=s.x,h=s.y,f=s.rotation,d=s.skewX,_=s.skewY,g=s.scaleX,w=s.scaleY,v=s.target,C=s.xOrigin,b=s.yOrigin,x=s.xOffset,E=s.yOffset,P=s.forceCSS,k=parseFloat(c),A=parseFloat(h),S,V,L,O,M;f=parseFloat(f),d=parseFloat(d),_=parseFloat(_),_&&(_=parseFloat(_),d+=_,f+=_),f||d?(f*=Xe,d*=Xe,S=Math.cos(f)*g,V=Math.sin(f)*g,L=Math.sin(f-d)*-w,O=Math.cos(f-d)*w,d&&(_*=Xe,M=Math.tan(d-_),M=Math.sqrt(1+M*M),L*=M,O*=M,_&&(M=Math.tan(_),M=Math.sqrt(1+M*M),S*=M,V*=M)),S=et(S),V=et(V),L=et(L),O=et(O)):(S=g,O=w,V=L=0),(k&&!~(c+"").indexOf("px")||A&&!~(h+"").indexOf("px"))&&(k=pe(v,"x",c,"px"),A=pe(v,"y",h,"px")),(C||b||x||E)&&(k=et(k+C-(C*S+b*L)+x),A=et(A+b-(C*V+b*O)+E)),(o||l)&&(M=v.getBBox(),k=et(k+o/100*M.width),A=et(A+l/100*M.height)),M="matrix("+S+","+V+","+L+","+O+","+k+","+A+")",v.setAttribute("transform",M),P&&(v.style[st]=M)},sp=function(e,n,s,o,l){var c=360,h=rt(l),f=parseFloat(l)*(h&&~l.indexOf("rad")?Ee:1),d=f-o,_=o+d+"deg",g,w;return h&&(g=l.split("_")[1],g==="short"&&(d%=c,d!==d%(c/2)&&(d+=d<0?c:-c)),g==="cw"&&d<0?d=(d+c*eo)%c-~~(d/c)*c:g==="ccw"&&d>0&&(d=(d-c*eo)%c-~~(d/c)*c)),e._pt=w=new vt(e._pt,n,s,o,d,Hh),w.e=_,w.u="deg",e._props.push(s),w},ao=function(e,n){for(var s in n)e[s]=n[s];return e},op=function(e,n,s){var o=ao({},s._gsap),l="perspective,force3D,transformOrigin,svgOrigin",c=s.style,h,f,d,_,g,w,v,C;o.svg?(d=s.getAttribute("transform"),s.setAttribute("transform",""),c[st]=n,h=Rn(s,1),Ln(s,st),s.setAttribute("transform",d)):(d=getComputedStyle(s)[st],c[st]=n,h=Rn(s,1),c[st]=d);for(f in ce)d=o[f],_=h[f],d!==_&&l.indexOf(f)<0&&(v=lt(d),C=lt(_),g=v!==C?pe(s,f,d,C):parseFloat(d),w=parseFloat(_),e._pt=new vt(e._pt,h,f,g,w-g,ia),e._pt.u=C||0,e._props.push(f));ao(h,o)};_t("padding,margin,Width,Radius",function(u,e){var n="Top",s="Right",o="Bottom",l="Left",c=(e<3?[n,s,o,l]:[n+l,n+s,o+s,o+l]).map(function(h){return e<2?u+h:"border"+h+u});hi[e>1?"border"+u:u]=function(h,f,d,_,g){var w,v;if(arguments.length<4)return w=c.map(function(C){return ke(h,C,d)}),v=w.join(" "),v.split(w[0]).length===5?w[0]:v;w=(_+"").split(" "),v={},c.forEach(function(C,b){return v[C]=w[b]=w[b]||w[(b-1)/2|0]}),h.init(f,v,g)}});var pa={name:"css",register:br,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,o,l){var c=this._props,h=e.style,f=s.vars.startAt,d,_,g,w,v,C,b,x,E,P,k,A,S,V,L;Nr||br();for(b in n)if(b!=="autoRound"&&(_=n[b],!(bt[b]&&Xo(b,n,s,o,e,l)))){if(v=typeof _,C=hi[b],v==="function"&&(_=_.call(s,o,e,l),v=typeof _),v==="string"&&~_.indexOf("random(")&&(_=An(_)),C)C(this,e,b,_,s)&&(L=1);else if(b.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(b)+"").trim(),_+="",le.lastIndex=0,le.test(d)||(x=lt(d),E=lt(_)),E?x!==E&&(d=pe(e,b,d,E)+E):x&&(_+=x),this.add(h,"setProperty",d,_,o,l,0,0,b),c.push(b);else if(v!=="undefined"){if(f&&b in f?(d=typeof f[b]=="function"?f[b].call(s,o,e,l):f[b],rt(d)&&~d.indexOf("random(")&&(d=An(d)),lt(d+"")||(d+=wt.units[b]||lt(ke(e,b))||""),(d+"").charAt(1)==="="&&(d=ke(e,b))):d=ke(e,b),w=parseFloat(d),P=v==="string"&&_.charAt(1)==="="&&_.substr(0,2),P&&(_=_.substr(2)),g=parseFloat(_),b in se&&(b==="autoAlpha"&&(w===1&&ke(e,"visibility")==="hidden"&&g&&(w=0),oe(this,h,"visibility",w?"inherit":"hidden",g?"inherit":"hidden",!g)),b!=="scale"&&b!=="transform"&&(b=se[b],~b.indexOf(",")&&(b=b.split(",")[0]))),k=b in ce,k){if(A||(S=e._gsap,S.renderTransform&&!n.parseTransform||Rn(e,n.parseTransform),V=n.smoothOrigin!==!1&&S.smooth,A=this._pt=new vt(this._pt,h,st,0,1,S.renderTransform,S,0,-1),A.dep=1),b==="scale")this._pt=new vt(this._pt,S,"scaleY",S.scaleY,(P?Ye(S.scaleY,P+g):g)-S.scaleY||0),c.push("scaleY",b),b+="X";else if(b==="transformOrigin"){_=ep(_),S.svg?gr(e,_,0,V,0,this):(E=parseFloat(_.split(" ")[2])||0,E!==S.zOrigin&&oe(this,S,"zOrigin",S.zOrigin,E),oe(this,h,b,pi(d),pi(_)));continue}else if(b==="svgOrigin"){gr(e,_,1,V,0,this);continue}else if(b in ua){sp(this,S,b,w,P?Ye(w,P+_):_);continue}else if(b==="smoothOrigin"){oe(this,S,"smooth",S.smooth,_);continue}else if(b==="force3D"){S[b]=_;continue}else if(b==="transform"){op(this,_,e);continue}}else b in h||(b=en(b)||b);if(k||(g||g===0)&&(w||w===0)&&!$h.test(_)&&b in h)x=(d+"").substr((w+"").length),g||(g=0),E=lt(_)||(b in wt.units?wt.units[b]:x),x!==E&&(w=pe(e,b,d,E)),this._pt=new vt(this._pt,k?S:h,b,w,(P?Ye(w,P+g):g)-w,!k&&(E==="px"||b==="zIndex")&&n.autoRound!==!1?Yh:ia),this._pt.u=E||0,x!==E&&E!=="%"&&(this._pt.b=d,this._pt.r=qh);else if(b in h)tp.call(this,e,b,d,P?P+_:_);else if(b in e)this.add(e,b,d||e[b],P?P+_:_,o,l);else{Sr(b,_);continue}c.push(b)}}L&&ea(this)},get:ke,aliases:se,getSetter:function(e,n,s){var o=se[n];return o&&o.indexOf(",")<0&&(n=o),n in ce&&n!==he&&(e._gsap.x||ke(e,"x"))?s&&to===s?n==="scale"?Qh:Wh:(to=s||{})&&(n==="scale"?Zh:Jh):e.style&&!Er(e.style[n])?Gh:~n.indexOf("-")?Xh:Rr(e,n)},core:{_removeProperty:Ln,_getMatrix:Br}};Ot.utils.checkPrefix=en;(function(u,e,n,s){var o=_t(u+","+e+","+n,function(l){ce[l]=1});_t(e,function(l){wt.units[l]="deg",ua[l]=1}),se[o[13]]=u+","+e,_t(s,function(l){var c=l.split(":");se[c[1]]=o[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_t("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(u){wt.units[u]="px"});Ot.registerPlugin(pa);var ap=Ot.registerPlugin(pa)||Ot;ap.core.Tween;var da=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},fa={exports:{}};(function(u,e){(function(n,s){u.exports=s()})(da,function(){var n=function(){function s(v){return c.appendChild(v.dom),v}function o(v){for(var C=0;C<c.children.length;C++)c.children[C].style.display=C===v?"block":"none";l=v}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(v){v.preventDefault(),o(++l%c.children.length)},!1);var h=(performance||Date).now(),f=h,d=0,_=s(new n.Panel("FPS","#0ff","#002")),g=s(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=s(new n.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:c,addPanel:s,showPanel:o,begin:function(){h=(performance||Date).now()},end:function(){d++;var v=(performance||Date).now();if(g.update(v-h,200),v>f+1e3&&(_.update(1e3*d/(v-f),100),f=v,d=0,w)){var C=performance.memory;w.update(C.usedJSHeapSize/1048576,C.jsHeapSizeLimit/1048576)}return v},update:function(){h=this.end()},domElement:c,setMode:o}};return n.Panel=function(s,o,l){var c=1/0,h=0,f=Math.round,d=f(window.devicePixelRatio||1),_=80*d,g=48*d,w=3*d,v=2*d,C=3*d,b=15*d,x=74*d,E=30*d,P=document.createElement("canvas");P.width=_,P.height=g,P.style.cssText="width:80px;height:48px";var k=P.getContext("2d");return k.font="bold "+9*d+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=l,k.fillRect(0,0,_,g),k.fillStyle=o,k.fillText(s,w,v),k.fillRect(C,b,x,E),k.fillStyle=l,k.globalAlpha=.9,k.fillRect(C,b,x,E),{dom:P,update:function(A,S){c=Math.min(c,A),h=Math.max(h,A),k.fillStyle=l,k.globalAlpha=1,k.fillRect(0,0,_,b),k.fillStyle=o,k.fillText(f(A)+" "+s+" ("+f(c)+"-"+f(h)+")",w,v),k.drawImage(P,C+d,b,x-d,E,C,b,x-d,E),k.fillRect(C+x-d,b,d,E),k.fillStyle=l,k.globalAlpha=.9,k.fillRect(C+x-d,b,d,f((1-A/S)*E))}}},n})})(fa);var ed=fa.exports,lo={exports:{}};/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */(function(u,e){(function(n,s){s(e)})(da,function(n){class s{constructor(t){const[i,a]=t.split("-"),p=i.split(".");this.major=parseInt(p[0],10),this.minor=parseInt(p[1],10),this.patch=parseInt(p[2],10),this.prerelease=a!=null?a:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class o{constructor(t){this.controller_=t}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class l{constructor(t){this.target=t}}class c extends l{constructor(t,i,a,p){super(t),this.value=i,this.presetKey=a,this.last=p!=null?p:!0}}class h extends l{constructor(t,i,a){super(t),this.value=i,this.presetKey=a}}class f extends l{constructor(t,i){super(t),this.expanded=i}}function d(r){return r}function _(r){return r==null}function g(r,t){if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0}const w={alreadydisposed:()=>"View has been already disposed",invalidparams:r=>`Invalid parameters for '${r.name}'`,nomatchingcontroller:r=>`No matching controller for '${r.key}'`,nomatchingview:r=>`No matching view for '${JSON.stringify(r.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:r=>`Property '${r.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class v{constructor(t){var i;this.message=(i=w[t.type](t.context))!==null&&i!==void 0?i:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}static alreadyDisposed(){return new v({type:"alreadydisposed"})}static notBindable(){return new v({type:"notbindable"})}static propertyNotFound(t){return new v({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new v({type:"shouldneverhappen"})}}class C{constructor(t,i,a){this.obj_=t,this.key_=i,this.presetKey_=a!=null?a:i}static isBindable(t){return!(t===null||typeof t!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,i){const a=this.read();if(!C.isBindable(a))throw v.notBindable();if(!(t in a))throw v.propertyNotFound(t);a[t]=i}}class b extends o{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,i){const a=i.bind(this);return this.controller_.valueController.emitter.on(t,()=>{a(new l(this))}),this}}class x{constructor(){this.observers_={}}on(t,i){let a=this.observers_[t];return a||(a=this.observers_[t]=[]),a.push({handler:i}),this}off(t,i){const a=this.observers_[t];return a&&(this.observers_[t]=a.filter(p=>p.handler!==i)),this}emit(t,i){const a=this.observers_[t];!a||a.forEach(p=>{p.handler(i)})}}const E="tp";function P(r){return(i,a)=>[E,"-",r,"v",i?`_${i}`:"",a?`-${a}`:""].join("")}function k(r,t){return i=>t(r(i))}function A(r){return r.rawValue}function S(r,t){r.emitter.on("change",k(A,t)),t(r.rawValue)}function V(r,t,i){S(r.value(t),i)}function L(r,t,i){i?r.classList.add(t):r.classList.remove(t)}function O(r,t){return i=>{L(r,t,i)}}function M(r,t){S(r,i=>{t.textContent=i!=null?i:""})}const N=P("btn");class Y{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(N()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("button");a.classList.add(N("b")),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(N("t")),M(i.props.value("title"),p),this.buttonElement.appendChild(p)}}class J{constructor(t,i){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new Y(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class tt{constructor(t,i){var a;this.constraint_=i==null?void 0:i.constraint,this.equals_=(a=i==null?void 0:i.equals)!==null&&a!==void 0?a:(p,m)=>p===m,this.emitter=new x,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const a=i!=null?i:{forceEmit:!1,last:!0},p=this.constraint_?this.constraint_.constrain(t):t;!!this.equals_(this.rawValue_,p)&&!a.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=p,this.emitter.emit("change",{options:a,rawValue:p,sender:this}))}}class X{constructor(t){this.emitter=new x,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const a=i!=null?i:{forceEmit:!1,last:!0};this.value_===t&&!a.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:a,rawValue:this.value_,sender:this}))}}function F(r,t){const i=t==null?void 0:t.constraint,a=t==null?void 0:t.equals;return!i&&!a?new X(r):new tt(r,t)}class D{constructor(t){this.emitter=new x,this.valMap_=t;for(const i in this.valMap_)this.valMap_[i].emitter.on("change",()=>{this.emitter.emit("change",{key:i,sender:this})})}static createCore(t){return Object.keys(t).reduce((a,p)=>Object.assign(a,{[p]:F(t[p])}),{})}static fromObject(t){const i=this.createCore(t);return new D(i)}get(t){return this.valMap_[t].rawValue}set(t,i){this.valMap_[t].rawValue=i}value(t){return this.valMap_[t]}}function ot(r,t){const a=Object.keys(t).reduce((p,m)=>{if(p===void 0)return;const T=t[m](r[m]);return T.succeeded?Object.assign(Object.assign({},p),{[m]:T.value}):void 0},{});return a}function Ft(r,t){return r.reduce((i,a)=>{if(i===void 0)return;const p=t(a);if(!(!p.succeeded||p.value===void 0))return[...i,p.value]},[])}function Ut(r){return r===null?!1:typeof r=="object"}function ct(r){return t=>i=>{if(!t&&i===void 0)return{succeeded:!1,value:void 0};if(t&&i===void 0)return{succeeded:!0,value:void 0};const a=r(i);return a!==void 0?{succeeded:!0,value:a}:{succeeded:!1,value:void 0}}}function Lt(r){return{custom:t=>ct(t)(r),boolean:ct(t=>typeof t=="boolean"?t:void 0)(r),number:ct(t=>typeof t=="number"?t:void 0)(r),string:ct(t=>typeof t=="string"?t:void 0)(r),function:ct(t=>typeof t=="function"?t:void 0)(r),constant:t=>ct(i=>i===t?t:void 0)(r),raw:ct(t=>t)(r),object:t=>ct(i=>{if(!!Ut(i))return ot(i,t)})(r),array:t=>ct(i=>{if(!!Array.isArray(i))return Ft(i,t)})(r)}}const K={optional:Lt(!0),required:Lt(!1)};function $(r,t){const i=K.required.object(t)(r);return i.succeeded?i.value:void 0}function zt(r){return r&&r.parentElement&&r.parentElement.removeChild(r),null}function Ra(){return["veryfirst","first","last","verylast"]}const Hr=P(""),qr={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class rn{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const i=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Ra().forEach(a=>{i.classList.remove(Hr(void 0,qr[a]))}),this.blade.get("positions").forEach(a=>{i.classList.add(Hr(void 0,qr[a]))})}),this.viewProps.handleDispose(()=>{zt(i)})}get parent(){return this.parent_}}const Dt="http://www.w3.org/2000/svg";function Bn(r){r.offsetHeight}function Ia(r,t){const i=r.style.transition;r.style.transition="none",t(),r.style.transition=i}function mi(r){return r.ontouchstart!==void 0}function Na(){return new Function("return this")()}function Ba(){return Na().document}function Fa(r){const t=r.ownerDocument.defaultView;return t&&"document"in t?r.getContext("2d"):null}const Ua={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Fn(r,t){const i=r.createElementNS(Dt,"svg");return i.innerHTML=Ua[t],i}function Yr(r,t,i){r.insertBefore(t,r.children[i])}function Gr(r){r.parentElement&&r.parentElement.removeChild(r)}function Xr(r){for(;r.children.length>0;)r.removeChild(r.children[0])}function za(r){for(;r.childNodes.length>0;)r.removeChild(r.childNodes[0])}function Wr(r){return r.relatedTarget?r.relatedTarget:"explicitOriginalTarget"in r?r.explicitOriginalTarget:null}const sn=P("lbl");function ja(r,t){const i=r.createDocumentFragment();return t.split(`
`).map(p=>r.createTextNode(p)).forEach((p,m)=>{m>0&&i.appendChild(r.createElement("br")),i.appendChild(p)}),i}class Qr{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(sn()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(sn("l")),V(i.props,"label",m=>{_(m)?this.element.classList.add(sn(void 0,"nol")):(this.element.classList.remove(sn(void 0,"nol")),za(a),a.appendChild(ja(t,m)))}),this.element.appendChild(a),this.labelElement=a;const p=t.createElement("div");p.classList.add(sn("v")),this.element.appendChild(p),this.valueElement=p}}class Un extends rn{constructor(t,i){const a=i.valueController.viewProps;super(Object.assign(Object.assign({},i),{view:new Qr(t,{props:i.props,viewProps:a}),viewProps:a})),this.props=i.props,this.valueController=i.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Ka={id:"button",type:"blade",accept(r){const t=K,i=$(r,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return i?{params:i}:null},controller(r){return new Un(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:new J(r.document,{props:D.fromObject({title:r.params.title}),viewProps:r.viewProps})})},api(r){return!(r.controller instanceof Un)||!(r.controller.valueController instanceof J)?null:new b(r.controller)}};class De extends rn{constructor(t){super(t),this.value=t.value}}function on(){return new D({positions:F([],{equals:g})})}class an extends D{constructor(t){super(t)}static create(t){const i={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},a=D.createCore(i);return new an(a)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!_(t)?`${t}px`:"auto"}bindExpandedClass(t,i){const a=()=>{this.styleExpanded?t.classList.add(i):t.classList.remove(i)};V(this,"expanded",a),V(this,"temporaryExpanded",a)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function $a(r,t){let i=0;return Ia(t,()=>{r.set("expandedHeight",null),r.set("temporaryExpanded",!0),Bn(t),i=t.clientHeight,r.set("temporaryExpanded",null),Bn(t)}),i}function Zr(r,t){t.style.height=r.styleHeight}function bi(r,t){r.value("expanded").emitter.on("beforechange",()=>{r.set("completed",!1),_(r.get("expandedHeight"))&&r.set("expandedHeight",$a(r,t)),r.set("shouldFixHeight",!0),Bn(t)}),r.emitter.on("change",()=>{Zr(r,t)}),Zr(r,t),t.addEventListener("transitionend",i=>{i.propertyName==="height"&&r.cleanUpTransition()})}class gi extends o{constructor(t,i){super(t),this.rackApi_=i}}function Ha(r,t){return r.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function qa(r,t){return r.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function Ya(r,t){const i=t||{};return r.addBlade(Object.assign(Object.assign({},i),{view:"separator"}))}function Ga(r,t){return r.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class wi{constructor(t){this.emitter=new x,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const i of this.allItems())if(t(i))return i;return null}includes(t){return this.cache_.has(t)}add(t,i){if(this.includes(t))throw v.shouldNeverHappen();const a=i!==void 0?i:this.items_.length;this.items_.splice(a,0,t),this.cache_.add(t);const p=this.extract_(t);p&&(p.emitter.on("add",this.onSubListAdd_),p.emitter.on("remove",this.onSubListRemove_),p.allItems().forEach(m=>{this.cache_.add(m)})),this.emitter.emit("add",{index:a,item:t,root:this,target:this})}remove(t){const i=this.items_.indexOf(t);if(i<0)return;this.items_.splice(i,1),this.cache_.delete(t);const a=this.extract_(t);a&&(a.emitter.off("add",this.onSubListAdd_),a.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:i,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class yi extends o{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const i=t.sender.target.read();this.emitter_.emit("change",{event:new c(this,i,this.controller_.binding.target.presetKey,t.options.last)})}}class Rt extends Un{constructor(t,i){super(t,i),this.binding=i.binding}}class xi extends o{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new x,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const i=t.sender.target.read();this.emitter_.emit("update",{event:new h(this,i,this.controller_.binding.target.presetKey)})}}class Xt extends Un{constructor(t,i){super(t,i),this.binding=i.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function Xa(r){return r instanceof zn?r.apiSet_:r instanceof gi?r.rackApi_.apiSet_:null}function ln(r,t){const i=r.find(a=>a.controller_===t);if(!i)throw v.shouldNeverHappen();return i}function Jr(r,t,i){if(!C.isBindable(r))throw v.notBindable();return new C(r,t,i)}class zn extends o{constructor(t,i){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new x,this.apiSet_=new wi(Xa),this.pool_=i;const a=this.controller_.rack;a.emitter.on("add",this.onRackAdd_),a.emitter.on("remove",this.onRackRemove_),a.emitter.on("inputchange",this.onRackInputChange_),a.emitter.on("monitorupdate",this.onRackMonitorUpdate_),a.children.forEach(p=>{this.setUpApi_(p)})}get children(){return this.controller_.rack.children.map(t=>ln(this.apiSet_,t))}addInput(t,i,a){const p=a||{},m=this.controller_.view.element.ownerDocument,y=this.pool_.createInput(m,Jr(t,i,p.presetKey),p),T=new yi(y);return this.add(T,p.index)}addMonitor(t,i,a){const p=a||{},m=this.controller_.view.element.ownerDocument,y=this.pool_.createMonitor(m,Jr(t,i),p),T=new xi(y);return this.add(T,p.index)}addFolder(t){return qa(this,t)}addButton(t){return Ha(this,t)}addSeparator(t){return Ya(this,t)}addTab(t){return Ga(this,t)}add(t,i){this.controller_.rack.add(t.controller_,i);const a=this.apiSet_.find(p=>p.controller_===t.controller_);return a&&this.apiSet_.remove(a),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const i=this.controller_.view.element.ownerDocument,a=this.pool_.createBlade(i,t),p=this.pool_.createBladeApi(a);return this.add(p,t.index)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}setUpApi_(t){this.apiSet_.find(a=>a.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const i=ln(this.apiSet_,t.bladeController);this.apiSet_.remove(i)}}onRackInputChange_(t){const i=t.bladeController;if(i instanceof Rt){const a=ln(this.apiSet_,i),p=i.binding;this.emitter_.emit("change",{event:new c(a,p.target.read(),p.target.presetKey,t.options.last)})}else if(i instanceof De){const a=ln(this.apiSet_,i);this.emitter_.emit("change",{event:new c(a,i.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof Xt))throw v.shouldNeverHappen();const i=ln(this.apiSet_,t.bladeController),a=t.bladeController.binding;this.emitter_.emit("update",{event:new h(i,a.target.read(),a.target.presetKey)})}}class Ci extends gi{constructor(t,i){super(t,new zn(t.rackController,i)),this.emitter_=new x,this.controller_.foldable.value("expanded").emitter.on("change",a=>{this.emitter_.emit("fold",{event:new f(this,a.sender.rawValue)})}),this.rackApi_.on("change",a=>{this.emitter_.emit("change",{event:a})}),this.rackApi_.on("update",a=>{this.emitter_.emit("update",{event:a})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,i,a){return this.rackApi_.addInput(t,i,a)}addMonitor(t,i,a){return this.rackApi_.addMonitor(t,i,a)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){return this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}class Pi extends rn{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class Wa{constructor(t,i){const a=P(i.viewName);this.element=t.createElement("div"),this.element.classList.add(a()),i.viewProps.bindClassModifiers(this.element)}}function Qa(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a instanceof Rt&&a.binding===t)return a}return null}function Za(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a instanceof Xt&&a.binding===t)return a}return null}function Ja(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a instanceof De&&a.value===t)return a}return null}function Ei(r){return r instanceof un?r.rack:r instanceof Pi?r.rackController.rack:null}function tl(r){const t=Ei(r);return t?t.bcSet_:null}class el{constructor(t){var i;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new x,this.blade_=t!=null?t:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new wi(tl),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,i){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,i)}remove(t){t.parent_=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(i=>i instanceof t)}onSetAdd_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:i,sender:this}),!i)return;const a=t.item;if(a.viewProps.emitter.on("change",this.onChildViewPropsChange_),a.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),a.viewProps.handleDispose(this.onChildDispose_),a instanceof Rt)a.binding.emitter.on("change",this.onChildInputChange_);else if(a instanceof Xt)a.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(a instanceof De)a.value.emitter.on("change",this.onChildValueChange_);else{const p=Ei(a);if(p){const m=p.emitter;m.on("layout",this.onDescendantLayout_),m.on("inputchange",this.onDescendantInputChange_),m.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:i,sender:this}),!i)return;const a=t.item;if(a instanceof Rt)a.binding.emitter.off("change",this.onChildInputChange_);else if(a instanceof Xt)a.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(a instanceof De)a.value.emitter.off("change",this.onChildValueChange_);else{const p=Ei(a);if(p){const m=p.emitter;m.off("layout",this.onDescendantLayout_),m.off("inputchange",this.onDescendantInputChange_),m.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(p=>!p.viewProps.get("hidden")),i=t[0],a=t[t.length-1];this.bcSet_.items.forEach(p=>{const m=[];p===i&&(m.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&m.push("veryfirst")),p===a&&(m.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&m.push("verylast")),p.blade.set("positions",m)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(i=>i.viewProps.get("disposed")).forEach(i=>{this.bcSet_.remove(i)})}onChildInputChange_(t){const i=Qa(this.find(Rt),t.sender);if(!i)throw v.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:i,options:t.options,sender:this})}onChildMonitorUpdate_(t){const i=Za(this.find(Xt),t.sender);if(!i)throw v.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:i,sender:this})}onChildValueChange_(t){const i=Ja(this.find(De),t.sender);if(!i)throw v.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:i,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class un extends rn{constructor(t,i){super(Object.assign(Object.assign({},i),{view:new Wa(t,{viewName:"brk",viewProps:i.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const a=new el(i.root?void 0:i.blade);a.emitter.on("add",this.onRackAdd_),a.emitter.on("remove",this.onRackRemove_),this.rack=a,this.viewProps.handleDispose(()=>{for(let p=this.rack.children.length-1;p>=0;p--)this.rack.children[p].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.isRoot||Yr(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.isRoot||Gr(t.bladeController.view.element)}}const ts=P("cnt");class nl{constructor(t,i){this.className_=P(i.viewName||"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),ts()),i.viewProps.bindClassModifiers(this.element),this.foldable_=i.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),V(this.foldable_,"completed",O(this.element,this.className_(void 0,"cpl")));const a=t.createElement("button");a.classList.add(this.className_("b")),V(i.props,"title",T=>{_(T)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(this.className_("t")),M(i.props.value("title"),p),this.buttonElement.appendChild(p),this.titleElement=p;const m=t.createElement("div");m.classList.add(this.className_("m")),this.buttonElement.appendChild(m);const y=i.containerElement;y.classList.add(this.className_("c")),this.element.appendChild(y),this.containerElement=y}}class ki extends Pi{constructor(t,i){var a;const p=an.create((a=i.expanded)!==null&&a!==void 0?a:!0),m=new un(t,{blade:i.blade,root:i.root,viewProps:i.viewProps});super(Object.assign(Object.assign({},i),{rackController:m,view:new nl(t,{containerElement:m.view.element,foldable:p,props:i.props,viewName:i.root?"rot":void 0,viewProps:i.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=i.props,this.foldable=p,bi(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const il={id:"folder",type:"blade",accept(r){const t=K,i=$(r,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return i?{params:i}:null},controller(r){return new ki(r.document,{blade:r.blade,expanded:r.params.expanded,props:D.fromObject({title:r.params.title}),viewProps:r.viewProps})},api(r){return r.controller instanceof ki?new Ci(r.controller,r.pool):null}};class Re extends De{constructor(t,i){const a=i.valueController.viewProps;super(Object.assign(Object.assign({},i),{value:i.valueController.value,view:new Qr(t,{props:i.props,viewProps:a}),viewProps:a})),this.props=i.props,this.valueController=i.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class es extends o{}const ns=P("spr");class rl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(ns()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("hr");a.classList.add(ns("r")),this.element.appendChild(a)}}class is extends rn{constructor(t,i){super(Object.assign(Object.assign({},i),{view:new rl(t,{viewProps:i.viewProps})}))}}const sl={id:"separator",type:"blade",accept(r){const i=$(r,{view:K.required.constant("separator")});return i?{params:i}:null},controller(r){return new is(r.document,{blade:r.blade,viewProps:r.viewProps})},api(r){return r.controller instanceof is?new es(r.controller):null}},ol=P("");function rs(r,t){return O(r,ol(void 0,t))}class Wt extends D{constructor(t){super(t)}static create(t){var i,a;const p=t!=null?t:{},m={disabled:(i=p.disabled)!==null&&i!==void 0?i:!1,disposed:!1,hidden:(a=p.hidden)!==null&&a!==void 0?a:!1},y=D.createCore(m);return new Wt(y)}bindClassModifiers(t){V(this,"disabled",rs(t,"disabled")),V(this,"hidden",rs(t,"hidden"))}bindDisabled(t){V(this,"disabled",i=>{t.disabled=i})}bindTabIndex(t){V(this,"disabled",i=>{t.tabIndex=i?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",i=>{i&&t()})}}const cn=P("tbi");class al{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(cn()),i.viewProps.bindClassModifiers(this.element),V(i.props,"selected",m=>{m?this.element.classList.add(cn(void 0,"sel")):this.element.classList.remove(cn(void 0,"sel"))});const a=t.createElement("button");a.classList.add(cn("b")),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(cn("t")),M(i.props.value("title"),p),this.buttonElement.appendChild(p),this.titleElement=p}}class ll{constructor(t,i){this.emitter=new x,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new al(t,{props:i.props,viewProps:i.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ss{constructor(t,i){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new ll(t,{props:i.itemProps,viewProps:Wt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new un(t,{blade:on(),viewProps:Wt.create()}),this.props=i.props,V(this.props,"selected",a=>{this.itemController.props.set("selected",a),this.contentController.viewProps.set("hidden",!a)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class os{constructor(t,i){this.controller_=t,this.rackApi_=i}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addInput(t,i,a){return this.rackApi_.addInput(t,i,a)}addMonitor(t,i,a){return this.rackApi_.addMonitor(t,i,a)}addBlade(t){return this.rackApi_.addBlade(t)}}class as extends gi{constructor(t,i){super(t,new zn(t.rackController,i)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new x,this.pageApiMap_=new Map,this.rackApi_.on("change",a=>{this.emitter_.emit("change",{event:a})}),this.rackApi_.on("update",a=>{this.emitter_.emit("update",{event:a})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(a=>{this.setUpPageApi_(a)})}get pages(){return this.controller_.pageSet.items.map(t=>{const i=this.pageApiMap_.get(t);if(!i)throw v.shouldNeverHappen();return i})}addPage(t){const i=this.controller_.view.element.ownerDocument,a=new ss(i,{itemProps:D.fromObject({selected:!1,title:t.title}),props:D.fromObject({selected:!1})});this.controller_.add(a,t.index);const p=this.pageApiMap_.get(a);if(!p)throw v.shouldNeverHappen();return p}removePage(t){this.controller_.remove(t)}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}setUpPageApi_(t){const i=this.rackApi_.apiSet_.find(p=>p.controller_===t.contentController);if(!i)throw v.shouldNeverHappen();const a=new os(t,i);this.pageApiMap_.set(t,a)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw v.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}const jn=P("tab");class ul{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(jn(),ts()),i.viewProps.bindClassModifiers(this.element),S(i.empty,O(this.element,jn(void 0,"nop")));const a=t.createElement("div");a.classList.add(jn("i")),this.element.appendChild(a),this.itemsElement=a;const p=i.contentsElement;p.classList.add(jn("c")),this.element.appendChild(p),this.contentsElement=p}}class ls extends Pi{constructor(t,i){const a=new un(t,{blade:i.blade,viewProps:i.viewProps}),p=F(!0);super({blade:i.blade,rackController:a,view:new ul(t,{contentsElement:a.view.element,empty:p,viewProps:i.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new wi(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=p,this.applyPages_()}get pageSet(){return this.pageSet_}add(t,i){this.pageSet_.add(t,i!=null?i:this.pageSet_.items.length)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(t){const i=t.item;Yr(this.view.itemsElement,i.itemController.view.element,t.index),this.rackController.rack.add(i.contentController,t.index),i.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(t){const i=t.item;Gr(i.itemController.view.element),this.rackController.rack.remove(i.contentController),i.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const t=this.pageSet_.items.findIndex(i=>i.props.get("selected"));t<0?this.pageSet_.items.forEach((i,a)=>{i.props.set("selected",a===0)}):this.pageSet_.items.forEach((i,a)=>{i.props.set("selected",a===t)})}onPageSelectedChange_(t){if(t.rawValue){const i=this.pageSet_.items.findIndex(a=>a.props.value("selected")===t.sender);this.pageSet_.items.forEach((a,p)=>{a.props.set("selected",p===i)})}else this.keepSelection_()}}const us={id:"tab",type:"blade",accept(r){const t=K,i=$(r,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!i||i.pages.length===0?null:{params:i}},controller(r){const t=new ls(r.document,{blade:r.blade,viewProps:r.viewProps});return r.params.pages.forEach(i=>{const a=new ss(r.document,{itemProps:D.fromObject({selected:!1,title:i.title}),props:D.fromObject({selected:!1})});t.add(a)}),t},api(r){return r.controller instanceof ls?new as(r.controller,r.pool):null}};function cl(r,t){const i=r.accept(t.params);if(!i)return null;const a=K.optional.boolean(t.params.disabled).value,p=K.optional.boolean(t.params.hidden).value;return r.controller({blade:on(),document:t.document,params:Object.assign(Object.assign({},i.params),{disabled:a,hidden:p}),viewProps:Wt.create({disabled:a,hidden:p})})}class hl{constructor(){this.disabled=!1,this.emitter=new x}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class pl{constructor(t,i){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new x,this.interval_=i,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class me{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((i,a)=>a.constrain(i),t)}}function It(r,t){if(r instanceof t)return r;if(r instanceof me){const i=r.constraints.reduce((a,p)=>a||(p instanceof t?p:null),null);if(i)return i}return null}class hn{constructor(t){this.options=t}constrain(t){const i=this.options;return i.length===0||i.filter(p=>p.value===t).length>0?t:i[0].value}}class mt{constructor(t){this.maxValue=t.max,this.minValue=t.min}constrain(t){let i=t;return _(this.minValue)||(i=Math.max(i,this.minValue)),_(this.maxValue)||(i=Math.min(i,this.maxValue)),i}}class be{constructor(t){this.step=t}constrain(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}const Si=P("lst");class dl{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.props_=i.props,this.element=t.createElement("div"),this.element.classList.add(Si()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("select");a.classList.add(Si("s")),V(this.props_,"options",m=>{Xr(a),m.forEach((y,T)=>{const R=t.createElement("option");R.dataset.index=String(T),R.textContent=y.text,R.value=String(y.value),a.appendChild(R)})}),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.selectElement=a;const p=t.createElement("div");p.classList.add(Si("m")),p.appendChild(Fn(t,"dropdown")),this.element.appendChild(p),i.value.emitter.on("change",this.onValueChange_),this.value_=i.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class pn{constructor(t,i){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new dl(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const a=t.currentTarget.selectedOptions.item(0);if(!a)return;const p=Number(a.dataset.index);this.value.rawValue=this.props.get("options")[p].value}}const cs=P("pop");class fl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(cs()),i.viewProps.bindClassModifiers(this.element),S(i.shows,O(this.element,cs(void 0,"v")))}}class hs{constructor(t,i){this.shows=F(!1),this.viewProps=i.viewProps,this.view=new fl(t,{shows:this.shows,viewProps:this.viewProps})}}const ps=P("txt");class _l{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(ps()),i.viewProps.bindClassModifiers(this.element),this.props_=i.props,this.props_.emitter.on("change",this.onChange_);const a=t.createElement("input");a.classList.add(ps("i")),a.type="text",i.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,i.value.emitter.on("change",this.onChange_),this.value_=i.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class Kn{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new _l(t,{props:i.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const a=t.currentTarget.value,p=this.parser_(a);_(p)||(this.value.rawValue=p),this.view.refresh()}}function vl(r){return String(r)}function ds(r){return r==="false"?!1:!!r}function fs(r){return vl(r)}class ml{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const bl={"**":(r,t)=>Math.pow(r,t),"*":(r,t)=>r*t,"/":(r,t)=>r/t,"%":(r,t)=>r%t,"+":(r,t)=>r+t,"-":(r,t)=>r-t,"<<":(r,t)=>r<<t,">>":(r,t)=>r>>t,">>>":(r,t)=>r>>>t,"&":(r,t)=>r&t,"^":(r,t)=>r^t,"|":(r,t)=>r|t};class gl{constructor(t,i,a){this.left=i,this.operator=t,this.right=a}evaluate(){const t=bl[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const wl={"+":r=>r,"-":r=>-r,"~":r=>~r};class yl{constructor(t,i){this.operator=t,this.expression=i}evaluate(){const t=wl[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Vi(r){return(t,i)=>{for(let a=0;a<r.length;a++){const p=r[a](t,i);if(p!=="")return p}return""}}function dn(r,t){var i;const a=r.substr(t).match(/^\s+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function xl(r,t){const i=r.substr(t,1);return i.match(/^[1-9]$/)?i:""}function fn(r,t){var i;const a=r.substr(t).match(/^[0-9]+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Cl(r,t){const i=fn(r,t);if(i!=="")return i;const a=r.substr(t,1);if(t+=1,a!=="-"&&a!=="+")return"";const p=fn(r,t);return p===""?"":a+p}function Ti(r,t){const i=r.substr(t,1);if(t+=1,i.toLowerCase()!=="e")return"";const a=Cl(r,t);return a===""?"":i+a}function _s(r,t){const i=r.substr(t,1);if(i==="0")return i;const a=xl(r,t);return t+=a.length,a===""?"":a+fn(r,t)}function Pl(r,t){const i=_s(r,t);if(t+=i.length,i==="")return"";const a=r.substr(t,1);if(t+=a.length,a!==".")return"";const p=fn(r,t);return t+=p.length,i+a+p+Ti(r,t)}function El(r,t){const i=r.substr(t,1);if(t+=i.length,i!==".")return"";const a=fn(r,t);return t+=a.length,a===""?"":i+a+Ti(r,t)}function kl(r,t){const i=_s(r,t);return t+=i.length,i===""?"":i+Ti(r,t)}const Sl=Vi([Pl,El,kl]);function Vl(r,t){var i;const a=r.substr(t).match(/^[01]+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Tl(r,t){const i=r.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0b")return"";const a=Vl(r,t);return a===""?"":i+a}function Al(r,t){var i;const a=r.substr(t).match(/^[0-7]+/);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Ml(r,t){const i=r.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0o")return"";const a=Al(r,t);return a===""?"":i+a}function Ol(r,t){var i;const a=r.substr(t).match(/^[0-9a-f]+/i);return(i=a&&a[0])!==null&&i!==void 0?i:""}function Ll(r,t){const i=r.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0x")return"";const a=Ol(r,t);return a===""?"":i+a}const Dl=Vi([Tl,Ml,Ll]),Rl=Vi([Dl,Sl]);function Il(r,t){const i=Rl(r,t);return t+=i.length,i===""?null:{evaluable:new ml(i),cursor:t}}function Nl(r,t){const i=r.substr(t,1);if(t+=i.length,i!=="(")return null;const a=ms(r,t);if(!a)return null;t=a.cursor,t+=dn(r,t).length;const p=r.substr(t,1);return t+=p.length,p!==")"?null:{evaluable:a.evaluable,cursor:t}}function Bl(r,t){return Il(r,t)||Nl(r,t)}function vs(r,t){const i=Bl(r,t);if(i)return i;const a=r.substr(t,1);if(t+=a.length,a!=="+"&&a!=="-"&&a!=="~")return null;const p=vs(r,t);return p?(t=p.cursor,{cursor:t,evaluable:new yl(a,p.evaluable)}):null}function Fl(r,t,i){i+=dn(t,i).length;const a=r.filter(p=>t.startsWith(p,i))[0];return a?(i+=a.length,i+=dn(t,i).length,{cursor:i,operator:a}):null}function Ul(r,t){return(i,a)=>{const p=r(i,a);if(!p)return null;a=p.cursor;let m=p.evaluable;for(;;){const y=Fl(t,i,a);if(!y)break;a=y.cursor;const T=r(i,a);if(!T)return null;a=T.cursor,m=new gl(y.operator,m,T.evaluable)}return m?{cursor:a,evaluable:m}:null}}const zl=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((r,t)=>Ul(r,t),vs);function ms(r,t){return t+=dn(r,t).length,zl(r,t)}function jl(r){const t=ms(r,0);return!t||t.cursor+dn(r,t.cursor).length!==r.length?null:t.evaluable}function jt(r){var t;const i=jl(r);return(t=i==null?void 0:i.evaluate())!==null&&t!==void 0?t:null}function bs(r){if(typeof r=="number")return r;if(typeof r=="string"){const t=jt(r);if(!_(t))return t}return 0}function Kl(r){return String(r)}function ht(r){return t=>t.toFixed(Math.max(Math.min(r,20),0))}const $l=ht(0);function $n(r){return $l(r)+"%"}function gs(r){return String(r)}function Ai(r){return r}function ws(r,t){for(;r.length<t;)r.push(void 0)}function Hl(r){const t=[];return ws(t,r),F(t)}function ql(r){const t=r.indexOf(void 0);return t<0?r:r.slice(0,t)}function Yl(r,t){const i=[...ql(r),t];return i.length>r.length?i.splice(0,i.length-r.length):ws(i,r.length),i}function _n({primary:r,secondary:t,forward:i,backward:a}){let p=!1;function m(y){p||(p=!0,y(),p=!1)}r.emitter.on("change",y=>{m(()=>{t.setRawValue(i(r,t),y.options)})}),t.emitter.on("change",y=>{m(()=>{r.setRawValue(a(r,t),y.options)}),m(()=>{t.setRawValue(i(r,t),y.options)})}),m(()=>{t.setRawValue(i(r,t),{forceEmit:!1,last:!0})})}function pt(r,t){const i=r*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+i:t.downKey?-i:0}function vn(r){return{altKey:r.altKey,downKey:r.key==="ArrowDown",shiftKey:r.shiftKey,upKey:r.key==="ArrowUp"}}function Kt(r){return{altKey:r.altKey,downKey:r.key==="ArrowLeft",shiftKey:r.shiftKey,upKey:r.key==="ArrowRight"}}function Gl(r){return r==="ArrowUp"||r==="ArrowDown"}function ys(r){return Gl(r)||r==="ArrowLeft"||r==="ArrowRight"}function Mi(r,t){const i=t.ownerDocument.defaultView,a=t.getBoundingClientRect();return{x:r.pageX-((i&&i.scrollX||0)+a.left),y:r.pageY-((i&&i.scrollY||0)+a.top)}}class ge{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new x,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const i=this.elem_.getBoundingClientRect();return{bounds:{width:i.width,height:i.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var i;t.preventDefault(),(i=t.currentTarget)===null||i===void 0||i.focus();const a=this.elem_.ownerDocument;a.addEventListener("mousemove",this.onDocumentMouseMove_),a.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Mi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Mi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const i=this.elem_.ownerDocument;i.removeEventListener("mousemove",this.onDocumentMouseMove_),i.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Mi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const i=t.targetTouches.item(0),a=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-a.left,y:i.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchMove_(t){const i=t.targetTouches.item(0),a=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-a.left,y:i.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchEnd_(t){var i;const a=(i=t.targetTouches.item(0))!==null&&i!==void 0?i:this.lastTouch_,p=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(a?{x:a.clientX-p.left,y:a.clientY-p.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function Q(r,t,i,a,p){const m=(r-t)/(i-t);return a+m*(p-a)}function xs(r){return String(r.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function W(r,t,i){return Math.min(Math.max(r,t),i)}function Oi(r,t){return(r%t+t)%t}const Pt=P("txt");class Xl{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Pt(),Pt(void 0,"num")),i.arrayPosition&&this.element.classList.add(Pt(void 0,i.arrayPosition)),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("input");a.classList.add(Pt("i")),a.type="text",i.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=i.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Pt()),this.inputElement.classList.add(Pt("i"));const p=t.createElement("div");p.classList.add(Pt("k")),this.element.appendChild(p),this.knobElement=p;const m=t.createElementNS(Dt,"svg");m.classList.add(Pt("g")),this.knobElement.appendChild(m);const y=t.createElementNS(Dt,"path");y.classList.add(Pt("gb")),m.appendChild(y),this.guideBodyElem_=y;const T=t.createElementNS(Dt,"path");T.classList.add(Pt("gh")),m.appendChild(T),this.guideHeadElem_=T;const R=t.createElement("div");R.classList.add(P("tt")()),this.knobElement.appendChild(R),this.tooltipElem_=R,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(Pt(void 0,"drg"));return}this.element.classList.add(Pt(void 0,"drg"));const i=t.rawValue/this.props_.get("draggingScale"),a=i+(i>0?-1:i<0?1:0),p=W(-a,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${a+p},0 L${a},4 L${a+p},8`,`M ${i},-1 L${i},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${i},4`);const m=this.props_.get("formatter");this.tooltipElem_.textContent=m(this.value.rawValue),this.tooltipElem_.style.left=`${i}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class mn{constructor(t,i){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=i.baseStep,this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.dragging_=F(null),this.view=new Xl(t,{arrayPosition:i.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const a=new ge(this.view.knobElement);a.emitter.on("down",this.onPointerDown_),a.emitter.on("move",this.onPointerMove_),a.emitter.on("up",this.onPointerUp_)}onInputChange_(t){const a=t.currentTarget.value,p=this.parser_(a);_(p)||(this.value.rawValue=p),this.view.refresh()}onInputKeyDown_(t){const i=pt(this.baseStep_,vn(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onInputKeyUp_(t){pt(this.baseStep_,vn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const i=t.point.x-t.bounds.width/2;return this.originRawValue_+i*this.props.get("draggingScale")}onPointerMove_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Li=P("sld");class Wl{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Li()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add(Li("t")),i.viewProps.bindTabIndex(a),this.element.appendChild(a),this.trackElement=a;const p=t.createElement("div");p.classList.add(Li("k")),this.trackElement.appendChild(p),this.knobElement=p,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.update_()}update_(){const t=W(Q(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class Ql{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=i.baseStep,this.value=i.value,this.viewProps=i.viewProps,this.props=i.props,this.view=new Wl(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ge(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){!t.point||this.value.setRawValue(Q(W(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),i)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=pt(this.baseStep_,Kt(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onKeyUp_(t){pt(this.baseStep_,Kt(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Di=P("sldtxt");class Zl{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Di());const a=t.createElement("div");a.classList.add(Di("s")),this.sliderView_=i.sliderView,a.appendChild(this.sliderView_.element),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(Di("t")),this.textView_=i.textView,p.appendChild(this.textView_.element),this.element.appendChild(p)}}class Ri{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.sliderC_=new Ql(t,{baseStep:i.baseStep,props:i.sliderProps,value:i.value,viewProps:this.viewProps}),this.textC_=new mn(t,{baseStep:i.baseStep,parser:i.parser,props:i.textProps,value:i.value,viewProps:i.viewProps}),this.view=new Zl(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function bn(r,t){r.write(t)}function Hn(r){const t=K;if(Array.isArray(r))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(r).value;if(typeof r=="object")return t.required.raw(r).value}function Cs(r){if(r==="inline"||r==="popup")return r}function Qt(r){const t=K;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(r).value}function Ps(r){if(Array.isArray(r))return r;const t=[];return Object.keys(r).forEach(i=>{t.push({text:i,value:r[i]})}),t}function Ii(r){return _(r)?null:new hn(Ps(r))}function Ni(r){const t=r?It(r,hn):null;return t?t.options:null}function Jl(r){const t=r?It(r,be):null;return t?t.step:null}function qn(r,t){const i=r&&It(r,be);return i?xs(i.step):Math.max(xs(t),2)}function Ie(r){const t=Jl(r);return t!=null?t:1}function Ne(r,t){var i;const a=r&&It(r,be),p=Math.abs((i=a==null?void 0:a.step)!==null&&i!==void 0?i:t);return p===0?.1:Math.pow(10,Math.floor(Math.log10(p))-1)}const Yn=P("ckb");class tu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Yn()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("label");a.classList.add(Yn("l")),this.element.appendChild(a);const p=t.createElement("input");p.classList.add(Yn("i")),p.type="checkbox",a.appendChild(p),this.inputElement=p,i.viewProps.bindDisabled(this.inputElement);const m=t.createElement("div");m.classList.add(Yn("w")),a.appendChild(m);const y=Fn(t,"check");m.appendChild(y),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class eu{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new tu(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const i=t.currentTarget;this.value.rawValue=i.checked}}function nu(r){const t=[],i=Ii(r.options);return i&&t.push(i),new me(t)}const iu={id:"input-bool",type:"input",accept:(r,t)=>{if(typeof r!="boolean")return null;const a=$(t,{options:K.optional.custom(Hn)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>ds,constraint:r=>nu(r.params),writer:r=>bn},controller:r=>{var t;const i=r.document,a=r.value,p=r.constraint;return p&&It(p,hn)?new pn(i,{props:D.fromObject({options:(t=Ni(p))!==null&&t!==void 0?t:[]}),value:a,viewProps:r.viewProps}):new eu(i,{value:a,viewProps:r.viewProps})}},we=P("col");class ru{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(we()),i.foldable.bindExpandedClass(this.element,we(void 0,"expanded")),V(i.foldable,"completed",O(this.element,we(void 0,"cpl")));const a=t.createElement("div");a.classList.add(we("h")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(we("s")),a.appendChild(p),this.swatchElement=p;const m=t.createElement("div");if(m.classList.add(we("t")),a.appendChild(m),this.textElement=m,i.pickerLayout==="inline"){const y=t.createElement("div");y.classList.add(we("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}function su(r,t,i){const a=W(r/255,0,1),p=W(t/255,0,1),m=W(i/255,0,1),y=Math.max(a,p,m),T=Math.min(a,p,m),R=y-T;let I=0,z=0;const j=(T+y)/2;return R!==0&&(z=R/(1-Math.abs(y+T-1)),a===y?I=(p-m)/R:p===y?I=2+(m-a)/R:I=4+(a-p)/R,I=I/6+(I<0?1:0)),[I*360,z*100,j*100]}function ou(r,t,i){const a=(r%360+360)%360,p=W(t/100,0,1),m=W(i/100,0,1),y=(1-Math.abs(2*m-1))*p,T=y*(1-Math.abs(a/60%2-1)),R=m-y/2;let I,z,j;return a>=0&&a<60?[I,z,j]=[y,T,0]:a>=60&&a<120?[I,z,j]=[T,y,0]:a>=120&&a<180?[I,z,j]=[0,y,T]:a>=180&&a<240?[I,z,j]=[0,T,y]:a>=240&&a<300?[I,z,j]=[T,0,y]:[I,z,j]=[y,0,T],[(I+R)*255,(z+R)*255,(j+R)*255]}function au(r,t,i){const a=W(r/255,0,1),p=W(t/255,0,1),m=W(i/255,0,1),y=Math.max(a,p,m),T=Math.min(a,p,m),R=y-T;let I;R===0?I=0:y===a?I=60*(((p-m)/R%6+6)%6):y===p?I=60*((m-a)/R+2):I=60*((a-p)/R+4);const z=y===0?0:R/y,j=y;return[I,z*100,j*100]}function Es(r,t,i){const a=Oi(r,360),p=W(t/100,0,1),m=W(i/100,0,1),y=m*p,T=y*(1-Math.abs(a/60%2-1)),R=m-y;let I,z,j;return a>=0&&a<60?[I,z,j]=[y,T,0]:a>=60&&a<120?[I,z,j]=[T,y,0]:a>=120&&a<180?[I,z,j]=[0,y,T]:a>=180&&a<240?[I,z,j]=[0,T,y]:a>=240&&a<300?[I,z,j]=[T,0,y]:[I,z,j]=[y,0,T],[(I+R)*255,(z+R)*255,(j+R)*255]}function lu(r,t,i){const a=i+t*(100-Math.abs(2*i-100))/200;return[r,a!==0?t*(100-Math.abs(2*i-100))/a:0,i+t*(100-Math.abs(2*i-100))/(2*100)]}function uu(r,t,i){const a=100-Math.abs(i*(200-t)/100-100);return[r,a!==0?t*i/a:0,i*(200-t)/(2*100)]}function Be(r){return[r[0],r[1],r[2]]}function ks(r,t){return[r[0],r[1],r[2],t]}const cu={hsl:{hsl:(r,t,i)=>[r,t,i],hsv:lu,rgb:ou},hsv:{hsl:uu,hsv:(r,t,i)=>[r,t,i],rgb:Es},rgb:{hsl:su,hsv:au,rgb:(r,t,i)=>[r,t,i]}};function hu(r,t,i){return cu[t][i](...r)}const pu={hsl:r=>{var t;return[Oi(r[0],360),W(r[1],0,100),W(r[2],0,100),W((t=r[3])!==null&&t!==void 0?t:1,0,1)]},hsv:r=>{var t;return[Oi(r[0],360),W(r[1],0,100),W(r[2],0,100),W((t=r[3])!==null&&t!==void 0?t:1,0,1)]},rgb:r=>{var t;return[W(r[0],0,255),W(r[1],0,255),W(r[2],0,255),W((t=r[3])!==null&&t!==void 0?t:1,0,1)]}};function Gn(r,t){return typeof r!="object"||_(r)?!1:t in r&&typeof r[t]=="number"}class B{constructor(t,i){this.mode_=i,this.comps_=pu[i](t)}static black(){return new B([0,0,0],"rgb")}static fromObject(t){const i="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new B(i,"rgb")}static toRgbaObject(t){return t.toRgbaObject()}static isRgbColorObject(t){return Gn(t,"r")&&Gn(t,"g")&&Gn(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&Gn(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,i){if(t.mode_!==i.mode_)return!1;const a=t.comps_,p=i.comps_;for(let m=0;m<a.length;m++)if(a[m]!==p[m])return!1;return!0}get mode(){return this.mode_}getComponents(t){return ks(hu(Be(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const Zt=P("colp");class du{constructor(t,i){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(Zt());const a=t.createElement("div");a.classList.add(Zt("hsv"));const p=t.createElement("div");p.classList.add(Zt("sv")),this.svPaletteView_=i.svPaletteView,p.appendChild(this.svPaletteView_.element),a.appendChild(p);const m=t.createElement("div");m.classList.add(Zt("h")),this.hPaletteView_=i.hPaletteView,m.appendChild(this.hPaletteView_.element),a.appendChild(m),this.element.appendChild(a);const y=t.createElement("div");if(y.classList.add(Zt("rgb")),this.textView_=i.textView,y.appendChild(this.textView_.element),this.element.appendChild(y),i.alphaViews){this.alphaViews_={palette:i.alphaViews.palette,text:i.alphaViews.text};const T=t.createElement("div");T.classList.add(Zt("a"));const R=t.createElement("div");R.classList.add(Zt("ap")),R.appendChild(this.alphaViews_.palette.element),T.appendChild(R);const I=t.createElement("div");I.classList.add(Zt("at")),I.appendChild(this.alphaViews_.text.element),T.appendChild(I),this.element.appendChild(T)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(i=>i.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function Bi(r){const t=K;return $(r,{alpha:t.optional.boolean,expanded:t.optional.boolean,picker:t.optional.custom(Cs)})}function ye(r){return r?.1:1}function Et(r,t){const i=r.match(/^(.+)%$/);return Math.min(i?parseFloat(i[1])*.01*t:parseFloat(r),t)}const fu={deg:r=>r,grad:r=>r*360/400,rad:r=>r*360/(2*Math.PI),turn:r=>r*360};function Ss(r){const t=r.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(r);const i=parseFloat(t[1]),a=t[2];return fu[a](i)}const Fi={"func.rgb":r=>{const t=r.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Et(t[1],255),Et(t[2],255),Et(t[3],255)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:new B(i,"rgb")},"func.rgba":r=>{const t=r.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Et(t[1],255),Et(t[2],255),Et(t[3],255),Et(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:new B(i,"rgb")},"func.hsl":r=>{const t=r.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Ss(t[1]),Et(t[2],100),Et(t[3],100)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:new B(i,"hsl")},"func.hsla":r=>{const t=r.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Ss(t[1]),Et(t[2],100),Et(t[3],100),Et(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:new B(i,"hsl")},"hex.rgb":r=>{const t=r.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new B([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)],"rgb");const i=r.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?new B([parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)],"rgb"):null},"hex.rgba":r=>{const t=r.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new B([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Q(parseInt(t[4]+t[4],16),0,255,0,1)],"rgb");const i=r.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?new B([parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),Q(parseInt(i[4],16),0,255,0,1)],"rgb"):null}};function Xn(r){return Object.keys(Fi).reduce((i,a)=>i||(Fi[a](r)?a:null),null)}const Wn=r=>{const t=Xn(r);return t?Fi[t](r):null};function _u(r){return r==="func.hsla"||r==="func.rgba"||r==="hex.rgba"}function vu(r){if(typeof r=="string"){const t=Wn(r);if(t)return t}return B.black()}function Vs(r){const t=W(Math.floor(r),0,255).toString(16);return t.length===1?`0${t}`:t}function Ui(r,t="#"){const i=Be(r.getComponents("rgb")).map(Vs).join("");return`${t}${i}`}function Qn(r,t="#"){const i=r.getComponents("rgb"),a=[i[0],i[1],i[2],i[3]*255].map(Vs).join("");return`${t}${a}`}function Ts(r){const t=ht(0);return`rgb(${Be(r.getComponents("rgb")).map(a=>t(a)).join(", ")})`}function Zn(r){const t=ht(2),i=ht(0);return`rgba(${r.getComponents("rgb").map((p,m)=>(m===3?t:i)(p)).join(", ")})`}function mu(r){const t=[ht(0),$n,$n];return`hsl(${Be(r.getComponents("hsl")).map((a,p)=>t[p](a)).join(", ")})`}function bu(r){const t=[ht(0),$n,$n,ht(2)];return`hsla(${r.getComponents("hsl").map((a,p)=>t[p](a)).join(", ")})`}const gu={"func.hsl":mu,"func.hsla":bu,"func.rgb":Ts,"func.rgba":Zn,"hex.rgb":Ui,"hex.rgba":Qn};function As(r){return gu[r]}const gn=P("apl");class wu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(gn()),i.viewProps.bindTabIndex(this.element);const a=t.createElement("div");a.classList.add(gn("b")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(gn("c")),a.appendChild(p),this.colorElem_=p;const m=t.createElement("div");m.classList.add(gn("m")),this.element.appendChild(m),this.markerElem_=m;const y=t.createElement("div");y.classList.add(gn("p")),this.markerElem_.appendChild(y),this.previewElem_=y,this.update_()}update_(){const t=this.value.rawValue,i=t.getComponents("rgb"),a=new B([i[0],i[1],i[2],0],"rgb"),p=new B([i[0],i[1],i[2],255],"rgb"),m=["to right",Zn(a),Zn(p)];this.colorElem_.style.background=`linear-gradient(${m.join(",")})`,this.previewElem_.style.backgroundColor=Zn(t);const y=Q(i[3],0,1,0,100);this.markerElem_.style.left=`${y}%`}onValueChange_(){this.update_()}}class yu{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new wu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ge(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=t.point.x/t.bounds.width,p=this.value.rawValue,[m,y,T]=p.getComponents("hsv");this.value.setRawValue(new B([m,y,T,a],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=pt(ye(!0),Kt(t));if(i===0)return;const a=this.value.rawValue,[p,m,y,T]=a.getComponents("hsv");this.value.setRawValue(new B([p,m,y,T+i],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){pt(ye(!0),Kt(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Fe=P("coltxt");function xu(r){const t=r.createElement("select"),i=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(i.reduce((a,p)=>{const m=r.createElement("option");return m.textContent=p.text,m.value=p.value,a.appendChild(m),a},r.createDocumentFragment())),t}class Cu{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Fe());const a=t.createElement("div");a.classList.add(Fe("m")),this.modeElem_=xu(t),this.modeElem_.classList.add(Fe("ms")),a.appendChild(this.modeSelectElement);const p=t.createElement("div");p.classList.add(Fe("mm")),p.appendChild(Fn(t,"dropdown")),a.appendChild(p),this.element.appendChild(a);const m=t.createElement("div");m.classList.add(Fe("w")),this.element.appendChild(m),this.textsElem_=m,this.textViews_=i.textViews,this.applyTextViews_(),S(i.colorMode,y=>{this.modeElem_.value=y})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){Xr(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(i=>{const a=t.createElement("div");a.classList.add(Fe("c")),a.appendChild(i.element),this.textsElem_.appendChild(a)})}}const Pu=ht(0),Eu={rgb:()=>new mt({min:0,max:255}),hsl:r=>r===0?new mt({min:0,max:360}):new mt({min:0,max:100}),hsv:r=>r===0?new mt({min:0,max:360}):new mt({min:0,max:100})};function zi(r,t,i){return new mn(r,{arrayPosition:i===0?"fst":i===3-1?"lst":"mid",baseStep:ye(!1),parser:t.parser,props:D.fromObject({draggingScale:1,formatter:Pu}),value:F(0,{constraint:Eu[t.colorMode](i)}),viewProps:t.viewProps})}class ku{constructor(t,i){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=i.parser,this.value=i.value,this.viewProps=i.viewProps,this.colorMode=F(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Cu(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const i={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},a=[zi(t,i,0),zi(t,i,1),zi(t,i,2)];return a.forEach((p,m)=>{_n({primary:this.value,secondary:p.value,forward:y=>y.rawValue.getComponents(this.colorMode.rawValue)[m],backward:(y,T)=>{const R=this.colorMode.rawValue,I=y.rawValue.getComponents(R);return I[m]=T.rawValue,new B(ks(Be(I),I[3]),R)}})}),a}onModeSelectChange_(t){const i=t.currentTarget;this.colorMode.rawValue=i.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const ji=P("hpl");class Su{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(ji()),i.viewProps.bindTabIndex(this.element);const a=t.createElement("div");a.classList.add(ji("c")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add(ji("m")),this.element.appendChild(p),this.markerElem_=p,this.update_()}update_(){const t=this.value.rawValue,[i]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Ts(new B([i,100,100],"hsv"));const a=Q(i,0,360,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class Vu{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Su(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ge(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=Q(W(t.point.x,0,t.bounds.width),0,t.bounds.width,0,359),p=this.value.rawValue,[,m,y,T]=p.getComponents("hsv");this.value.setRawValue(new B([a,m,y,T],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=pt(ye(!1),Kt(t));if(i===0)return;const a=this.value.rawValue,[p,m,y,T]=a.getComponents("hsv");this.value.setRawValue(new B([p+i,m,y,T],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){pt(ye(!1),Kt(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ki=P("svp"),Ms=64;class Tu{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ki()),i.viewProps.bindTabIndex(this.element);const a=t.createElement("canvas");a.height=Ms,a.width=Ms,a.classList.add(Ki("c")),this.element.appendChild(a),this.canvasElement=a;const p=t.createElement("div");p.classList.add(Ki("m")),this.element.appendChild(p),this.markerElem_=p,this.update_()}update_(){const t=Fa(this.canvasElement);if(!t)return;const a=this.value.rawValue.getComponents("hsv"),p=this.canvasElement.width,m=this.canvasElement.height,y=t.getImageData(0,0,p,m),T=y.data;for(let z=0;z<m;z++)for(let j=0;j<p;j++){const xe=Q(j,0,p,0,100),yn=Q(z,0,m,100,0),xn=Es(a[0],xe,yn),Ke=(z*p+j)*4;T[Ke]=xn[0],T[Ke+1]=xn[1],T[Ke+2]=xn[2],T[Ke+3]=255}t.putImageData(y,0,0);const R=Q(a[1],0,100,0,100);this.markerElem_.style.left=`${R}%`;const I=Q(a[2],0,100,100,0);this.markerElem_.style.top=`${I}%`}onValueChange_(){this.update_()}}class Au{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new Tu(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ge(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=Q(t.point.x,0,t.bounds.width,0,100),p=Q(t.point.y,0,t.bounds.height,100,0),[m,,,y]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new B([m,a,p,y],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){ys(t.key)&&t.preventDefault();const[i,a,p,m]=this.value.rawValue.getComponents("hsv"),y=ye(!1),T=pt(y,Kt(t)),R=pt(y,vn(t));T===0&&R===0||this.value.setRawValue(new B([i,a+T,p+R,m],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const i=ye(!1),a=pt(i,Kt(t)),p=pt(i,vn(t));a===0&&p===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Mu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.hPaletteC_=new Vu(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Au(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=i.supportsAlpha?{palette:new yu(t,{value:this.value,viewProps:this.viewProps}),text:new mn(t,{parser:jt,baseStep:.1,props:D.fromObject({draggingScale:.01,formatter:ht(2)}),value:F(0,{constraint:new mt({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&_n({primary:this.value,secondary:this.alphaIcs_.text.value,forward:a=>a.rawValue.getComponents()[3],backward:(a,p)=>{const m=a.rawValue.getComponents();return m[3]=p.rawValue,new B(m,a.rawValue.mode)}}),this.textC_=new ku(t,{parser:jt,value:this.value,viewProps:this.viewProps}),this.view=new du(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:i.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const $i=P("colsw");class Ou{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.element=t.createElement("div"),this.element.classList.add($i()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("div");a.classList.add($i("sw")),this.element.appendChild(a),this.swatchElem_=a;const p=t.createElement("button");p.classList.add($i("b")),i.viewProps.bindDisabled(p),this.element.appendChild(p),this.buttonElement=p,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Qn(t)}onValueChange_(){this.update_()}}class Lu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Ou(t,{value:this.value,viewProps:this.viewProps})}}class Hi{constructor(t,i){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=an.create(i.expanded),this.swatchC_=new Lu(t,{value:this.value,viewProps:this.viewProps});const a=this.swatchC_.view.buttonElement;a.addEventListener("blur",this.onButtonBlur_),a.addEventListener("click",this.onButtonClick_),this.textC_=new Kn(t,{parser:i.parser,props:D.fromObject({formatter:i.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new ru(t,{foldable:this.foldable_,pickerLayout:i.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=i.pickerLayout==="popup"?new hs(t,{viewProps:this.viewProps}):null;const p=new Mu(t,{supportsAlpha:i.supportsAlpha,value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(m=>{m.addEventListener("blur",this.onPopupChildBlur_),m.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(p.view.element),_n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:m=>m.rawValue,backward:(m,y)=>y.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),bi(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,a=t.relatedTarget;(!a||!i.contains(a))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,a=Wr(t);a&&i.contains(a)||a&&a===this.swatchC_.view.buttonElement&&!mi(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Du(r){return B.isColorObject(r)?B.fromObject(r):B.black()}function Ru(r){return Be(r.getComponents("rgb")).reduce((t,i)=>t<<8|Math.floor(i)&255,0)}function Iu(r){return r.getComponents("rgb").reduce((t,i,a)=>{const p=Math.floor(a===3?i*255:i)&255;return t<<8|p},0)>>>0}function Nu(r){return new B([r>>16&255,r>>8&255,r&255],"rgb")}function Bu(r){return new B([r>>24&255,r>>16&255,r>>8&255,Q(r&255,0,255,0,1)],"rgb")}function Fu(r){return typeof r!="number"?B.black():Nu(r)}function Uu(r){return typeof r!="number"?B.black():Bu(r)}function zu(r){const t=As(r);return(i,a)=>{bn(i,t(a))}}function ju(r){const t=r?Iu:Ru;return(i,a)=>{bn(i,t(a))}}function Ku(r,t){const i=t.toRgbaObject();r.writeProperty("r",i.r),r.writeProperty("g",i.g),r.writeProperty("b",i.b),r.writeProperty("a",i.a)}function $u(r,t){const i=t.toRgbaObject();r.writeProperty("r",i.r),r.writeProperty("g",i.g),r.writeProperty("b",i.b)}function Hu(r){return r?Ku:$u}function qi(r){return"alpha"in r&&r.alpha===!0}function qu(r){return r?t=>Qn(t,"0x"):t=>Ui(t,"0x")}const Yu={id:"input-color-number",type:"input",accept:(r,t)=>{if(typeof r!="number"||!("view"in t)||t.view!=="color")return null;const i=Bi(t);return i?{initialValue:r,params:i}:null},binding:{reader:r=>qi(r.params)?Uu:Fu,equals:B.equals,writer:r=>ju(qi(r.params))},controller:r=>{const t=qi(r.params),i="expanded"in r.params?r.params.expanded:void 0,a="picker"in r.params?r.params.picker:void 0;return new Hi(r.document,{expanded:i!=null?i:!1,formatter:qu(t),parser:Wn,pickerLayout:a!=null?a:"popup",supportsAlpha:t,value:r.value,viewProps:r.viewProps})}};function Gu(r){return B.isRgbaColorObject(r)}const Xu={id:"input-color-object",type:"input",accept:(r,t)=>{if(!B.isColorObject(r))return null;const i=Bi(t);return i?{initialValue:r,params:i}:null},binding:{reader:r=>Du,equals:B.equals,writer:r=>Hu(Gu(r.initialValue))},controller:r=>{const t=B.isRgbaColorObject(r.initialValue),i="expanded"in r.params?r.params.expanded:void 0,a="picker"in r.params?r.params.picker:void 0,p=t?Qn:Ui;return new Hi(r.document,{expanded:i!=null?i:!1,formatter:p,parser:Wn,pickerLayout:a!=null?a:"popup",supportsAlpha:t,value:r.value,viewProps:r.viewProps})}},Wu={id:"input-color-string",type:"input",accept:(r,t)=>{if(typeof r!="string"||"view"in t&&t.view==="text"||!Xn(r))return null;const a=Bi(t);return a?{initialValue:r,params:a}:null},binding:{reader:r=>vu,equals:B.equals,writer:r=>{const t=Xn(r.initialValue);if(!t)throw v.shouldNeverHappen();return zu(t)}},controller:r=>{const t=Xn(r.initialValue);if(!t)throw v.shouldNeverHappen();const i=As(t),a="expanded"in r.params?r.params.expanded:void 0,p="picker"in r.params?r.params.picker:void 0;return new Hi(r.document,{expanded:a!=null?a:!1,formatter:i,parser:Wn,pickerLayout:p!=null?p:"popup",supportsAlpha:_u(t),value:r.value,viewProps:r.viewProps})}};class Jt{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const i=this.asm_.toComponents(t).map((a,p)=>{var m,y;return(y=(m=this.components[p])===null||m===void 0?void 0:m.constrain(a))!==null&&y!==void 0?y:a});return this.asm_.fromComponents(i)}}const Os=P("pndtxt");class Qu{constructor(t,i){this.textViews=i.textViews,this.element=t.createElement("div"),this.element.classList.add(Os()),this.textViews.forEach(a=>{const p=t.createElement("div");p.classList.add(Os("a")),p.appendChild(a.element),this.element.appendChild(p)})}}function Zu(r,t,i){return new mn(r,{arrayPosition:i===0?"fst":i===t.axes.length-1?"lst":"mid",baseStep:t.axes[i].baseStep,parser:t.parser,props:t.axes[i].textProps,value:F(0,{constraint:t.axes[i].constraint}),viewProps:t.viewProps})}class Yi{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.acs_=i.axes.map((a,p)=>Zu(t,i,p)),this.acs_.forEach((a,p)=>{_n({primary:this.value,secondary:a.value,forward:m=>i.assembly.toComponents(m.rawValue)[p],backward:(m,y)=>{const T=i.assembly.toComponents(m.rawValue);return T[p]=y.rawValue,i.assembly.fromComponents(T)}})}),this.view=new Qu(t,{textViews:this.acs_.map(a=>a.view)})}}function Ju(r){return"step"in r&&!_(r.step)?new be(r.step):null}function tc(r){return"max"in r&&!_(r.max)||"min"in r&&!_(r.min)?new mt({max:r.max,min:r.min}):null}function ec(r){const t=[],i=Ju(r);i&&t.push(i);const a=tc(r);a&&t.push(a);const p=Ii(r.options);return p&&t.push(p),new me(t)}function nc(r){const t=r?It(r,mt):null;return t?[t.minValue,t.maxValue]:[void 0,void 0]}function ic(r){const[t,i]=nc(r);return[t!=null?t:0,i!=null?i:100]}const rc={id:"input-number",type:"input",accept:(r,t)=>{if(typeof r!="number")return null;const i=K,a=$(t,{format:i.optional.function,max:i.optional.number,min:i.optional.number,options:i.optional.custom(Hn),step:i.optional.number});return a?{initialValue:r,params:a}:null},binding:{reader:r=>bs,constraint:r=>ec(r.params),writer:r=>bn},controller:r=>{var t,i;const a=r.value,p=r.constraint;if(p&&It(p,hn))return new pn(r.document,{props:D.fromObject({options:(t=Ni(p))!==null&&t!==void 0?t:[]}),value:a,viewProps:r.viewProps});const m=(i="format"in r.params?r.params.format:void 0)!==null&&i!==void 0?i:ht(qn(p,a.rawValue));if(p&&It(p,mt)){const[y,T]=ic(p);return new Ri(r.document,{baseStep:Ie(p),parser:jt,sliderProps:D.fromObject({maxValue:T,minValue:y}),textProps:D.fromObject({draggingScale:Ne(p,a.rawValue),formatter:m}),value:a,viewProps:r.viewProps})}return new mn(r.document,{baseStep:Ie(p),parser:jt,props:D.fromObject({draggingScale:Ne(p,a.rawValue),formatter:m}),value:a,viewProps:r.viewProps})}};class te{constructor(t=0,i=0){this.x=t,this.y=i}getComponents(){return[this.x,this.y]}static isObject(t){if(_(t))return!1;const i=t.x,a=t.y;return!(typeof i!="number"||typeof a!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y}toObject(){return{x:this.x,y:this.y}}}const Ls={toComponents:r=>r.getComponents(),fromComponents:r=>new te(...r)},Ue=P("p2d");class sc{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Ue()),i.viewProps.bindClassModifiers(this.element),S(i.expanded,O(this.element,Ue(void 0,"expanded")));const a=t.createElement("div");a.classList.add(Ue("h")),this.element.appendChild(a);const p=t.createElement("button");p.classList.add(Ue("b")),p.appendChild(Fn(t,"p2dpad")),i.viewProps.bindDisabled(p),a.appendChild(p),this.buttonElement=p;const m=t.createElement("div");if(m.classList.add(Ue("t")),a.appendChild(m),this.textElement=m,i.pickerLayout==="inline"){const y=t.createElement("div");y.classList.add(Ue("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}const ee=P("p2dp");class oc{constructor(t,i){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=i.invertsY,this.maxValue_=i.maxValue,this.element=t.createElement("div"),this.element.classList.add(ee()),i.layout==="popup"&&this.element.classList.add(ee(void 0,"p"));const a=t.createElement("div");a.classList.add(ee("p")),i.viewProps.bindTabIndex(a),this.element.appendChild(a),this.padElement=a;const p=t.createElementNS(Dt,"svg");p.classList.add(ee("g")),this.padElement.appendChild(p),this.svgElem_=p;const m=t.createElementNS(Dt,"line");m.classList.add(ee("ax")),m.setAttributeNS(null,"x1","0"),m.setAttributeNS(null,"y1","50%"),m.setAttributeNS(null,"x2","100%"),m.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(m);const y=t.createElementNS(Dt,"line");y.classList.add(ee("ax")),y.setAttributeNS(null,"x1","50%"),y.setAttributeNS(null,"y1","0"),y.setAttributeNS(null,"x2","50%"),y.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(y);const T=t.createElementNS(Dt,"line");T.classList.add(ee("l")),T.setAttributeNS(null,"x1","50%"),T.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(T),this.lineElem_=T;const R=t.createElement("div");R.classList.add(ee("m")),this.padElement.appendChild(R),this.markerElem_=R,i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,i]=this.value.rawValue.getComponents(),a=this.maxValue_,p=Q(t,-a,+a,0,100),m=Q(i,-a,+a,0,100),y=this.invertsY_?100-m:m;this.lineElem_.setAttributeNS(null,"x2",`${p}%`),this.lineElem_.setAttributeNS(null,"y2",`${y}%`),this.markerElem_.style.left=`${p}%`,this.markerElem_.style.top=`${y}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Ds(r,t,i){return[pt(t[0],Kt(r)),pt(t[1],vn(r))*(i?1:-1)]}class ac{constructor(t,i){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.baseSteps_=i.baseSteps,this.maxValue_=i.maxValue,this.invertsY_=i.invertsY,this.view=new oc(t,{invertsY:this.invertsY_,layout:i.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ge(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const a=this.maxValue_,p=Q(t.point.x,0,t.bounds.width,-a,+a),m=Q(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-a,+a);this.value.setRawValue(new te(p,m),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){ys(t.key)&&t.preventDefault();const[i,a]=Ds(t,this.baseSteps_,this.invertsY_);i===0&&a===0||this.value.setRawValue(new te(this.value.rawValue.x+i,this.value.rawValue.y+a),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[i,a]=Ds(t,this.baseSteps_,this.invertsY_);i===0&&a===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class lc{constructor(t,i){var a,p;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=an.create(i.expanded),this.popC_=i.pickerLayout==="popup"?new hs(t,{viewProps:this.viewProps}):null;const m=new ac(t,{baseSteps:[i.axes[0].baseStep,i.axes[1].baseStep],invertsY:i.invertsY,layout:i.pickerLayout,maxValue:i.maxValue,value:this.value,viewProps:this.viewProps});m.view.allFocusableElements.forEach(y=>{y.addEventListener("blur",this.onPopupChildBlur_),y.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=m,this.textC_=new Yi(t,{assembly:Ls,axes:i.axes,parser:i.parser,value:this.value,viewProps:this.viewProps}),this.view=new sc(t,{expanded:this.foldable_.value("expanded"),pickerLayout:i.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(a=this.view.buttonElement)===null||a===void 0||a.addEventListener("blur",this.onPadButtonBlur_),(p=this.view.buttonElement)===null||p===void 0||p.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),_n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:y=>y.rawValue,backward:(y,T)=>T.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),bi(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,a=t.relatedTarget;(!a||!i.contains(a))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,a=Wr(t);a&&i.contains(a)||a&&a===this.view.buttonElement&&!mi(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function uc(r){return te.isObject(r)?new te(r.x,r.y):new te}function cc(r,t){r.writeProperty("x",t.x),r.writeProperty("y",t.y)}function Rs(r){if(!r)return;const t=[];return _(r.step)||t.push(new be(r.step)),(!_(r.max)||!_(r.min))&&t.push(new mt({max:r.max,min:r.min})),new me(t)}function hc(r){return new Jt({assembly:Ls,components:[Rs("x"in r?r.x:void 0),Rs("y"in r?r.y:void 0)]})}function Is(r,t){const i=r&&It(r,mt);if(i)return Math.max(Math.abs(i.minValue||0),Math.abs(i.maxValue||0));const a=Ie(r);return Math.max(Math.abs(a)*10,Math.abs(t)*10)}function pc(r,t){const i=t instanceof Jt?t.components[0]:void 0,a=t instanceof Jt?t.components[1]:void 0,p=Is(i,r.x),m=Is(a,r.y);return Math.max(p,m)}function Ns(r,t){return{baseStep:Ie(t),constraint:t,textProps:D.fromObject({draggingScale:Ne(t,r),formatter:ht(qn(t,r))})}}function dc(r){if(!("y"in r))return!1;const t=r.y;return t&&"inverted"in t?!!t.inverted:!1}const fc={id:"input-point2d",type:"input",accept:(r,t)=>{if(!te.isObject(r))return null;const i=K,a=$(t,{expanded:i.optional.boolean,picker:i.optional.custom(Cs),x:i.optional.custom(Qt),y:i.optional.object({inverted:i.optional.boolean,max:i.optional.number,min:i.optional.number,step:i.optional.number})});return a?{initialValue:r,params:a}:null},binding:{reader:r=>uc,constraint:r=>hc(r.params),equals:te.equals,writer:r=>cc},controller:r=>{const t=r.document,i=r.value,a=r.constraint;if(!(a instanceof Jt))throw v.shouldNeverHappen();const p="expanded"in r.params?r.params.expanded:void 0,m="picker"in r.params?r.params.picker:void 0;return new lc(t,{axes:[Ns(i.rawValue.x,a.components[0]),Ns(i.rawValue.y,a.components[1])],expanded:p!=null?p:!1,invertsY:dc(r.params),maxValue:pc(i.rawValue,a),parser:jt,pickerLayout:m!=null?m:"popup",value:i,viewProps:r.viewProps})}};class ze{constructor(t=0,i=0,a=0){this.x=t,this.y=i,this.z=a}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(_(t))return!1;const i=t.x,a=t.y,p=t.z;return!(typeof i!="number"||typeof a!="number"||typeof p!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Bs={toComponents:r=>r.getComponents(),fromComponents:r=>new ze(...r)};function _c(r){return ze.isObject(r)?new ze(r.x,r.y,r.z):new ze}function vc(r,t){r.writeProperty("x",t.x),r.writeProperty("y",t.y),r.writeProperty("z",t.z)}function Gi(r){if(!r)return;const t=[];return _(r.step)||t.push(new be(r.step)),(!_(r.max)||!_(r.min))&&t.push(new mt({max:r.max,min:r.min})),new me(t)}function mc(r){return new Jt({assembly:Bs,components:[Gi("x"in r?r.x:void 0),Gi("y"in r?r.y:void 0),Gi("z"in r?r.z:void 0)]})}function Xi(r,t){return{baseStep:Ie(t),constraint:t,textProps:D.fromObject({draggingScale:Ne(t,r),formatter:ht(qn(t,r))})}}const bc={id:"input-point3d",type:"input",accept:(r,t)=>{if(!ze.isObject(r))return null;const i=K,a=$(t,{x:i.optional.custom(Qt),y:i.optional.custom(Qt),z:i.optional.custom(Qt)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>_c,constraint:r=>mc(r.params),equals:ze.equals,writer:r=>vc},controller:r=>{const t=r.value,i=r.constraint;if(!(i instanceof Jt))throw v.shouldNeverHappen();return new Yi(r.document,{assembly:Bs,axes:[Xi(t.rawValue.x,i.components[0]),Xi(t.rawValue.y,i.components[1]),Xi(t.rawValue.z,i.components[2])],parser:jt,value:t,viewProps:r.viewProps})}};class je{constructor(t=0,i=0,a=0,p=0){this.x=t,this.y=i,this.z=a,this.w=p}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(_(t))return!1;const i=t.x,a=t.y,p=t.z,m=t.w;return!(typeof i!="number"||typeof a!="number"||typeof p!="number"||typeof m!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z&&t.w===i.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Fs={toComponents:r=>r.getComponents(),fromComponents:r=>new je(...r)};function gc(r){return je.isObject(r)?new je(r.x,r.y,r.z,r.w):new je}function wc(r,t){r.writeProperty("x",t.x),r.writeProperty("y",t.y),r.writeProperty("z",t.z),r.writeProperty("w",t.w)}function Jn(r){if(!r)return;const t=[];return _(r.step)||t.push(new be(r.step)),(!_(r.max)||!_(r.min))&&t.push(new mt({max:r.max,min:r.min})),new me(t)}function yc(r){return new Jt({assembly:Fs,components:[Jn("x"in r?r.x:void 0),Jn("y"in r?r.y:void 0),Jn("z"in r?r.z:void 0),Jn("w"in r?r.w:void 0)]})}function xc(r,t){return{baseStep:Ie(t),constraint:t,textProps:D.fromObject({draggingScale:Ne(t,r),formatter:ht(qn(t,r))})}}const Cc={id:"input-point4d",type:"input",accept:(r,t)=>{if(!je.isObject(r))return null;const i=K,a=$(t,{x:i.optional.custom(Qt),y:i.optional.custom(Qt),z:i.optional.custom(Qt),w:i.optional.custom(Qt)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>gc,constraint:r=>yc(r.params),equals:je.equals,writer:r=>wc},controller:r=>{const t=r.value,i=r.constraint;if(!(i instanceof Jt))throw v.shouldNeverHappen();return new Yi(r.document,{assembly:Fs,axes:t.rawValue.getComponents().map((a,p)=>xc(a,i.components[p])),parser:jt,value:t,viewProps:r.viewProps})}};function Pc(r){const t=[],i=Ii(r.options);return i&&t.push(i),new me(t)}const Ec={id:"input-string",type:"input",accept:(r,t)=>{if(typeof r!="string")return null;const a=$(t,{options:K.optional.custom(Hn)});return a?{initialValue:r,params:a}:null},binding:{reader:r=>gs,constraint:r=>Pc(r.params),writer:r=>bn},controller:r=>{var t;const i=r.document,a=r.value,p=r.constraint;return p&&It(p,hn)?new pn(i,{props:D.fromObject({options:(t=Ni(p))!==null&&t!==void 0?t:[]}),value:a,viewProps:r.viewProps}):new Kn(i,{parser:m=>m,props:D.fromObject({formatter:Ai}),value:a,viewProps:r.viewProps})}},wn={monitor:{defaultInterval:200,defaultLineCount:3}},Us=P("mll");class kc{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(Us()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("textarea");a.classList.add(Us("i")),a.style.height=`calc(var(--bld-us) * ${i.lineCount})`,a.readOnly=!0,i.viewProps.bindDisabled(a),this.element.appendChild(a),this.textareaElem_=a,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.textareaElem_,i=t.scrollTop===t.scrollHeight-t.clientHeight,a=[];this.value.rawValue.forEach(p=>{p!==void 0&&a.push(this.formatter_(p))}),t.textContent=a.join(`
`),i&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class Wi{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new kc(t,{formatter:i.formatter,lineCount:i.lineCount,value:this.value,viewProps:this.viewProps})}}const zs=P("sgl");class Sc{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(zs()),i.viewProps.bindClassModifiers(this.element);const a=t.createElement("input");a.classList.add(zs("i")),a.readOnly=!0,a.type="text",i.viewProps.bindDisabled(a),this.element.appendChild(a),this.inputElement=a,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.value.rawValue,i=t[t.length-1];this.inputElement.value=i!==void 0?this.formatter_(i):""}onValueUpdate_(){this.update_()}}class Qi{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new Sc(t,{formatter:i.formatter,value:this.value,viewProps:this.viewProps})}}const Vc={id:"monitor-bool",type:"monitor",accept:(r,t)=>{if(typeof r!="boolean")return null;const a=$(t,{lineCount:K.optional.number});return a?{initialValue:r,params:a}:null},binding:{reader:r=>ds},controller:r=>{var t;return r.value.rawValue.length===1?new Qi(r.document,{formatter:fs,value:r.value,viewProps:r.viewProps}):new Wi(r.document,{formatter:fs,lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:wn.monitor.defaultLineCount,value:r.value,viewProps:r.viewProps})}};class Tc{constructor(){this.emitter=new x,this.index_=-1}get index(){return this.index_}set index(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}const ne=P("grl");class Ac{constructor(t,i){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(ne()),i.viewProps.bindClassModifiers(this.element),this.formatter_=i.formatter,this.minValue_=i.minValue,this.maxValue_=i.maxValue,this.cursor_=i.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const a=t.createElementNS(Dt,"svg");a.classList.add(ne("g")),a.style.height=`calc(var(--bld-us) * ${i.lineCount})`,this.element.appendChild(a),this.svgElem_=a;const p=t.createElementNS(Dt,"polyline");this.svgElem_.appendChild(p),this.lineElem_=p;const m=t.createElement("div");m.classList.add(ne("t"),P("tt")()),this.element.appendChild(m),this.tooltipElem_=m,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),i=this.value.rawValue.length-1,a=this.minValue_,p=this.maxValue_,m=[];this.value.rawValue.forEach((z,j)=>{if(z===void 0)return;const xe=Q(j,0,i,0,t.width),yn=Q(z,a,p,t.height,0);m.push([xe,yn].join(","))}),this.lineElem_.setAttributeNS(null,"points",m.join(" "));const y=this.tooltipElem_,T=this.value.rawValue[this.cursor_.index];if(T===void 0){y.classList.remove(ne("t","a"));return}const R=Q(this.cursor_.index,0,i,0,t.width),I=Q(T,a,p,t.height,0);y.style.left=`${R}px`,y.style.top=`${I}px`,y.textContent=`${this.formatter_(T)}`,y.classList.contains(ne("t","a"))||(y.classList.add(ne("t","a"),ne("t","in")),Bn(y),y.classList.remove(ne("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Mc{constructor(t,i){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.cursor_=new Tc,this.view=new Ac(t,{cursor:this.cursor_,formatter:i.formatter,lineCount:i.lineCount,maxValue:i.maxValue,minValue:i.minValue,value:this.value,viewProps:this.viewProps}),!mi(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const a=new ge(this.view.element);a.emitter.on("down",this.onGraphPointerDown_),a.emitter.on("move",this.onGraphPointerMove_),a.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(t){const i=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Q(t.offsetX,0,i.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Q(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function Zi(r){return"format"in r&&!_(r.format)?r.format:ht(2)}function Oc(r){var t;return r.value.rawValue.length===1?new Qi(r.document,{formatter:Zi(r.params),value:r.value,viewProps:r.viewProps}):new Wi(r.document,{formatter:Zi(r.params),lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:wn.monitor.defaultLineCount,value:r.value,viewProps:r.viewProps})}function Lc(r){var t,i,a;return new Mc(r.document,{formatter:Zi(r.params),lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:wn.monitor.defaultLineCount,maxValue:(i="max"in r.params?r.params.max:null)!==null&&i!==void 0?i:100,minValue:(a="min"in r.params?r.params.min:null)!==null&&a!==void 0?a:0,value:r.value,viewProps:r.viewProps})}function js(r){return"view"in r&&r.view==="graph"}const Dc={id:"monitor-number",type:"monitor",accept:(r,t)=>{if(typeof r!="number")return null;const i=K,a=$(t,{format:i.optional.function,lineCount:i.optional.number,max:i.optional.number,min:i.optional.number,view:i.optional.string});return a?{initialValue:r,params:a}:null},binding:{defaultBufferSize:r=>js(r)?64:1,reader:r=>bs},controller:r=>js(r.params)?Lc(r):Oc(r)},Rc={id:"monitor-string",type:"monitor",accept:(r,t)=>{if(typeof r!="string")return null;const i=K,a=$(t,{lineCount:i.optional.number,multiline:i.optional.boolean});return a?{initialValue:r,params:a}:null},binding:{reader:r=>gs},controller:r=>{var t;const i=r.value;return i.rawValue.length>1||"multiline"in r.params&&r.params.multiline?new Wi(r.document,{formatter:Ai,lineCount:(t=r.params.lineCount)!==null&&t!==void 0?t:wn.monitor.defaultLineCount,value:i,viewProps:r.viewProps}):new Qi(r.document,{formatter:Ai,value:i,viewProps:r.viewProps})}};class Ic{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new x,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function Nc(r,t){const i=r.accept(t.target.read(),t.params);if(_(i))return null;const a=K,p={target:t.target,initialValue:i.initialValue,params:i.params},m=r.binding.reader(p),y=r.binding.constraint?r.binding.constraint(p):void 0,T=F(m(i.initialValue),{constraint:y,equals:r.binding.equals}),R=new Ic({reader:m,target:t.target,value:T,writer:r.binding.writer(p)}),I=a.optional.boolean(t.params.disabled).value,z=a.optional.boolean(t.params.hidden).value,j=r.controller({constraint:y,document:t.document,initialValue:i.initialValue,params:i.params,value:R.value,viewProps:Wt.create({disabled:I,hidden:z})}),xe=a.optional.string(t.params.label).value;return new Rt(t.document,{binding:R,blade:on(),props:D.fromObject({label:xe||t.target.key}),valueController:j})}class Bc{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new x,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const i=this.value.rawValue,a=this.reader_(t);this.value.rawValue=Yl(i,a),this.emitter.emit("update",{rawValue:a,sender:this})}onTick_(t){this.read()}}function Fc(r,t){return t===0?new hl:new pl(r,t!=null?t:wn.monitor.defaultInterval)}function Uc(r,t){var i,a,p;const m=K,y=r.accept(t.target.read(),t.params);if(_(y))return null;const T={target:t.target,initialValue:y.initialValue,params:y.params},R=r.binding.reader(T),I=(a=(i=m.optional.number(t.params.bufferSize).value)!==null&&i!==void 0?i:r.binding.defaultBufferSize&&r.binding.defaultBufferSize(y.params))!==null&&a!==void 0?a:1,z=m.optional.number(t.params.interval).value,j=new Bc({reader:R,target:t.target,ticker:Fc(t.document,z),value:Hl(I)}),xe=m.optional.boolean(t.params.disabled).value,yn=m.optional.boolean(t.params.hidden).value,xn=r.controller({document:t.document,params:y.params,value:j.value,viewProps:Wt.create({disabled:xe,hidden:yn})}),Ke=(p=m.optional.string(t.params.label).value)!==null&&p!==void 0?p:t.target.key;return new Xt(t.document,{binding:j,blade:on(),props:D.fromObject({label:Ke}),valueController:xn})}class zc{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,i,a){const p=i.read();if(_(p))throw new v({context:{key:i.key},type:"nomatchingcontroller"});const m=this.pluginsMap_.inputs.reduce((y,T)=>y||Nc(T,{document:t,target:i,params:a}),null);if(m)return m;throw new v({context:{key:i.key},type:"nomatchingcontroller"})}createMonitor(t,i,a){const p=this.pluginsMap_.monitors.reduce((m,y)=>m||Uc(y,{document:t,params:a,target:i}),null);if(p)return p;throw new v({context:{key:i.key},type:"nomatchingcontroller"})}createBlade(t,i){const a=this.pluginsMap_.blades.reduce((p,m)=>p||cl(m,{document:t,params:i}),null);if(!a)throw new v({type:"nomatchingview",context:{params:i}});return a}createBladeApi(t){if(t instanceof Rt)return new yi(t);if(t instanceof Xt)return new xi(t);if(t instanceof un)return new zn(t,this);const i=this.pluginsMap_.blades.reduce((a,p)=>a||p.api({controller:t,pool:this}),null);if(!i)throw v.shouldNeverHappen();return i}}function jc(){const r=new zc;return[fc,bc,Cc,Ec,rc,Wu,Xu,Yu,iu,Vc,Rc,Dc,Ka,il,sl,us].forEach(t=>{r.register(t)}),r}class Ks extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}class $s extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}class Hs extends o{constructor(t){super(t),this.emitter_=new x,this.controller_.valueController.value.emitter.on("change",i=>{this.emitter_.emit("change",{event:new c(this,i.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,i){const a=i.bind(this);return this.emitter_.on(t,p=>{a(p.event)}),this}}const Kc=function(){return{id:"list",type:"blade",accept(r){const t=K,i=$(r,{options:t.required.custom(Hn),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return i?{params:i}:null},controller(r){const t=new pn(r.document,{props:D.fromObject({options:Ps(r.params.options)}),value:F(r.params.value),viewProps:r.viewProps});return new Re(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:t})},api(r){return!(r.controller instanceof Re)||!(r.controller.valueController instanceof pn)?null:new Ks(r.controller)}}}();function $c(r){return r.reduce((t,i)=>Object.assign(t,{[i.presetKey]:i.read()}),{})}function Hc(r,t){r.forEach(i=>{const a=t[i.presetKey];a!==void 0&&i.write(a)})}class qc extends Ci{constructor(t,i){super(t,i)}get element(){return this.controller_.view.element}importPreset(t){const i=this.controller_.rackController.rack.find(Rt).map(a=>a.binding.target);Hc(i,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(Rt).map(i=>i.binding.target);return $c(t)}refresh(){this.controller_.rackController.rack.find(Rt).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(Xt).forEach(t=>{t.binding.read()})}}class Yc extends ki{constructor(t,i){super(t,{expanded:i.expanded,blade:i.blade,props:i.props,root:!0,viewProps:i.viewProps})}}const Gc={id:"slider",type:"blade",accept(r){const t=K,i=$(r,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return i?{params:i}:null},controller(r){var t,i;const a=(t=r.params.value)!==null&&t!==void 0?t:0,p=new Ri(r.document,{baseStep:1,parser:jt,sliderProps:D.fromObject({maxValue:r.params.max,minValue:r.params.min}),textProps:D.fromObject({draggingScale:Ne(void 0,a),formatter:(i=r.params.format)!==null&&i!==void 0?i:Kl}),value:F(a),viewProps:r.viewProps});return new Re(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:p})},api(r){return!(r.controller instanceof Re)||!(r.controller.valueController instanceof Ri)?null:new $s(r.controller)}},Xc=function(){return{id:"text",type:"blade",accept(r){const t=K,i=$(r,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return i?{params:i}:null},controller(r){var t;const i=new Kn(r.document,{parser:r.params.parse,props:D.fromObject({formatter:(t=r.params.format)!==null&&t!==void 0?t:a=>String(a)}),value:F(r.params.value),viewProps:r.viewProps});return new Re(r.document,{blade:r.blade,props:D.fromObject({label:r.params.label}),valueController:i})},api(r){return!(r.controller instanceof Re)||!(r.controller.valueController instanceof Kn)?null:new Hs(r.controller)}}}();function Wc(r){const t=r.createElement("div");return t.classList.add(P("dfw")()),r.body&&r.body.appendChild(t),t}function qs(r,t,i){if(r.querySelector(`style[data-tp-style=${t}]`))return;const a=r.createElement("style");a.dataset.tpStyle=t,a.textContent=i,r.head.appendChild(a)}class Qc extends qc{constructor(t){var i;const a=t||{},p=(i=a.document)!==null&&i!==void 0?i:Ba(),m=jc(),y=new Yc(p,{expanded:a.expanded,blade:on(),props:D.fromObject({title:a.title}),viewProps:Wt.create()});super(y,m),this.pool_=m,this.containerElem_=a.container||Wc(p),this.containerElem_.appendChild(this.element),this.doc_=p,this.usesDefaultWrapper_=!a.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw v.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw v.alreadyDisposed();if(this.usesDefaultWrapper_){const i=t.parentElement;i&&i.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(a=>{this.pool_.register(a),this.embedPluginStyle_(a)})}embedPluginStyle_(t){t.css&&qs(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){qs(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[Gc,Kc,us,Xc]})}}const Zc=new s("3.0.8");n.BladeApi=o,n.ButtonApi=b,n.FolderApi=Ci,n.InputBindingApi=yi,n.ListApi=Ks,n.MonitorBindingApi=xi,n.Pane=Qc,n.SeparatorApi=es,n.SliderApi=$s,n.TabApi=as,n.TabPageApi=os,n.TextApi=Hs,n.TpChangeEvent=c,n.VERSION=Zc,Object.defineProperty(n,"__esModule",{value:!0})})})(lo,lo.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wr=function(u,e){return wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},wr(u,e)};function _e(u,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wr(u,e);function n(){this.constructor=u}u.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function lp(u,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(_){try{d(s.next(_))}catch(g){c(g)}}function f(_){try{d(s.throw(_))}catch(g){c(g)}}function d(_){_.done?l(_.value):o(_.value).then(h,f)}d((s=s.apply(u,e||[])).next())})}function _a(u,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(_){return f([d,_])}}function f(d){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(l=d[0]&2?o.return:d[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,d[1])).done)return l;switch(o=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){n.label=d[1];break}if(d[0]===6&&n.label<l[1]){n.label=l[1],l=d;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(d);break}l[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(u,n)}catch(_){d=[6,_],o=0}finally{s=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function nn(u){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&u[e],s=0;if(n)return n.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(u,e){var n=typeof Symbol=="function"&&u[Symbol.iterator];if(!n)return u;var s=n.call(u),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return l}function Oe(u,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return u.concat(l||Array.prototype.slice.call(e))}function We(u){return this instanceof We?(this.v=u,this):new We(u)}function up(u,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(u,e||[]),o,l=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(w){s[w]&&(o[w]=function(v){return new Promise(function(C,b){l.push([w,v,C,b])>1||h(w,v)})})}function h(w,v){try{f(s[w](v))}catch(C){g(l[0][3],C)}}function f(w){w.value instanceof We?Promise.resolve(w.value.v).then(d,_):g(l[0][2],w)}function d(w){h("next",w)}function _(w){h("throw",w)}function g(w,v){w(v),l.shift(),l.length&&h(l[0][0],l[0][1])}}function cp(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=u[Symbol.asyncIterator],n;return e?e.call(u):(u=typeof nn=="function"?nn(u):u[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=u[l]&&function(c){return new Promise(function(h,f){c=u[l](c),o(h,f,c.done,c.value)})}}function o(l,c,h,f){Promise.resolve(f).then(function(d){l({value:d,done:h})},c)}}function G(u){return typeof u=="function"}function Fr(u){var e=function(s){Error.call(s),s.stack=new Error().stack},n=u(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ar=Fr(function(u){return function(n){u(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function di(u,e){if(u){var n=u.indexOf(e);0<=n&&u.splice(n,1)}}var Nn=function(){function u(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return u.prototype.unsubscribe=function(){var e,n,s,o,l;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var h=nn(c),f=h.next();!f.done;f=h.next()){var d=f.value;d.remove(this)}}catch(b){e={error:b}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}else c.remove(this);var _=this.initialTeardown;if(G(_))try{_()}catch(b){l=b instanceof ar?b.errors:[b]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var w=nn(g),v=w.next();!v.done;v=w.next()){var C=v.value;try{uo(C)}catch(b){l=l!=null?l:[],b instanceof ar?l=Oe(Oe([],de(l)),de(b.errors)):l.push(b)}}}catch(b){s={error:b}}finally{try{v&&!v.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}}if(l)throw new ar(l)}},u.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)uo(e);else{if(e instanceof u){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},u.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},u.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},u.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&di(n,e)},u.prototype.remove=function(e){var n=this._finalizers;n&&di(n,e),e instanceof u&&e._removeParent(this)},u.EMPTY=function(){var e=new u;return e.closed=!0,e}(),u}(),va=Nn.EMPTY;function ma(u){return u instanceof Nn||u&&"closed"in u&&G(u.remove)&&G(u.add)&&G(u.unsubscribe)}function uo(u){G(u)?u():u.unsubscribe()}var Ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yr={setTimeout:function(u,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=yr.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Oe([u,e],de(n))):setTimeout.apply(void 0,Oe([u,e],de(n)))},clearTimeout:function(u){var e=yr.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(u)},delegate:void 0};function ba(u){yr.setTimeout(function(){throw u})}function xr(){}var ei=null;function ri(u){if(Ur.useDeprecatedSynchronousErrorHandling){var e=!ei;if(e&&(ei={errorThrown:!1,error:null}),u(),e){var n=ei,s=n.errorThrown,o=n.error;if(ei=null,s)throw o}}else u()}var zr=function(u){_e(e,u);function e(n){var s=u.call(this)||this;return s.isStopped=!1,n?(s.destination=n,ma(n)&&n.add(s)):s.destination=fp,s}return e.create=function(n,s,o){return new Cr(n,s,o)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,u.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Nn),hp=Function.prototype.bind;function lr(u,e){return hp.call(u,e)}var pp=function(){function u(e){this.partialObserver=e}return u.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(s){ni(s)}},u.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(s){ni(s)}else ni(e)},u.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){ni(n)}},u}(),Cr=function(u){_e(e,u);function e(n,s,o){var l=u.call(this)||this,c;if(G(n)||!n)c={next:n!=null?n:void 0,error:s!=null?s:void 0,complete:o!=null?o:void 0};else{var h;l&&Ur.useDeprecatedNextContext?(h=Object.create(n),h.unsubscribe=function(){return l.unsubscribe()},c={next:n.next&&lr(n.next,h),error:n.error&&lr(n.error,h),complete:n.complete&&lr(n.complete,h)}):c=n}return l.destination=new pp(c),l}return e}(zr);function ni(u){ba(u)}function dp(u){throw u}var fp={closed:!0,next:xr,error:dp,complete:xr},jr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Kr(u){return u}function _p(u){return u.length===0?Kr:u.length===1?u[0]:function(n){return u.reduce(function(s,o){return o(s)},n)}}var xt=function(){function u(e){e&&(this._subscribe=e)}return u.prototype.lift=function(e){var n=new u;return n.source=this,n.operator=e,n},u.prototype.subscribe=function(e,n,s){var o=this,l=mp(e)?e:new Cr(e,n,s);return ri(function(){var c=o,h=c.operator,f=c.source;l.add(h?h.call(l,f):f?o._subscribe(l):o._trySubscribe(l))}),l},u.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},u.prototype.forEach=function(e,n){var s=this;return n=co(n),new n(function(o,l){var c=new Cr({next:function(h){try{e(h)}catch(f){l(f),c.unsubscribe()}},error:l,complete:o});s.subscribe(c)})},u.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},u.prototype[jr]=function(){return this},u.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return _p(e)(this)},u.prototype.toPromise=function(e){var n=this;return e=co(e),new e(function(s,o){var l;n.subscribe(function(c){return l=c},function(c){return o(c)},function(){return s(l)})})},u.create=function(e){return new u(e)},u}();function co(u){var e;return(e=u!=null?u:Ur.Promise)!==null&&e!==void 0?e:Promise}function vp(u){return u&&G(u.next)&&G(u.error)&&G(u.complete)}function mp(u){return u&&u instanceof zr||vp(u)&&ma(u)}function bp(u){return G(u==null?void 0:u.lift)}function Mt(u){return function(e){if(bp(e))return e.lift(function(n){try{return u(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(u,e,n,s,o){return new gp(u,e,n,s,o)}var gp=function(u){_e(e,u);function e(n,s,o,l,c,h){var f=u.call(this,n)||this;return f.onFinalize=c,f.shouldUnsubscribe=h,f._next=s?function(d){try{s(d)}catch(_){n.error(_)}}:u.prototype._next,f._error=l?function(d){try{l(d)}catch(_){n.error(_)}finally{this.unsubscribe()}}:u.prototype._error,f._complete=o?function(){try{o()}catch(d){n.error(d)}finally{this.unsubscribe()}}:u.prototype._complete,f}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;u.prototype.unsubscribe.call(this),!s&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(zr),wp=Fr(function(u){return function(){u(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yp=function(u){_e(e,u);function e(){var n=u.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var s=new ho(this,this);return s.operator=n,s},e.prototype._throwIfClosed=function(){if(this.closed)throw new wp},e.prototype.next=function(n){var s=this;ri(function(){var o,l;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var c=nn(s.currentObservers),h=c.next();!h.done;h=c.next()){var f=h.value;f.next(n)}}catch(d){o={error:d}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}}})},e.prototype.error=function(n){var s=this;ri(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},e.prototype.complete=function(){var n=this;ri(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),u.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var s=this,o=this,l=o.hasError,c=o.isStopped,h=o.observers;return l||c?va:(this.currentObservers=null,h.push(n),new Nn(function(){s.currentObservers=null,di(h,n)}))},e.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,l=s.thrownError,c=s.isStopped;o?n.error(l):c&&n.complete()},e.prototype.asObservable=function(){var n=new xt;return n.source=this,n},e.create=function(n,s){return new ho(n,s)},e}(xt),ho=function(u){_e(e,u);function e(n,s){var o=u.call(this)||this;return o.destination=n,o.source=s,o}return e.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},e.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},e.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},e.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:va},e}(yp),ga={now:function(){return(ga.delegate||Date).now()},delegate:void 0},xp=function(u){_e(e,u);function e(n,s){return u.call(this)||this}return e.prototype.schedule=function(n,s){return s===void 0&&(s=0),this},e}(Nn),fi={setInterval:function(u,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=fi.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Oe([u,e],de(n))):setInterval.apply(void 0,Oe([u,e],de(n)))},clearInterval:function(u){var e=fi.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(u)},delegate:void 0},Cp=function(u){_e(e,u);function e(n,s){var o=u.call(this,n,s)||this;return o.scheduler=n,o.work=s,o.pending=!1,o}return e.prototype.schedule=function(n,s){var o;if(s===void 0&&(s=0),this.closed)return this;this.state=n;var l=this.id,c=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(c,l,s)),this.pending=!0,this.delay=s,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(c,this.id,s),this},e.prototype.requestAsyncId=function(n,s,o){return o===void 0&&(o=0),fi.setInterval(n.flush.bind(n,this),o)},e.prototype.recycleAsyncId=function(n,s,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return s;s!=null&&fi.clearInterval(s)},e.prototype.execute=function(n,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,s);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,s){var o=!1,l;try{this.work(n)}catch(c){o=!0,l=c||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),l},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,s=n.id,o=n.scheduler,l=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,di(l,this),s!=null&&(this.id=this.recycleAsyncId(o,s,null)),this.delay=null,u.prototype.unsubscribe.call(this)}},e}(xp),po=function(){function u(e,n){n===void 0&&(n=u.now),this.schedulerActionCtor=e,this.now=n}return u.prototype.schedule=function(e,n,s){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(s,n)},u.now=ga.now,u}(),Pp=function(u){_e(e,u);function e(n,s){s===void 0&&(s=po.now);var o=u.call(this,n,s)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(n){var s=this.actions;if(this._active){s.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=s.shift());if(this._active=!1,o){for(;n=s.shift();)n.unsubscribe();throw o}},e}(po),Ep=new Pp(Cp),kp=new xt(function(u){return u.complete()}),$r=function(u){return u&&typeof u.length=="number"&&typeof u!="function"};function wa(u){return G(u==null?void 0:u.then)}function ya(u){return G(u[jr])}function xa(u){return Symbol.asyncIterator&&G(u==null?void 0:u[Symbol.asyncIterator])}function Ca(u){return new TypeError("You provided "+(u!==null&&typeof u=="object"?"an invalid object":"'"+u+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Sp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pa=Sp();function Ea(u){return G(u==null?void 0:u[Pa])}function ka(u){return up(this,arguments,function(){var n,s,o,l;return _a(this,function(c){switch(c.label){case 0:n=u.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,We(n.read())];case 3:return s=c.sent(),o=s.value,l=s.done,l?[4,We(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,We(o)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Sa(u){return G(u==null?void 0:u.getReader)}function ve(u){if(u instanceof xt)return u;if(u!=null){if(ya(u))return Vp(u);if($r(u))return Tp(u);if(wa(u))return Ap(u);if(xa(u))return Va(u);if(Ea(u))return Mp(u);if(Sa(u))return Op(u)}throw Ca(u)}function Vp(u){return new xt(function(e){var n=u[jr]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tp(u){return new xt(function(e){for(var n=0;n<u.length&&!e.closed;n++)e.next(u[n]);e.complete()})}function Ap(u){return new xt(function(e){u.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,ba)})}function Mp(u){return new xt(function(e){var n,s;try{for(var o=nn(u),l=o.next();!l.done;l=o.next()){var c=l.value;if(e.next(c),e.closed)return}}catch(h){n={error:h}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}e.complete()})}function Va(u){return new xt(function(e){Lp(u,e).catch(function(n){return e.error(n)})})}function Op(u){return Va(ka(u))}function Lp(u,e){var n,s,o,l;return lp(this,void 0,void 0,function(){var c,h;return _a(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=cp(u),f.label=1;case 1:return[4,n.next()];case 2:if(s=f.sent(),!!s.done)return[3,4];if(c=s.value,e.next(c),e.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=f.sent(),o={error:h},[3,11];case 6:return f.trys.push([6,,9,10]),s&&!s.done&&(l=n.return)?[4,l.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ue(u,e,n,s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var l=e.schedule(function(){n(),o?u.add(this.schedule(null,s)):this.unsubscribe()},s);if(u.add(l),!o)return l}function Ta(u,e){return e===void 0&&(e=0),Mt(function(n,s){n.subscribe(Ct(s,function(o){return ue(s,u,function(){return s.next(o)},e)},function(){return ue(s,u,function(){return s.complete()},e)},function(o){return ue(s,u,function(){return s.error(o)},e)}))})}function Aa(u,e){return e===void 0&&(e=0),Mt(function(n,s){s.add(u.schedule(function(){return n.subscribe(s)},e))})}function Dp(u,e){return ve(u).pipe(Aa(e),Ta(e))}function Rp(u,e){return ve(u).pipe(Aa(e),Ta(e))}function Ip(u,e){return new xt(function(n){var s=0;return e.schedule(function(){s===u.length?n.complete():(n.next(u[s++]),n.closed||this.schedule())})})}function Np(u,e){return new xt(function(n){var s;return ue(n,e,function(){s=u[Pa](),ue(n,e,function(){var o,l,c;try{o=s.next(),l=o.value,c=o.done}catch(h){n.error(h);return}c?n.complete():n.next(l)},0,!0)}),function(){return G(s==null?void 0:s.return)&&s.return()}})}function Ma(u,e){if(!u)throw new Error("Iterable cannot be null");return new xt(function(n){ue(n,e,function(){var s=u[Symbol.asyncIterator]();ue(n,e,function(){s.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Bp(u,e){return Ma(ka(u),e)}function Fp(u,e){if(u!=null){if(ya(u))return Dp(u,e);if($r(u))return Ip(u,e);if(wa(u))return Rp(u,e);if(xa(u))return Ma(u,e);if(Ea(u))return Np(u,e);if(Sa(u))return Bp(u,e)}throw Ca(u)}function nd(u,e){return e?Fp(u,e):ve(u)}var Oa=Fr(function(u){return function(){u(this),this.name="EmptyError",this.message="no elements in sequence"}});function La(u,e){return Mt(function(n,s){var o=0;n.subscribe(Ct(s,function(l){s.next(u.call(e,l,o++))}))})}var Up=Array.isArray;function zp(u,e){return Up(e)?u.apply(void 0,Oe([],de(e))):u(e)}function jp(u){return La(function(e){return zp(u,e)})}function Kp(u,e,n,s,o,l,c,h){var f=[],d=0,_=0,g=!1,w=function(){g&&!f.length&&!d&&e.complete()},v=function(b){return d<s?C(b):f.push(b)},C=function(b){l&&e.next(b),d++;var x=!1;ve(n(b,_++)).subscribe(Ct(e,function(E){o==null||o(E),l?v(E):e.next(E)},function(){x=!0},void 0,function(){if(x)try{d--;for(var E=function(){var P=f.shift();c?ue(e,c,function(){return C(P)}):C(P)};f.length&&d<s;)E();w()}catch(P){e.error(P)}}))};return u.subscribe(Ct(e,v,function(){g=!0,w()})),function(){h==null||h()}}function Da(u,e,n){return n===void 0&&(n=1/0),G(e)?Da(function(s,o){return La(function(l,c){return e(s,l,o,c)})(ve(u(s,o)))},n):(typeof e=="number"&&(n=e),Mt(function(s,o){return Kp(s,o,u,n)}))}var $p=["addListener","removeListener"],Hp=["addEventListener","removeEventListener"],qp=["on","off"];function fo(u,e,n,s){if(G(n)&&(s=n,n=void 0),s)return fo(u,e,n).pipe(jp(s));var o=de(Xp(u)?Hp.map(function(h){return function(f){return u[h](e,f,n)}}):Yp(u)?$p.map(_o(u,e)):Gp(u)?qp.map(_o(u,e)):[],2),l=o[0],c=o[1];if(!l&&$r(u))return Da(function(h){return fo(h,e,n)})(ve(u));if(!l)throw new TypeError("Invalid event target");return new xt(function(h){var f=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];return h.next(1<d.length?d:d[0])};return l(f),function(){return c(f)}})}function _o(u,e){return function(n){return function(s){return u[n](e,s)}}}function Yp(u){return G(u.addListener)&&G(u.removeListener)}function Gp(u){return G(u.on)&&G(u.off)}function Xp(u){return G(u.addEventListener)&&G(u.removeEventListener)}function Wp(u,e){return Mt(function(n,s){var o=0;n.subscribe(Ct(s,function(l){return u.call(e,l,o++)&&s.next(l)}))})}function id(u,e){return e===void 0&&(e=Ep),Mt(function(n,s){var o=null,l=null,c=null,h=function(){if(o){o.unsubscribe(),o=null;var d=l;l=null,s.next(d)}};function f(){var d=c+u,_=e.now();if(_<d){o=this.schedule(void 0,d-_),s.add(o);return}h()}n.subscribe(Ct(s,function(d){l=d,c=e.now(),o||(o=e.schedule(f,u),s.add(o))},function(){h(),s.complete()},void 0,function(){l=o=null}))})}function Qp(u){return Mt(function(e,n){var s=!1;e.subscribe(Ct(n,function(o){s=!0,n.next(o)},function(){s||n.next(u),n.complete()}))})}function Zp(u){return u<=0?function(){return kp}:Mt(function(e,n){var s=0;e.subscribe(Ct(n,function(o){++s<=u&&(n.next(o),u<=s&&n.complete())}))})}function Jp(u){return u===void 0&&(u=td),Mt(function(e,n){var s=!1;e.subscribe(Ct(n,function(o){s=!0,n.next(o)},function(){return s?n.complete():n.error(u())}))})}function td(){return new Oa}function rd(u,e){var n=arguments.length>=2;return function(s){return s.pipe(u?Wp(function(o,l){return u(o,l,s)}):Kr,Zp(1),n?Qp(e):Jp(function(){return new Oa}))}}function sd(u,e){return Mt(function(n,s){var o=null,l=0,c=!1,h=function(){return c&&!o&&s.complete()};n.subscribe(Ct(s,function(f){o==null||o.unsubscribe();var d=0,_=l++;ve(u(f,_)).subscribe(o=Ct(s,function(g){return s.next(e?e(f,g,_,d++):g)},function(){o=null,h()}))},function(){c=!0,h()}))})}function od(u){return Mt(function(e,n){ve(u).subscribe(Ct(n,function(){return n.complete()},xr)),!n.closed&&e.subscribe(n)})}function ad(u,e,n){var s=G(u)||e||n?{next:u,error:e,complete:n}:u;return s?Mt(function(o,l){var c;(c=s.subscribe)===null||c===void 0||c.call(s);var h=!0;o.subscribe(Ct(l,function(f){var d;(d=s.next)===null||d===void 0||d.call(s,f),l.next(f)},function(){var f;h=!1,(f=s.complete)===null||f===void 0||f.call(s),l.complete()},function(f){var d;h=!1,(d=s.error)===null||d===void 0||d.call(s,f),l.error(f)},function(){var f,d;h&&((f=s.unsubscribe)===null||f===void 0||f.call(s)),(d=s.finalize)===null||d===void 0||d.call(s)}))}):Kr}export{yp as S,rd as a,ed as b,da as c,id as d,ad as e,fo as f,ap as g,od as h,nd as i,sd as s,lo as t};
